(function(){var H=window.cb||{},ja={};H.J=function(){};H.J.extend=function(a){function b(){}function c(){this.j&&this.j.apply(this,arguments)}b.prototype=this.prototype;var d=new b;d.constructor=c;c.prototype=d;for(var f in this)this.hasOwnProperty(f)&&"prototype"!==f&&(c[f]=this[f]);a.st&&(H.extend(c,a.st),delete a.st);a.Sa&&(H.extend.apply(null,[d].concat(a.Sa)),delete a.Sa);a.h&&d.h&&(a.h=H.extend({},d.h,a.h));H.extend(d,a);a.toString&&(d.toString=a.toString);c.Wg=this.prototype;return c};
H.J.vc=function(a){H.extend(this.prototype,a)};H.extend=function(a){var b=Array.prototype.slice.call(arguments,1),c,d,f,g;d=0;for(f=b.length;d<f;d+=1)for(c in g=b[d]||{},g)Object.prototype.hasOwnProperty.call(g,c)&&("function"===typeof g[c]&&"function"===typeof a[c]&&(g[c].ta=a[c]),a[c]=g[c]);return a};H.J.Rd=function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];this.prototype[b]&&(this.prototype[c]=this.prototype[b])}};H.R={a:function(a,b,c,d,f){if(this.tc(a,b,c||this))return this;var g=this.ge=this.ge||{};g[a]=g[a]||[];f?g[a].unshift({gb:b,rg:c||this,Dh:d}):g[a].push({gb:b,rg:c||this,Dh:d});return this},tc:function(a,b,c){var d=this.ge;if(b&&c){if(d&&a in d&&d[a])for(var f=0;f<d[a].length;f+=1)if(d[a][f].gb===b&&d[a][f].rg===c)return!0;return!1}return d&&a in d&&d[a]&&0<d[a].length},u:function(a,b,c){if(!this.tc(a))return this;var d=this.ge;if(d&&d[a])for(var f=0;f<d[a].length;f+=1)if(!(d[a][f].gb!==b&&"mv"!==
b||c&&d[a][f].rg!==c)){d[a].splice(f,1);d[a].length||delete d[a];break}return this},k:function(a,b){if(!this.tc(a))return this;for(var c=H.extend({type:a},b),d=[].concat(this.ge[a]),f=0;f<d.length;f+=1)d[f].gb&&(d[f].gb.call(d[f].rg||this,c),d[f].Dh&&this.ge[a]&&this.ge[a].splice(f,1));return this},ui:function(a){a?this.ge&&this.ge[a]&&(this.ge[a]=null):this.ge=null;return this}};H.R.on||(H.R.on=H.R.a);H.R.off||(H.R.off=H.R.u);H.R.emit||(H.R.emit=H.R.k);H.Yb={set:function(a,b,c){var d=this.qd;if(d&&d[a]){var d=d[a],f="set"+this.zr(a);d[f]?(d[f](b,c),c||this.uk(a,b)):d.set(a,b,c)}else(this.bd=this.bd||{})[a]=b,c||this.uk(a,b)},zr:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},get:function(a,b,c){var d,f=this.qd;d="get"+this.zr(a);if(f&&f[a])return c=f[a],c[d]?c[d](b):c.get(a,b);if(this[d]&&!c)return this[d](b);if(this.bd&&this.bd.hasOwnProperty(a))return this.bd[a]},C:function(a,b,c){this.qd||(this.qd={});this.qd[a]!==b&&(b.a(a,function(b){this.uk(a,
b)},this),this.qd[a]=b,c||this.uk(a))},fc:function(a,b,c){for(var d=0;d<a.length;d+=1)this.C(a[d],b,!c)},Mk:function(a){this.qd&&this.qd[a]&&(this.qd[a].u(a,"mv",this),delete this.qd[a])},Tn:function(){if(this.qd)for(var a in this.qd)this.qd.hasOwnProperty(a)&&this.Mk(a)},uk:function(a,b){if(this[a+"Changed"])this[a+"Changed"](b);else this.Jq&&this.Jq();this.k(a,b)},ME:function(a,b,c){var d=new (H.J.extend({Sa:[H.R,H.Yb]}));d.Jq=function(){for(var b=!0,f=0;f<a.length;f+=1)d.get(a[f])||(b=!1);b&&(d.Tn(),
c())};for(var f=0;f<a.length;f+=1)d.C(a[f],b)},Yd:function(a){var b,c;for(b in a)a.hasOwnProperty(b)&&(c=a[b],this.set(b,c))}};H.q={Di:4.007501668557849E7,cC:function(a,b){for(var c=Math.ceil(b.length/8),d=0;d<c;d+=1){var f=8*d,g=f+8;g>b.length&&(g=b.length);for(;f<g;f+=1)a(b[f])}},Ja:function(a,b,c,d){c=a[b].i[c];if("undefined"===typeof c)return null;a=a[b].s;if("number"===typeof c)return a[c];for(;"undefined"===typeof c[d.toString()]&&!(d-=1,3>d););d=c[d.toString()];return"number"===typeof d?a[d]:null},ng:function(a){for(var b=[],c=0,d=a.length;c<d;c+=2)b.push(parseInt(a.substr(c,2),16));b.push(b.shift()/255);return"rgba("+
b.join(",")+")"},Xm:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},tg:function(a,b){return 0>b?a:a.slice(0,b).concat(a.slice(b+1,a.length))},indexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c+=1)if(a[c]===b)return c;return-1},bind:function(a,b){var c=2<arguments.length?Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(b,c||arguments)}},wa:function(a,b){b=b||{};a.h=H.extend({},a.h,b);return a.h},ir:function(){return!1},
vz:function(a,b){return(a||"")+Math.round(Math.random()*Math.pow(10,b||6))},Ya:function(){var a=0;return function(b){b._amap_id||(a+=1,b._amap_id=a);return b._amap_id}}(),dr:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Ci:Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},RE:function(a,b,c,d){var f;if(d){var g=0,h,k=this.Ci;f=function(){h=k();if(h-g<b)return!1;g=h;a.apply(c,arguments)}}else{var l,m,n;n=function(){l=!1;m&&(f.apply(c,m),m=!1)};f=function(){l?
m=arguments:(l=!0,a.apply(c,arguments),setTimeout(n,b))}}return f},yi:function(a,b){return Number(Number(a).toFixed(b||0))},isArray:function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)},tt:function(a){var b=0;if(0===a.length)return b;for(var c,d=0,f=a.length;d<f;d+=1)c=a.charCodeAt(d),b=(b<<5)-b+c,b&=b;return b},qs:function(a){return"undefined"!==typeof JSON&&JSON.stringify?H.q.tt(JSON.stringify(a)):null},HF:function(a,b){if(b||!a.hasOwnProperty("_amap_hash")){var c=
H.q.qs(a);c&&(a._amap_hash=c)}return a._amap_hash},iepngFix:function(a){function b(){for(var a;c.length;)a=c.shift(),window.DD_belatedPNG.fixPng(a);d.Ym=!0}this.Gs||(this.Gs=[],this.Ym=!1);var c=this.Gs,d=this;if("img"===a.tagName.toLowerCase())c.push(a);else{a=a.getElementsByTagName("*");for(var f=0;f<a.length;f+=1)c.push(a[f])}window.DD_belatedPNG&&this.Ym?setTimeout(function(){b()},100):this.Ym||H.$c.load("AMap.FixPng",b)}};
(function(){function a(a){var b,c,d=["webkit","moz","o","ms"];for(b=0;b<d.length&&!c;b+=1)c=window[d[b]+a];return c}function b(a){var b=+new Date,d=Math.max(0,16-(b-c));c=b+d;return window.setTimeout(a,d)}var c=0,d=window.requestAnimationFrame||a("RequestAnimationFrame")||b,f=window.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};H.q.Gh=function(a,b,c){a=H.q.bind(a,b);if(c)a();else return d.call(window,a,void 0)};H.q.Hq=function(a){a&&
f.call(window,a)}})();H.d={get:function(a){return"string"===typeof a?document.getElementById(a):a},Ja:function(a,b){var c=a.style[b];!c&&a.currentStyle&&(c=a.currentStyle[b]);c&&"auto"!==c||!document.defaultView||(c=(c=document.defaultView.getComputedStyle(a,null))?c[b]:null);c&&"auto"!==c||"height"!==b||(c=a.clientHeight+"px");c&&"auto"!==c||"width"!==b||(c=a.clientWidth+"px");return"auto"===c?null:c},ck:function(a){return new H.Pc(a.clientWidth||document.body.clientWidth,a.clientHeight||(H.g.ue?"CSS1Compat"===document.compatMode?
document.documentElement.clientHeight:document.body.clientHeight:document.body.clientHeight),!0)},Oz:function(a){var b=0,c=0,d=a,f=document.body,g=document.documentElement,h,k=H.g.Gi;do{b+=d.offsetTop||0;c+=d.offsetLeft||0;b+=parseInt(H.d.Ja(d,"borderTopWidth"),10)||0;c+=parseInt(H.d.Ja(d,"borderLeftWidth"),10)||0;h=H.d.Ja(d,"position");if(d.offsetParent===f&&"absolute"===h)break;if("fixed"===h){b+=f.scrollTop||g.scrollTop||0;c+=f.scrollLeft||g.scrollLeft||0;break}d=d.offsetParent}while(d);d=a;do{if(d===
f)break;b-=d.scrollTop||0;c-=d.scrollLeft||0;H.d.az()||!H.g.PC&&!k||(c+=d.scrollWidth-d.clientWidth,k&&"hidden"!==H.d.Ja(d,"overflow-y")&&"hidden"!==H.d.Ja(d,"overflow")&&(c+=17));d=d.parentNode}while(d);return new H.F(c,b)},az:function(){H.d.ov||(H.d.ov=!0,H.d.nv="ltr"===H.d.Ja(document.body,"direction"));return H.d.nv},create:function(a,b,c){a=document.createElement(a);c&&(a.className=c);b&&b.appendChild(a);return a},Zq:function(){document.selection&&document.selection.empty&&document.selection.empty();
this.Qw||(this.Qw=document.onselectstart,document.onselectstart=H.q.ir)},er:function(){},Tz:function(a,b){return 0<a.className.length&&RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},kg:function(a,b){H.d.Tz(a,b)||(a.className+=(a.className?" ":"")+b)},Gg:function(a,b){a.className=a.className.replace(/(\S+)\s*/g,function(a,d){return d===b?"":a}).replace(/(^\s+|\s+$)/,"")},Cz:function(a,b){return 1===b?"":"opacity"in a.style?"opacity:"+b:8<=document.documentMode?"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(opacity="+
Math.ceil(100*b)+")'":"filter:alpha(opacity="+Math.ceil(100*b)+")"},Ih:function(a,b){"opacity"in a.style?a.style.opacity=b:"filter"in a.style&&(b=Math.round(100*b),a.style.filter="",100!==b&&(a.style.filter=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b+")"))},Qn:function(a){for(var b=document.documentElement.style,c=0;c<a.length;c+=1)if(a[c]in b)return a[c];return!1},yr:function(a){var b=H.g.QC;return"translate"+(b?"3d":"")+"("+a.x+"px,"+a.y+"px"+((b?",0":"")+")")},xE:function(a,b){return H.d.yr(b.add(b.Wa(-1*
a)))+(" scale("+a+") ")},Zi:function(a,b,c){a.$l=b;!c&&H.g.iy?(b=H.d.yr(b),c=a.style[H.d.Ib].split("rotate"),1<c.length?(c[0]=b,a.style[H.d.Ib]=c.join("rotate")):a.style[H.d.Ib]=b,H.g.EA&&(a.style.WebkitBackfaceVisibility="hidden")):(a.style.left=b.x+"px",a.style.top=b.y+"px")},Bi:function(a){a.$l||(a.$l=a.style.left?new H.F(parseInt(a.style.left),parseInt(a.style.top)):new H.F(0,0));return a.$l},BF:function(a,b){a=a instanceof Array?a:[a];for(var c=0;c<a.length;c+=1)a[c].style.cssText=b},N:function(a,
b){a=a instanceof Array?a:[a];for(var c=0;c<a.length;c+=1)for(var d in b)b.hasOwnProperty(d)&&(a[c].style[d]=b[d]);return this},zB:function(a){for(;a.childNodes.length;)a.removeChild(a.childNodes[0])},remove:function(a){a.parentNode&&a.parentNode.removeChild(a)},rotate:function(a,b,c){var d=H.d.Ib;c=c||{x:a.clientWidth/2,y:a.clientHeight/2};if(d){var f;f=""+(" translate("+(c.x-a.clientWidth/2)+"px,"+(c.y-a.clientHeight/2)+"px)");f=f+(" rotate("+b+"deg)")+(" translate("+(a.clientWidth/2-c.x)+"px,"+
(a.clientHeight/2-c.y)+"px)");a.style[d]=f}else d=Math.cos(b*Math.PI/180),b=Math.sin(b*Math.PI/180),a.style.filter="progid:DXImageTransform.Microsoft.Matrix()",0<a.filters.length&&(a=a.filters.item(0),a.ZC=-c.x*d+c.y*b+c.x,a.$C=-c.x*b-c.y*d+c.y,a.M11=a.M22=d,a.M12=-(a.M21=b))},Hz:function(a,b,c){var d=H.d.Ib;c=c||{x:a.clientWidth/2,y:a.clientHeight/2};if(d){var f;f=""+(" translate("+(c.x-a.clientWidth/2)+"px,"+(c.y-a.clientHeight/2)+"px)");f=f+(" rotate("+b+"deg)")+(" translate("+(a.clientWidth/2-
c.x)+"px,"+(a.clientHeight/2-c.y)+"px)");return H.d.cj[d]+":"+f}return""},Xi:function(a,b,c){a.width=b;a.height=c;a.getContext("2d").clearRect(0,0,b,c)}};
(function(){var a=H.d.Qn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),b;H.extend(H.d,{Zq:function(){H.l.a(window,"selectstart",H.l.preventDefault);if(a){var c=document.documentElement.style;"none"!==c[a]&&(b=c[a],c[a]="none")}},er:function(){H.l.u(window,"selectstart",H.l.preventDefault);a&&"none"!==b&&(document.documentElement.style[a]=b,b="none")},Vy:function(){H.l.a(window,"dragstart",H.l.preventDefault)},fz:function(){H.l.u(window,"dragstart",H.l.preventDefault)}})})();
H.d.Ib=H.d.Qn(["WebkitTransform","OTransform","MozTransform","msTransform","transform"]);H.d.cj={transform:"transform",WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MozTransform:"-moz-transform",msTransform:"-ms-transform"};H.d.bl=H.d.Qn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);H.d.gD="webkitTransition"===H.d.bl||"OTransition"===H.d.bl?H.d.bl+"End":"transitionend";H.l={a:function(a,b,c,d){function f(b){return c.call(d||a,b||window.event,k)}var g=H.q.Ya(c),h=b+g;if(a[h])return this;var k=b;H.g.lr&&"mousewheel"===b&&(b="DOMMouseScroll");if(H.g.ue&&("mouseover"===b||"mouseout"===b)){var l=f;b="mouseover"===b?"mouseenter":"mouseleave";f=function(a){l(a)}}if(H.g.ks&&0===b.indexOf("touch"))return a[h]=f,this.cy(a,b,f,g);H.g.Za&&"dblclick"===b&&this.ay&&this.ay(a,f,g);"addEventListener"in a?a.addEventListener(b,f,!1):"attachEvent"in a?a.attachEvent("on"+b,f):a["on"+
b]=f;a[h]=f;return this},Dh:function(a,b,c,d){var f=this;this.a(a,b,function h(k){f.u(a,b,h);return c.call(d||a,k||window.event,b)},d)},u:function(a,b,c){c=H.q.Ya(c);var d=b+c,f=a[d];H.g.lr&&"mousewheel"===b&&(b="DOMMouseScroll");!H.g.ue||"mouseover"!==b&&"mouseout"!==b||(b="mouseover"===b?"mouseenter":"mouseleave");H.g.ks&&-1<b.indexOf("touch")?this.BB(a,b,c):H.g.Za&&"dblclick"===b&&this.AB?this.AB(a,c):"removeEventListener"in a?a.removeEventListener(b,f,!1):"detachEvent"in a&&-1===b.indexOf("touch")?
f&&a.detachEvent("on"+b,f):a["on"+b]=null;a[d]=null;return this},GF:function(a,b){var c=document.createEvent("MouseEvents");c.initMouseEvent(a,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(c)},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return this},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;return this},stop:function(a){return H.l.preventDefault(a).stopPropagation(a)},
aE:function(a){for(var b=H.l.stopPropagation,c=H.Wt.pu.length-1;0<=c;c-=1)H.l.a(a,H.Wt.pu[c],b);return H.l.a(a,"click",b).a(a,"dblclick",b)},Rc:function(a,b){var c=document.body,d=document.documentElement,c=new H.F(H.g.Za?a.pageX:a.clientX+(c.scrollLeft||d.scrollLeft),H.g.Za?a.pageY:a.clientY+(c.scrollTop||d.scrollTop));return b?c.sa(H.d.Oz(b)):c},$r:function(a){return 1===a.which||0===a.button||1===a.button}};H.extend(H.l,{Jl:[],pp:!1,cy:function(a,b,c,d){switch(b){case "touchstart":return this.fy(a,b,c,d);case "touchend":return this.dy(a,b,c,d);case "touchmove":return this.ey(a,b,c,d);default:throw"Unknown touch event type";}},fy:function(a,b,c,d){function f(a){for(var b=!1,d=0;d<g.length;d+=1)if(g[d].pointerId===a.pointerId){b=!0;break}b||g.push(a);a.touches=g.slice();a.changedTouches=[a];c(a)}var g=this.Jl;a["_amap_touchstart"+d]=f;a.addEventListener("MSPointerDown",f,!1);this.pp||(a=function(a){for(var b=
0;b<g.length;b+=1)if(g[b].pointerId===a.pointerId){g.splice(b,1);break}},document.documentElement.addEventListener("MSPointerUp",a,!1),document.documentElement.addEventListener("MSPointerCancel",a,!1),this.pp=!0);return this},ey:function(a,b,c,d){function f(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE||0!==a.buttons){for(var b=0;b<g.length;b+=1)if(g[b].pointerId===a.pointerId){g[b]=a;break}a.touches=g.slice();a.changedTouches=[a];c(a)}}var g=this.Jl;a["_amap_touchmove"+d]=f;a.addEventListener("MSPointerMove",
f,!1);return this},dy:function(a,b,c,d){function f(a){for(var b=0;b<g.length;b+=1)if(g[b].pointerId===a.pointerId){g.splice(b,1);break}a.touches=g.slice();a.changedTouches=[a];c(a)}var g=this.Jl;a["_amap_touchend"+d]=f;a.addEventListener("MSPointerUp",f,!1);a.addEventListener("MSPointerCancel",f,!1);return this},BB:function(a,b,c){c=a["_amap_"+b+c];switch(b){case "touchstart":a.removeEventListener("MSPointerDown",c,!1);break;case "touchmove":a.removeEventListener("MSPointerMove",c,!1);break;case "touchend":a.removeEventListener("MSPointerUp",
c,!1),a.removeEventListener("MSPointerCancel",c,!1)}return this}});H.ao={Sy:Math.PI/180,sB:180/Math.PI};H.o={localStorage:!0,Qh:"1.3.4#",key:"",mc:"http",Bq:[116.011934,39.661271,116.782984,40.216496],Db:"http://restapi.amap.com",ga:"http://webapi.amap.com",jk:"http://webrd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=[lang]&size=1&scale=1&style=8&x=[x]&y=[y]&z=[z]",En:"http://webst0{1,2,3,4}.is.autonavi.com/appmaptile?style=6&x=[x]&y=[y]&z=[z]",Cn:"http://webst0{1,2,3,4}.is.autonavi.com/appmaptile?x=[x]&y=[y]&z=[z]&lang=zh_cn&size=1&scale=1&style=8",Kk:"http://wprd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=[lang]&size=1&style=7&x=[x]&y=[y]&z=[z]",
Ae:"http://vector.amap.com",dF:"../dist/theme/"};function ka(a){H.o.ga=a[2].split(",")[0];H.o.mc=H.o.ga.split(":")[0];"https"===H.o.mc&&(H.o.Db=H.o.Db.replace("http","https"),H.o.jk=H.o.jk.replace("http","https"),H.o.En=H.o.En.replace("http","https"),H.o.Cn=H.o.Cn.replace("http","https"),H.o.Kk=H.o.Kk.replace("http","https"),H.o.Ae=H.o.Ae.replace("http","https"));H.o.mode=Number(a[3]);H.o.Bq=a[1];H.o.key=a[0];H.o.version=a[4];H.o.ti=a[5]}window.v2&&window.v2.__load__&&window.v2.__load__(ka);
"undefined"!==typeof module&&(module.Rd=H.o);H.$c={FA:H.o.ga+"/maps",Xq:{overlay:["style"],"AMap.MouseTool":["AMap.RangingTool","AMap.AutoPanby"],CloudDataLayer:["CloudDataSearch","UTFGrid"]},en:0,Ri:[],sg:{},ik:function(a,b){function c(){d+=1;d===f.length&&b()}for(var d=0,f=[],g=0;g<a.length;g+=1){var h=this.Xq[a[g]];if(h)for(var k=0;k<h.length;k+=1)f.push(h[k]);f.push(a[g])}for(g=0;g<f.length;g+=1)this.Am(f[g],c)},hA:function(a){for(var b=0;b<a.length;b+=1)if(1!==this.Yj(a[b]).status)return!1;return!0},Am:function(a,b){var c=this.Yj(a);if(1===
c.status)b();else{c.Vj.push(b);try{if(H.g.dn&&window.localStorage){var d=window.localStorage["_AMap_"+a];d&&(d=JSON.parse(d),d.version===H.o.Qh?window._jsload_(a,d.script,!0):window.localStorage.removeItem("_AMap_"+a))}}catch(f){}if(0===c.status){this.rB(a);var g=this;g.en||(g.en=1,window.setTimeout(function(){g.en=0;var a=g.FA+"/modules?v="+H.o.version+"&key="+H.o.key+"&m="+g.Ri.join(",");g.Ri=[];c.Ck=g.vA(a)},1));c.status=-1}}},load:function(a,b){var c=this.Xq[a];if(c){for(var d=[],f=0;f<c.length;f+=
1)d.push(c[f]);d.push(a);for(var g=0,c=function(){g+=1;g===d.length&&b()},f=0;f<d.length;f+=1)this.Am(d[f],c)}else this.Am(a,b)},rB:function(a){for(var b=0;b<this.Ri.length;b+=1)if(this.Ri[b]===a)return;this.Ri.push(a)},Jf:function(a,b){var c=this.Yj(a);try{eval(b)}catch(d){return}c.status=1;for(var f=0,g=c.Vj.length;f<g;f+=1)c.Vj[f]();c.Vj=[]},RD:function(a,b){var c=this;c.timeout=setTimeout(function(){1!==c.sg[a].status?(c.remove(a),c.load(a,b)):clearTimeout(c.timeout)},5E3)},Yj:function(a){this.sg[a]||
(this.sg[a]={},this.sg[a].status=0,this.sg[a].Vj=[]);return this.sg[a]},remove:function(a){delete this.sg[a]},vA:function(a){H.o.mode&&(a+="&mode="+H.o.mode);var b=document.createElement("script");b.charset="utf-8";b.src=a;document.body.appendChild(b);return b}};
window._jsload_=function(a,b,c){var d=H.$c.Yj(a);d.Ck&&H.q.indexOf(document.body.childNodes,d.Ck)&&document.body.removeChild(d.Ck);delete d.Ck;try{!c&&window.localStorage&&b&&""!==b&&H.g.dn&&window.localStorage.setItem("_AMap_"+a,JSON.stringify({script:b,version:H.o.Qh}))}catch(f){}H.$c.Jf(a,b)};H.A=H.J.extend({j:function(a,b,c){var d=parseFloat(b),f=parseFloat(a);if(isNaN(a)||isNaN(b))throw"Invalid Object: LngLat("+f+", "+d+")";!0!==c&&(d=Math.max(Math.min(d,90),-90),f=(f+180)%360+(-180>f||180===f?180:-180));this.B=d;this.r=f},Bz:function(){return H.q.yi(this.r,6)},zz:function(){return H.q.yi(this.B,6)},add:function(a,b){return new H.A(this.r+a.r,this.B+a.B,b)},sa:function(a,b){return new H.A(this.r-a.r,this.B-a.B,b)},Ta:function(a,b){return new H.A(this.r/a,this.B/a,b)},Wa:function(a,b){return new H.A(this.r*
a,this.B*a,b)},rc:function(a){if(!(a instanceof H.A))return!1;var b=Math.PI/180,c=Math.sin((a.B-this.B)*b/2),d=Math.sin((a.r-this.r)*b/2);a=c*c+d*d*Math.cos(this.B*b)*Math.cos(a.B*b);return 12756274*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))},offset:function(a,b){if(isNaN(a)||isNaN(b))return!1;var c=2*Math.asin(Math.sin(Math.round(a)/12756274)/Math.cos(this.B*Math.PI/180)),c=this.r+180*c/Math.PI,d=2*Math.asin(Math.round(b)/12756274);return new H.A(c,this.B+180*d/Math.PI)},Ba:function(a){return a instanceof
H.A?1E-9>=Math.max(Math.abs(this.B-a.B),Math.abs(this.r-a.r)):!1},toString:function(){return H.q.yi(this.r,6)+","+H.q.yi(this.B,6)},Ma:function(){return new H.A(this.r,this.B)}});
H.A.uz=function(a,b,c){c=c+1||Math.round(Math.abs(a.r-b.r));if(!c||0.0010>Math.abs(a.r-b.r))return[];var d=[],f=H.ao.Sy,g=H.ao.sB,h=Math.asin,k=Math.sqrt,l=Math.sin,m=Math.pow,n=Math.cos,p=Math.atan2,q=a.B*f;a=a.r*f;var r=b.B*f;b=b.r*f;for(var h=2*h(k(m(l((q-r)/2),2)+n(q)*n(r)*m(l((a-b)/2),2))),s,t,x,v,f=1;f<c;f+=1)s=1/c*f,t=l((1-s)*h)/l(h),x=l(s*h)/l(h),s=t*n(q)*n(a)+x*n(r)*n(b),v=t*n(q)*l(a)+x*n(r)*l(b),t=t*l(q)+x*l(r),t=p(t,k(m(s,2)+m(v,2))),s=p(v,s),d.push(new H.A(s*g,t*g));return d};
H.A.Rd({Bz:"getLng",zz:"getLat",add:"add",sa:"subtract",Ta:"divideBy",Wa:"multiplyBy",rc:"distance",offset:"offset",Ba:"equals",toString:"toString"});H.vb=H.J.extend({j:function(){if(2===arguments.length)this.la=arguments[0],this.ba=arguments[1];else if(4===arguments.length)this.la=new H.A(arguments[0],arguments[1]),this.ba=new H.A(arguments[2],arguments[3]);else throw"Invalid Object: Bounds("+arguments.join(",")+")";},ur:function(){return this.la},qr:function(){return this.ba},uh:function(){return new H.A(this.la.r,this.ba.B,!0)},wh:function(){return new H.A(this.ba.r,this.la.B,!0)},contains:function(a){var b=this.la,c=this.ba,d;a instanceof H.vb?
(d=a.la,a=a.ba):d=a;var f=d.r,g=b.r,h=a.r,k=c.r;g>k&&(k+=360,0>f&&(f+=360),0>h&&(h+=360));return d.B>=b.B&&a.B<=c.B&&f>=g&&h<=k},Ud:function(a){var b=this.la,c=this.ba,d=a.la;a=a.ba;var f=a.r>=b.r&&d.r<=c.r;return a.B>=b.B&&d.B<=c.B&&f},xd:function(){return new H.A(this.la.r>this.ba.r?(this.la.r+this.ba.r+360)/2%360:(this.la.r+this.ba.r)/2,(this.la.B+this.ba.B)/2)},extend:function(a){this.la.r=Math.min(this.la.r,a.r);this.la.B=Math.min(this.la.B,a.B);this.ba.r=Math.max(this.ba.r,a.r);this.ba.B=Math.max(this.ba.B,
a.B);return this},GC:function(a){return this.extend(a.la).extend(a.ba)},toString:function(){return this.la.toString()+";"+this.ba.toString()},Ma:function(){return new H.vb(this.la.Ma(),this.ba.Ma())},Ba:function(a){return a instanceof H.vb?this.la.Ba(a.la)&&this.ba.Ba(a.ba):!1},Kc:function(){return Math.abs(this.ba.r-this.la.r)},Jc:function(){return Math.abs(this.la.B-this.ba.B)}});
H.vb.Rd({ur:"getSouthWest",qr:"getNorthEast",uh:"getNorthWest",wh:"getSouthEast",contains:"contains",Ud:"intersects",xd:"getCenter"});H.F=H.J.extend({j:function(a,b,c){if(isNaN(a)||isNaN(b))throw"Invalid Object: Pixel("+a+", "+b+")";this.x=c?Math.round(a):Number(a);this.y=c?Math.round(b):Number(b)},Bb:function(){return this.x},pb:function(){return this.y},add:function(a,b){return new H.F(this.x+a.x,this.y+a.y,b)},sa:function(a,b){return new H.F(this.x-a.x,this.y-a.y,b)},Ta:function(a,b){return new H.F(this.x/a,this.y/a,b)},Wa:function(a,b){return new H.F(this.x*a,this.y*a,b)},rc:function(a){var b=a.x-this.x;a=a.y-this.y;return Math.sqrt(b*
b+a*a)},floor:function(){return new H.F(Math.floor(this.x),Math.floor(this.y))},round:function(){return new H.F(this.x,this.y,!0)},Ba:function(a){return a instanceof H.F&&this.x===a.x&&this.y===a.y},Ma:function(){return new H.F(this.x,this.y)},toString:function(){return this.x+","+this.y}});H.F.Rd({Bb:"getX",pb:"getY",add:"add",sa:"subtract",Ta:"divideBy",Wa:"multiplyBy",rc:"distance",Ba:"equals",toString:"toString"});H.Pc=H.J.extend({j:function(a,b,c){if(isNaN(a)||isNaN(b))throw"Invalid Object: Size("+a+", "+b+")";this.width=c?Math.round(a):Number(a);this.height=c?Math.round(b):Number(b)},Kc:function(){return this.width},Jc:function(){return this.height},bj:function(){return new H.F(this.Kc(),this.Jc())},contains:function(a){return Math.abs(a.x)<=Math.abs(this.width)&&Math.abs(a.y)<=Math.abs(this.height)},Ba:function(a){return a instanceof H.Pc&&this.width===a.width&&this.height===a.height},toString:function(){return this.Kc()+
","+this.Jc()}});H.Pc.Rd({Kc:"getWidth",Jc:"getHeight",toString:"toString"});H.Vh=H.J.extend({j:function(){if(2===arguments.length)this.Ea=arguments[0],this.Va=arguments[1];else if(1===arguments.length&&arguments[0]instanceof Array||4===arguments.length){var a=arguments[0]instanceof Array?arguments[0]:arguments;this.Ea=new H.F(a[0],a[1]);this.Va=new H.F(a[2],a[3])}else throw"Invalid Object: PixelBounds("+arguments.join(",")+")";},xd:function(a){return new H.F((this.Ea.x+this.Va.x)/2,(this.Ea.y+this.Va.y)/2,a)},contains:function(a){var b;a instanceof H.Vh?(b=a.Ea,a=a.Va):b=
a;return b.x>this.Ea.x&&a.x<this.Va.x&&b.y>this.Ea.y&&a.y<this.Va.y},Kc:function(){return this.Va.x-this.Ea.x},Jc:function(){return this.Va.y-this.Ea.y},Ud:function(a){var b=this.Ea,c=this.Va,d=a.Ea;a=a.Va;var f=a.y>=b.y-20&&d.y<=c.y+20;return a.x>=b.x-20&&d.x<=c.x+20&&f},toString:function(){return this.Ea+";"+this.Va},Ma:function(){return new H.Vh(this.Ea.Ma(),this.Va.Ma())}});H.e={};H.e.oy=function(a){for(var b=[Infinity,Infinity,-Infinity,-Infinity],c=0,d=a.length;c<d;c+=1)H.e.gr(b,a[c]);return b};H.e.Aq=function(a,b,c){var d=Math.min.apply(null,a);a=Math.max.apply(null,a);var f=Math.min.apply(null,b);b=Math.max.apply(null,b);return H.e.Oy(d,a,f,b,c)};H.e.buffer=function(a,b){a[0]-=b;a[1]-=b;a[2]+=b;a[3]+=b};H.e.Ma=function(a){return a.slice()};H.e.tf=function(a,b){return a[0]<=b[0]&&b[0]<=a[2]&&a[1]<=b[1]&&b[1]<=a[3]};
H.e.Rq=function(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]};H.e.$D=function(){return[Infinity,Infinity,-Infinity,-Infinity]};H.e.Oy=function(a,b,c,d,f){return"undefined"!==typeof f?(f[0]=a,f[2]=b,f[1]=c,f[3]=d,f):[a,c,b,d]};H.e.empty=function(a){a[0]=a[1]=Infinity;a[2]=a[3]=-Infinity;return a};H.e.Ba=function(a,b){return a[0]===b[0]&&a[2]===b[2]&&a[1]===b[1]&&a[3]===b[3]};
H.e.extend=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3])};H.e.gr=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};H.e.lE=function(a){return[a[0],a[1]]};H.e.mE=function(a){return[a[2],a[1]]};H.e.xd=function(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]};
H.e.rE=function(a,b,c,d,f){var g=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);g=[-g,-g,g,g];d=[-d,d,-d,d];var h,k,l;for(h=0;4>h;h+=1)k=g[h],l=d[h],g[h]=a[0]+k*b-l*c,d[h]=a[1]+k*c+l*b;return H.e.Aq(g,d,f)};H.e.Jc=function(a){return a[3]-a[1]};H.e.yE=function(a){return[a[2]-a[0],a[3]-a[1]]};H.e.CE=function(a){return[a[0],a[3]]};H.e.DE=function(a){return[a[2],a[3]]};H.e.Kc=function(a){return a[2]-a[0]};H.e.Ud=function(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]};
H.e.Xm=function(a){return a[2]<a[0]||a[3]<a[1]};H.e.normalize=function(a,b){return[(b[0]-a[0])/(a[2]-a[0]),(b[1]-a[1])/(a[3]-a[1])]};H.e.yF=function(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d};H.e.touches=function(a,b){return H.e.Ud(a,b)&&(a[0]===b[2]||a[2]===b[0]||a[1]===b[3]||a[3]===b[1])};H.e.transform=function(a,b,c){a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(a,a,2);return H.e.Aq([a[0],a[2],a[4],a[6]],[a[1],a[3],a[5],a[7]],c)};H.vb.vc({j:function(){var a=H.vb.prototype.j;return function(){a.apply(this,arguments);this.southwest=this.la;this.northeast=this.ba}}(),extend:function(){var a=H.vb.prototype.extend;return function(){a.apply(this,arguments);this.la.lng=this.la.r;this.la.lat=this.la.B;this.ba.lng=this.ba.r;this.ba.lat=this.ba.B;return this}}()});H.A.vc({j:function(){var a=H.A.prototype.j;return function(){a.apply(this,arguments);this.lng=parseFloat(this.r.toFixed(6));this.lat=parseFloat(this.B.toFixed(6))}}()});H.qj=H.J.extend({j:function(a,b,c,d){this.Ho=a;this.Mo=b;this.Oo=c;this.Vo=d},transform:function(a,b){return this.gq(a.Ma(),b)},gq:function(a,b){b=b||1;a.x=b*(this.Ho*a.x+this.Mo);a.y=b*(this.Oo*a.y+this.Vo);return a},IC:function(a,b){b=b||1;return new H.F((a.x/b-this.Mo)/this.Ho,(a.y/b-this.Vo)/this.Oo)}});H.He=H.J.extend({j:function(a){this.Wk=a.MAX_LATITUDE||85.0511287798;a.project&&a.unproject&&(this.Ca=a.project,this.md=a.unproject)}});H.He.ho={Ca:function(a){return new H.F(a.r,a.B)},md:function(a,b){return new H.A(a.x,a.y,b)}};
H.He.ru=new H.He({MAX_LATITUDE:85.0511287798,project:function(a){var b=Math.PI/180,c=this.Wk,c=Math.max(Math.min(c,a.B),-c);a=a.r*b;b=Math.log(Math.tan(Math.PI/4+c*b/2));return new H.F(a,b,!1)},unproject:function(a,b){var c=180/Math.PI;return new H.A(a.x*c,(2*Math.atan(Math.exp(a.y))-Math.PI/2)*c,b)}});
H.He.io={Wk:85.0840591556,$k:6356752.3142,Zk:6378137,Ca:function(a){var b=Math.PI/180,c=this.Wk,d=Math.max(Math.min(c,a.B),-c),f=this.Zk,c=this.$k;a=a.r*b*f;b*=d;f=c/f;f=Math.sqrt(1-f*f);d=f*Math.sin(b);d=Math.pow((1-d)/(1+d),0.5*f);b=-c*Math.log(Math.tan(0.5*(0.5*Math.PI-b))/d);return new H.F(a,b)},md:function(a,b){for(var c=180/Math.PI,d=this.Zk,f=this.$k,g=a.x*c/d,d=f/d,d=Math.sqrt(1-d*d),f=Math.exp(-a.y/f),h=Math.PI/2-2*Math.atan(f),k=15,l=0.1;1E-7<Math.abs(l)&&(k-=1,0<k);)l=d*Math.sin(h),l=Math.PI/
2-2*Math.atan(f*Math.pow((1-l)/(1+l),0.5*d))-h,h+=l;return new H.A(g,h*c,b)}};H.nd={};H.nd.hj={hk:function(a,b){var c=this.Cb.Ca(a),d=this.scale(b);return this.dj.gq(c,d)},sn:function(a,b,c){b=this.scale(b);a=this.dj.IC(a,b);return this.Cb.md(a,c)},Ca:function(a){return this.Cb.Ca(a)},scale:function(a){return 256*Math.pow(2,a)},Sc:function(a){return 12756274*Math.PI/(256*Math.pow(2,a))}};H.nd.Zt=H.extend({},H.nd.hj,{code:"EPSG:3857",Cb:H.He.ru,dj:new H.qj(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),Ca:function(a){return this.Cb.Ca(a).Wa(6378137)}});
H.nd.Yt=H.extend({},H.nd.hj,{code:"EPSG:3395",Cb:H.He.io,dj:function(){var a=H.He.io;return new H.qj(0.5/(Math.PI*a.Zk),0.5,-0.5/(Math.PI*a.$k),0.5)}()});H.nd.$t=H.extend({},H.nd.hj,{code:"EPSG:4326",Cb:H.He.ho,dj:new H.qj(1/360,0.5,-1/360,0.25)});H.nd.fD=H.extend({},H.nd.hj,{Cb:H.He.ho,dj:new H.qj(1,0,1,0)});H.gs={Ca:function(a,b){return this.get("crs").hk(a,b||this.get("zoom"))},md:function(a,b,c){return this.get("crs").sn(a,b||this.get("zoom"),c)},SE:function(a,b){return this.Ca(a,b)},jE:function(a,b){return this.md(a,b)},$m:function(a,b){var c=this.qa(a,b);return this.vf(c,b)},Se:function(a,b){var c=this.get("size").bj().Ta(2);if(a.Ba(c))return this.get("center");c=this.qm(a,b);return this.Ic(c,b)},Ic:function(a,b){return this.md(a.Ta(this.get("resolution",b)),b)},qa:function(a,b){return a instanceof
H.A?this.Ca(a,b).Wa(this.get("resolution",b)):a},pE:function(a){return a?this.Ca(this.get("center"),a):this.get("centerPixel")},iE:function(a,b){return this.vf(a.Wa(this.get("resolution",b)),b)},ZD:function(a,b){return this.qm(a,b).Ta(this.get("resolution"))},qm:function(a,b){var c=this.get("size").bj().Ta(2),d=a.sa(c),f=(this.get("rotateEnable")?this.get("rotation"):0)*Math.PI/180,c=d.x*Math.cos(f)+Math.sin(f)*d.y,d=-Math.sin(f)*d.x+Math.cos(f)*d.y,c=this.get("centerCoords").add((new H.F(c,d)).Wa(this.get("resolution",
b)));c.x=(c.x+4.00750166855784E7)%4.00750166855784E7;return c},vf:function(a,b){a=a.Ma();var c=this.Ic(a),d=this.get("center");-90>d.r&&90<c.r?a.x-=this.qa(new H.A(180,0)).x:90<d.r&&-90>c.r&&(a.x+=this.qa(new H.A(180,0)).x);var c=this.get("centerCoords"),c=a.sa(c).Ta(this.get("resolution",b)),d=this.get("size").bj().Ta(2),f=(this.get("rotateEnable")?this.get("rotation"):0)*Math.PI/180;return d.add(new H.F(c.x*Math.cos(f)-Math.sin(f)*c.y,Math.sin(f)*c.x+Math.cos(f)*c.y))}};var la=H.J.extend({Sa:[H.R,H.Yb],h:{center:new H.A(116.397128,39.916527),zoom:13,rotation:0,crs:"EPSG3857"},j:function(a){this.As=a;a=this.Uq(a.crs||"EPSG3857");this.set("crs",a)},lz:function(a){var b=this.map.getSize(),c=a.xd();if(a&&b&&c){for(var d=this.map.get("zooms")[1];d>this.map.get("zooms")[0];d-=1){var f=this.map.Ca(a.la,d),g=this.map.Ca(a.ba,d);if(Math.abs(g.x-f.x)<b.width&&Math.abs(f.y-g.y)<b.height)break}return[c,d]}return null},$z:function(){var a=this.As;if(!(a&&a.center&&a.zoom)){var b=
H.o.Bq,b=this.lz(new H.vb(b[0],b[1],b[2],b[3]));a.center=a.center||b&&b[0];"[object Number]"!==Object.prototype.toString.call(a.zoom)&&(a.zoom=b&&b[1])}a.zoom=Math.round(a.zoom);H.q.wa(this,a);H.g.kc&&(this.h.rotation=0);this.h.crs=this.Uq(this.h.crs||"EPSG3857");this.Yd(this.h);delete this.As},getRotation:function(){return this.map&&this.map.get("rotateEnable")?this.get("rotation",null,!0)||0:0},Uq:function(a){if(this.h.center instanceof H.A){if("string"===typeof a){switch(a){case "EPSG3395":return H.nd.Yt;
case "EPSG4326":return H.nd.$t}return H.nd.Zt}if(a.pointToLngLat&&a.lngLatToPoint)return{sn:a.pointToLngLat,hk:a.lngLatToPoint,Sc:a.getResolution};throw"illegal projection";}var b=this.get("zoom");return{Sc:function(a){return Math.pow(2,b-a)},hk:function(){},sn:function(){}}},getCenterPixel:function(){return this.get("crs").hk(this.get("center"),this.get("zoom"))},getCenterCoords:function(){return this.map.qa(this.get("center"))},centerCoordsChanged:function(){var a=this.get("centerCoords");this.get("center")instanceof
H.A?this.set("center",this.map.Ic(a),!0):this.set("center",a,!0)},getResolution:function(a){return this.get("crs").Sc(a||this.get("zoom"))}});var P=H.J.extend({Sa:[H.R,H.Yb,H.gs],h:{dragEnable:!0,lang:"zh_cn",keyboardEnable:!0,doubleClickZoom:!0,scrollWheel:!0,zoomEnable:!0,jogEnable:!0,continuousZoomEnable:!0,resizeEnable:!1,animateEnable:!0,rotateEnable:!1,touchZoom:!0,renderer:"canvas",zooms:[3,H.g.ja?H.g.nm?H.g.dc?17:18:19:18],defaultCursor:"-",limitBounds:null,logoUrl:H.o.ga+"/theme/v1.3/autonavi.png",logoUrlRetina:H.o.ga+"/theme/v1.3/mapinfo_05.png",copyright:"v1.3.4 \u5730\u56fe\u6570\u636e &copy;2014 AutoNavi - GS(2014)6002\u53f7",
isHotspot:!1},setLang:function(a){"en"!==a&&"zh_cn"!==a&&"zh_en"!==a||a===this.getLang()||(this.set("lang",a),this.te&&this.te.at(this))},getLang:function(){return this.get("lang",null,!0)},setCity:function(a){var b=this;(new H.T.$(H.o.Db+"/v3/config/district?subdistrict=0&extensions=&&key="+H.o.key+"&s=rsv3&output=json&keywords="+a,{callback:"callback"})).a("complete",function(a){if((a=a.districts)&&a.length)try{var d=a[0].center.split(","),f;switch(a[0].level){case "city":f=10;break;case "province":f=
7;break;case "district":f=12;break;case "country":f=4;break;default:f=12}b.setZoomAndCenter(f,new H.A(d[0],d[1]),!0)}catch(g){}},this)},getCity:function(a){var b=H.o.Db+"/v3/geocode/regeo?&extensions=&&key="+H.o.key+"&s=rsv3&output=json&location="+this.get("center");(new H.T.$(b,{callback:"callback"})).a("complete",function(b){b=b.regeocode.addressComponent;a({province:b.province,city:b.city instanceof Array?"":b.city,citycode:b.citycode instanceof Array?"":b.citycode,district:b.district instanceof
Array?"":b.district})},this)},j:function(a,b){b=b||{};b.mobile&&(H.g.ja=!0,delete b.mobile);b.server&&(H.o.Db=b.server,delete b.server);if("string"===typeof a){if(a=this.w=document.getElementById(a),!a)return}else a instanceof HTMLDivElement&&(this.w=a);this.w.ml&&this.w.ml.destroy();this.w.ml=this;b.zooms&&(b.zooms[0]=Math.max(3,b.zooms[0]),b.zooms[1]=Math.min(H.g.ja?19:18,b.zooms[1]));b=this.sy(b);var c=b.lang;"en"!==c&&"zh_cn"!==c&&"zh_en"!==c&&(b.lang="zh_cn");H.q.wa(this,b);H.g.kc&&(this.h.rotateEnable=
!1);this.set("zooms",this.h.zooms);c=this.h.view;c.map=this;this.fc("zoom crs resolution centerPixel center centerCoords rotation".split(" "),c);c.$z();this.Yd(this.h);for(var d=0,f=0,g=0;g<b.layers.length;g+=1){var h=b.layers[g];h.set("map",this,!0);h instanceof J&&(d+=1,h.a("complete",function(){this.u("complete",arguments.callee,this);f+=1;f===d&&this.get("map").k("complete")},h))}(g=c.get("zoom"))&&(g>this.get("zooms")[1]?c.set("zoom",this.get("zooms")[1]):g<this.get("zooms")[0]&&c.set("zoom",
this.get("zooms")[0]));this.Yd({overlays:[],infos:{},controls:{}});var k=this;H.g.zs&&this.set("renderer","dom",!0);"dom"===this.get("renderer")&&this.set("zooms",[3,H.g.ja?19:18]);c=[];"canvas"===this.get("renderer")?c.push("crender"):c.push("drender");H.$c.ik(c,function(){if(!k.get("destroy")){var b=new H.Zb(a,k);k.fc(["zoomSlow","panTo","targetLevel"],b);b.fc(["size","bounds"],k);k.loaded=!0}});this.hv()},sy:function(a){a||(a={});(a.defaultLayer||a.level||a.center)&&(a.layers||a.view)&&window.alert("\u8bf7\u52ff\u5c06api1.2\u4e0e1.3\u7684\u5b9a\u4e49\u65b9\u5f0f\u6df7\u7528!\u8be6\u60c5\u53c2\u770b\u63a5\u53e3\u6587\u6863\u3002");
if(a.hasOwnProperty("defaultLayer")){a.layers=[a.defaultLayer];var b=a.defaultLayer;b.hm=!0;this.set("defaultLayer",b,!0)}a.layers&&0!==a.layers.length||(b=new J,a.layers=[b],b.hm=!0,this.set("defaultLayer",b,!0));a.view||(a.view=new la({center:a.center,zoom:a.level,crs:a.crs}));return a},hv:function(){var a=["v=1.3","k="+H.o.key,"u="+window.location.href,"t="+(new Date).getTime(),"lang="+this.get("lang")];H.g.Za&&a.push("s="+this.getSize());new H.T.oj(H.o.ga+"/count?"+a.join("&"))},setLimitBounds:function(a){a instanceof
H.vb||(a=null);this.set("limitBounds",a)},clearLimitBounds:function(){this.set("limitBounds",null)},getLimitBounds:function(){return this.get("limitBounds",null,!0)},rq:function(a){var b=this.get("layers");0<=H.q.indexOf(b,a)||(this.get("layers").push(a),this.k("layers"))},tq:function(a){var b=this.get("overlays");0<=H.q.indexOf(b,a)||(a instanceof L?(this.get("overlays").push(a),this.Xj instanceof L&&this.Xj.close(),this.Xj=a,this.set("contextmenu",a,!0)):(a instanceof M&&(this.zf instanceof M&&
this.xk(this.zf),this.zf=a),this.get("overlays").push(a)),this.k("overlays"))},wk:function(a){var b=this.get("layers");this.set("layers",H.q.tg(b,H.q.indexOf(b,a)))},xk:function(a){var b=this.get("overlays");this.set("overlays",H.q.tg(b,H.q.indexOf(b,a)))},setZoom:function(a,b){a=Math.round(a);var c=this.get("zooms");a>c[1]&&(a=c[1]);a<c[0]&&(a=c[0]);this.get("zoom")!==a&&this.get("zoomEnable")&&(b||!this.loaded?(this.set("zoom",a),this.k("zoomstart"),this.k("zoomchange"),this.k("zoomend")):this.set("zoomSlow",
a))},getZoom:function(){return Math.round(this.get("targetLevel")||this.get("zoom"))},getCenter:function(){return this.get("center")},setCenter:function(a,b){this.get("center").Ba(a)||(b||!this.loaded?(this.set("center",a),this.k("movestart"),this.k("mapmove"),this.map?this.map.k("moveend"):this.k("moveend")):this.panTo(a))},getCoordsBound:function(){var a=this.get("size"),b=this.get("centerCoords"),c=this.get("rotation")%360,d=this.get("resolution"),c=Math.PI*c/180,a=new H.F((Math.abs(a.width*Math.cos(c))+
Math.abs(a.height*Math.sin(c)))/2,(Math.abs(a.width*Math.sin(c))+Math.abs(a.height*Math.cos(c)))/2),b=new H.Vh(b.sa(a.Wa(d)),b.add(a.Wa(d)));b.Ha=a;return b},setRotation:function(a){!H.g.kc&&this.get("rotateEnable")&&this.set("rotation",a)},getRotation:function(){return this.get("rotateEnable")&&this.get("rotation")||0},getBounds:function(){this.get("crs");var a=this.getCoordsBound(),b=a.Va.x,c=a.Ea.y,a=new H.F(a.Ea.x,a.Va.y),b=new H.F(b,c);return new H.vb(this.Ic(a,this.get("zoom")),this.Ic(b,this.get("zoom")))},
getStatus:function(){for(var a="isHotspot dragEnable zoomEnable keyboardEnable jogEnable doubleClickZoom scrollWheel resizeEnable touchZoom rotateEnable animateEnable".split(" "),b={},c=0;c<a.length;c+=1)b[a[c]]=this.get(a[c],null,!0);return b},setStatus:function(a){for(var b in a)a.hasOwnProperty(b)&&-1!=="isHotspot,dragEnable,keyboardEnable,doubleClickZoom,scrollWheel,zoomEnable,jogEnable,continuousZoomEnable,resizeEnable,animateEnable,rotateEnable,touchZoom".indexOf(b)&&this.set(b,a[b])},getResolution:function(a){a=
a?a.B:this.get("center").B;return this.get("resolution")*Math.cos(a*Math.PI/180)},getScale:function(a){return this.getResolution()*(a||96)/0.0254},getDefaultCursor:function(){return this.get("defaultCursor",null,!0)},setDefaultCursor:function(a){return this.set("defaultCursor",a,!0)},zoomIn:function(){this.setZoom(this.get("targetLevel")+1)},zoomOut:function(){this.setZoom(this.get("targetLevel")-1)},setZoomAndCenter:function(a,b,c){a=Math.round(a);var d=this.get("zooms");a>d[1]&&(a=d[1]);a<d[0]&&
(a=d[0]);c||!this.loaded?(this.setZoom(a,!0),this.setCenter(b,!0)):this.set("zoomAndCenter",[a,b])},setBounds:function(a,b,c,d){b=b?Number(b):0;var f=this.get("zooms")[1],g=this.getSize().bj();for(c&&(g=g.sa(c));f>this.get("zooms")[0];f-=1){c=this.Ca(a.la,f);var h=this.Ca(a.ba,f);a.la.r>a.ba.r&&(h.x+=this.Ca(new H.A(180,0),f).x);if(Math.abs(h.x-c.x)<g.x&&Math.abs(c.y-h.y)<g.y)break}d=d||!this.getBounds().contains(a.xd())||H.g.ja&&1<Math.abs(f+b-this.get("zoom"));this.setZoomAndCenter(f+b,a.xd(),d);
return a},clearMap:function(){this.set("overlays",[]);if(this.map&&this.map.Qa)for(var a=this.map.Qa,b=a.length,c=0;c<b;c+=1)a[c].lh instanceof oa&&a[c].lh.setMap(null)},destroy:function(){this.set("overlays",[]);this.set("layers",[]);this.set("controls",[]);this.set("destroy",!0)},addControl:function(a){var b=H.q.Ya(a),c=this.get("controls")||{};c.bc=c.bc||{};c.bc[b]||(c.bc[b]=a);c.add=c.add||[];c.add.push(a);this.set("controls",c)},removeControl:function(a){var b=H.q.Ya(a),c=this.get("controls")||
{};c.bc=c.bc||{};c.bc[b]&&delete c.bc[b];c.remove=c.remove||[];c.remove.push(a);this.set("controls",c)},clearControl:function(){var a=this.get("controls")||{};a.remove=a.remove||[];a.bc=a.bc||{};for(var b in a.bc)a.bc.hasOwnProperty(b)&&(a.remove.push(a.bc[b]),delete a.bc[b]);this.set("controls",a)},plugin:function(a,b){"string"===typeof a&&(a=[a]);for(var c=0;c<a.length;c+=1){var d=a[c].split(".");"function"===typeof window[d[0]][d[1]]&&(a.splice(c,1),c-=1)}if(0===a.length)return b(),this;for(var f=
a.length,c=0;c<a.length;c+=1)H.$c.load(a[c],function(){f-=1;0===f&&b()});return this},clearInfoWindow:function(){var a=this.get("overlays");a&&0!==a.length&&this.zf&&this.zf.close()},getSize:function(){return H.d.ck(this.w)},getContainer:function(){return this.w},panTo:function(a){this.loaded?this.get("center").Ba(a)||this.set("panTo",a):this.setCenter(a)},panBy:function(a,b,c){var d=this.get("rotation")*Math.PI/180,f=a*Math.cos(d)+Math.sin(d)*b;a=-Math.sin(d)*a+Math.cos(d)*b;f=this.get("centerPixel").add(new H.F(-f,
-a));f=this.md(f);!this.loaded||c?this.setCenter(f,c):this.get("center").Ba(f)||this.set("panTo",f)},setFitView:function(a,b){var c,d;if(a)if(a instanceof N)d=[a];else if(a instanceof Array)d=a;else return null;else{d=this.get("overlays");var f=this.get("layers");if(f)for(var g=0,h=f.length;g<h;g+=1)f[g]instanceof oa&&d.push(f[g])}for(f=0;f<d.length;f+=1)g=d[f],g instanceof M||g instanceof L||(g=g.getBounds())&&(c=c?g.GC(c):g);c&&this.setBounds(c,null,new H.F(50,50),b);return c},setLayers:function(a){for(var b=
0;b<a.length;b+=1)a[b].set("map",this,!0);this.set("layers",a)},getLayers:function(){return this.get("layers",null,!0)},getDefaultLayer:function(){return this.get("defaultLayer",null,!0)},setDefaultLayer:function(a){a.hm=!0;var b=this.get("defaultLayer"),c=this.get("layers");if(b){if(a===b)return;b.hm=!1;c=H.q.tg(c,H.q.indexOf(c,b))}this.set("defaultLayer",a,!0);c.push(a);this.setLayers(c)},pixelToLngLat:function(a){return this.md(a)},lnglatToPixel:function(a){return this.Ca(a)},drawPolyline:function(a){this.set("draw",
"polyline");this.set("drawStyle",a||{strokeColor:"#006600",jb:0.9})},drawPolygon:function(a){this.set("draw","polygon");this.set("drawStyle",a||{strokeColor:"#006600",jb:0.9,fillColor:"#FFAA00",ob:0.9})},drawCircle:function(a){this.set("draw","circle");this.set("drawStyle",a||{strokeColor:"#006600",jb:0.9,fillColor:"#006600",ob:0.9})},endDraw:function(){this.set("draw",null)}});
P.Rd({$m:"lnglatTocontainer",lnglatTocontainer:"lngLatToContainer",Se:"containTolnglat",containTolnglat:"containerToLngLat",Ca:"project",md:"unproject"});P.vc({isHotspotChanged:function(){this.It=!1;this.Fy();this.Ey();this.get("isHotspot")&&this.get("layers",null,!0)&&(this.bB()||this.aB())},aB:function(){if(this.te)this.Ur();else{var a=this;this.plugin("AMap.HotSpot",function(){if(!a.It){if(!a.te){var b=new H.yc;new M;a.te=b}a.Ur()}})}},Ey:function(){this.te&&this.Xz()},bB:function(){for(var a=this.get("layers",null,!0),b=0;b<a.length;b+=1)if(a[b].I&&a[b].I.wc)return a[b].I.$A(),this.It=!0;return!1},Fy:function(){var a=this.get("layers",null,!0);
if(a)for(var b=0;b<a.length;b+=1)a[b].I&&a[b].I.wc&&a[b].I.Oq()},ys:function(a){a.type="hotspotover";this.k("hotspotover",a)},ws:function(a){a.type="hotspotclick";this.k("hotspotclick",a)},xs:function(a){a.type="hotspotout";this.k("hotspotout",a)},Ur:function(){var a=this.te;this.te.setMap(this);a.a("mouseover",this.ys,this);a.a("click",this.ws,this);a.a("mouseout",this.xs,this)},Xz:function(){var a=this.te;a.u("mouseover",this.ys,this);a.u("click",this.ws,this);a.u("mouseout",this.xs,this);this.te.setMap(null);
this.te=null}});var Q={U:function(a,b,c,d){H.l.a(a,b,c,d);return new H.ij(0,a,b,c,d)},$x:function(){},addListener:function(a,b,c,d){a.tc||(a.tc=H.R.tc);H.R.a.call(a,b,c,d);return new H.ij(1,a,b,c,d)},sq:function(a,b,c,d){a.tc||(a.tc=H.R.tc);H.R.a.call(a,b,c,d,!0);return new H.ij(1,a,b,c,d)},Mq:function(a){H.R.ui.call(a)},Ay:function(a,b){H.R.ui.call(a,b)},removeListener:function(a){!a instanceof H.ij||(0===a.type?H.l.u(a.fk,a.fr,a.Rr):1===a.type&&(a.fk.tc||(a.fk.tc=H.R.tc),H.R.u.call(a.fk,a.fr,a.Rr)))},m:function(a,
b){a.tc||(a.tc=H.R.tc);var c=Array.prototype.slice.call(arguments,1);H.R.k.apply(a,c)}};H.ij=H.J.extend({j:function(a,b,c,d,f){this.type=a;this.fk=b;this.fr=c;this.Rr=d;this.rg=f}});var pa={U:"addDomListener",$x:"addDomListenerOnce",addListener:"addListener",sq:"addListenerOnce",Mq:"clearInstanceListeners",Ay:"clearListeners",removeListener:"removeListener",m:"trigger"},R;for(R in pa)pa.hasOwnProperty(R)&&(Q[pa[R]]=Q[R]);H.event=Q;var S=H.J.extend({Sa:[H.R,H.Yb],j:function(a){H.q.wa(this,a);this.Yd(this.h)},getZooms:function(){return this.get("zooms",null,!0)},setOpacity:function(a){a!==this.get("opacity",null,!0)&&this.set("opacity",a)},show:function(){this.set("visible",!0)},hide:function(){this.set("visible",!1)},setMap:function(a){a?(this.get("map")&&this.get("map").wk(this),this.set("map",a)):this.get("map")&&(this.get("map").wk(this),this.set("map",null,!0))},mapChanged:function(){this.get("map")&&this.get("map").rq(this)},
setzIndex:function(a){this.set("zIndex",a)}});var J=S.extend({h:{tileSize:256,visible:!0,opacity:1,zIndex:1,zooms:[3,H.g.ja?20:18],getTileUrl:H.g.ja?H.o.Kk:H.o.jk,errorUrl:H.q.dr,detectRetina:!0},j:function(a){(a=a||{})&&a.tileUrl&&(a.getTileUrl=a.tileUrl,delete a.tileUrl);this.xy(a);var b=a.zooms;b?(b[0]<this.Bd[0]&&(b[0]=this.Bd[0]),b[1]>this.Bd[1]&&(b[1]=this.Bd[1])):a.zooms=[this.Bd[0],this.Bd[1]];arguments.callee.ta.call(this,a)},Kq:function(){var a=this.get("getTileUrl");if(a!==H.o.jk&&a!==H.o.Kk||!H.g.nm)return!1;a=this.get("map");return!a||
"zh_cn"!==a.get("lang")||"canvas"!==a.get("renderer")||this.noVector?!1:!0},pg:function(a){this.get("map")||this.set("map",a.La,!0);return this.Kq()?H.I.pd?new H.I.pd(this,a):["vectorlayer","overlay"]:new H.I.Rf(this,a)},getTileUrlChanged:function(){var a=this.get("getTileUrl");"string"===typeof a&&(a=this.Al(a));this.set("tileFun",a)},xy:function(a){this.Bd||(this.Bd=[this.h.zooms[0],this.h.zooms[1]]);var b;a.hasOwnProperty("detectRetina")&&!1===a.detectRetina&&(b=!0);H.g.ja&&H.g.dc&&this.h.detectRetina&&
!b&&(this.Bd[1]-=1)},getTiles:function(){var a=this.get("tiles",null,!0);if(a)a=a[0];else return[];for(var b=[],c,d=0;d<a.length;d+=1)a[d].key&&(c=a[d].key.split("/"),b.push(""+c[1]+","+c[2]));return b},reload:function(){this.set("reload",1)},Ms:function(){var a=this.get("map",null,!0);this.setMap(null);this.qg=!1;this.setMap(a)},setTileUrl:function(a){this.Kq()?(this.set("getTileUrl",a),this.Ms()):this.set("getTileUrl",a)},Al:function(a){var b=this,c,d,f;return function(g,h,k){g=(g+Math.pow(2,k))%
Math.pow(2,k);if("number"!==typeof(g+h+k))return null;var l=b.get("map"),m="zh_cn";l&&(m=l.get("lang")||"zh_cn");k=a.replace("[x]",g).replace("[y]",h).replace("[z]",k).replace("[lang]",m);if(!c){if(d=a.match(/\{.*\}/))f=d.toString().replace("{","").replace("}",""),f=f.split(",");c=!0}f&&f.length&&(k=k.replace(d,f[Math.abs(g+h)%f.length]));return k}},getTileUrl:function(a,b,c){return this.get("tileFun",null,!0)(a,b,c)},getZooms:function(){return this.get("zooms",null,!0)}});
J.po=J.extend({h:{getTileUrl:H.o.En,zooms:[3,18],zIndex:2},j:function(a){this.Bd=[3,18];arguments.callee.ta.apply(this,arguments)}});J.no=J.extend({h:{getTileUrl:H.o.Cn,zooms:[3,18],zIndex:3,type:"overlayer"},j:function(a){this.Bd=[3,18];arguments.callee.ta.apply(this,arguments)}});
J.ro=J.extend({h:{getTileUrl:function(a,b,c){return H.o.mc+"://tm.amap.com/trafficengine/mapabc/traffictile?v=1.0&;t=1&zoom="+(17-c)+"&x="+a+"&y="+b},zooms:[3,17],zIndex:4,type:"overlayer"},j:function(a){this.Bd=[3,17];arguments.callee.ta.apply(this,arguments)},reload:function(){this.set("getTileUrl",function(a,b,c){return H.o.mc+"://tm.amap.com/trafficengine/mapabc/traffictile?v=1.0&;t=1&zoom="+(17-c)+"&x="+a+"&y="+b+"&tm="+(new Date).getTime()})}});var qa=S.extend({h:{visible:!0,zooms:[3,H.g.Za?20:18],type:"overlay",zIndex:5},j:function(a){arguments.callee.ta.apply(this,arguments)},pg:function(a){return new H.I.yb(this,a)}});var ra=S.extend({h:{visible:!0,zooms:[3,18],zIndex:1,opacity:1,detectRetina:!0},j:function(a){arguments.callee.ta.apply(this,arguments)},pg:function(a){return H.I.pd?new H.I.pd(this,a):["vectorlayer","overlay"]}});var sa=S.extend({h:{zooms:[17,18],zIndex:8,url:H.o.Ae+"/vector/buildings",wallColor:[200,190,180],strokeColor:[145,140,135],CAM_Z:400,lineCap:"round",lineJoin:"round",lineWidth:1,fadeFactor:1,visible:!0},j:function(){arguments.callee.ta.apply(this,arguments)},pg:function(a){if(H.I.ee)return new H.I.ee(this,a);if(H.g.Wm)return["building","overlay"]}});var ta=S.extend({h:{visible:!0,zooms:[3,H.g.Za?20:18],opacity:1,type:"overlay",zIndex:6},j:function(a){arguments.callee.ta.apply(this,arguments)},pg:function(a){return H.I.Pg?new H.I.Pg(this,a):["imagelayer"]},getMap:function(){return this.bd.map},show:function(){this.set("visible",!0);this.k("options")},getOpacity:function(){return this.get("opacity",null,!0)},setOpacity:function(a){this.set("opacity",a)},getBounds:function(){return this.get("bounds",null,!0).Ma()},setBounds:function(a){this.setOptions({bounds:a})},
getImageUrl:function(){return this.get("url")},setImageUrl:function(a){return this.set("url",a)},hide:function(){this.set("visible",!1);this.k("options")},setOptions:function(a){this.Yd(a);this.k("options")},getOptions:function(){var a={},b;for(b in this.h)this.h.hasOwnProperty(b)&&(a[b]=this.get(b));return a}});var oa=ta.extend({j:function(a,b,c){c=c||{};this.We=!0;var d=parseFloat(c.opacity);isNaN(d)&&(d=1);arguments.callee.ta.call(this,{url:a,bounds:b,clickable:c.clickable,opacity:d,map:c.map,zooms:c.zooms||[3,18]})},TA:function(a){this.get("bounds").contains(a.lnglat)&&(a.target=this,this.k("click",a))},UA:function(a){this.get("bounds").contains(a.lnglat)&&(a.target=this,this.k("dblclick",a))},setMap:function(a){a?(this.get("map")&&(this.get("map").wk(this),this.Nq&&Q.removeListener(this.Nq),this.Vq&&
Q.removeListener(this.Vq)),this.set("map",a)):this.get("map")&&(this.get("map").wk(this),this.bd.map=null)},mapChanged:function(){this.get("map")&&(this.get("map").rq(this),this.get("clickable")&&(this.Nq=Q.addListener(this.get("map"),"click",this.TA,this),this.Vq=Q.addListener(this.get("map"),"dblclick",this.UA,this)))}});var N=H.J.extend({Sa:[H.R,H.Yb],h:{extData:{},bubble:!1,clickable:!0,draggable:!1},SD:function(){this.get("map",null,!0)&&this.setMap(this.get("map"))},mapChanged:function(){this.get("map",null,!0)&&this.get("map",null,!0).tq(this)},show:function(){this.set("visible",!0)},hide:function(){this.set("visible",!1)},setMap:function(a){if(null===a||a!==this.get("map",null,!0))a?(this.get("map",null,!0)&&this.get("map",null,!0).xk(this),this.set("map",a)):this.get("map",null,!0)&&(this.get("map",null,!0).xk(this),
this.set("map",null,!0))},setExtData:function(a){this.set("extData",a)},getExtData:function(){return this.get("extData",null,!0)}});var ua=N.extend({show:function(){this.set("visible",!0);this.k("show",{type:"show",target:this})},hide:function(){this.set("visible",!1);this.k("hide",{type:"hide",target:this})},getVisible:function(){return this.get("visible",null,!0)},getOptions:function(){var a={},b="map zIndex strokeColor strokeOpacity strokeWeight strokeStyle strokeDasharray extData bubble clickable".split(" "),c=["isOutline","outlineColor","geodesic","path"],d=["fillColor","fillOpacity","path"],f=["center","radius"],g=[];this instanceof
T&&(g=b.concat(c));this instanceof U&&(g=b.concat(d));this instanceof V&&(g=b.concat(f).concat(d));for(b=0;b<g.length;b+=1)a[g[b]]=this.get(g[b],null,!0);return a},setOptions:function(a){a.hasOwnProperty("path")&&(a.path&&a.path.length||(a.path=[]));this.bd&&this.bd.map&&a.map===this.bd.map&&delete a.map;this.Yd(a);this.k("options");this.k("change",{type:"change",target:this})},setDraggable:function(a){this.set("draggable",a)}});var va=ua.extend({h:{visible:!0,zIndex:10,strokeColor:"#006600",strokeOpacity:0.9,strokeWeight:3,strokeStyle:"solid",strokeDasharray:[10,5],path:[]},setPath:function(a,b){a&&a.length||(a=[]);this.set("path",a);this.k("change",{type:"change",target:this});b||this.k("setPath")},getPath:function(){return this.get("path",null,!0)},Ab:function(){var a=this.get("path");if(!a||!a.length)return null;a[0]instanceof H.A&&(a=[a]);for(var b=new H.vb(180,90,-180,-90),c=0;c<a.length;c+=1)for(var d=a[c],f=d.length-
1;0<=f;f-=1)b.extend(d[f]);return b}});va.Rd({Ab:"getBounds"});var W=H.J.extend({Sa:[H.R,H.Yb],h:{size:new H.Pc(36,36),imageOffset:new H.F(0,0),image:H.o.ga+"/theme/v1.3/markers/0.png",imageSize:null},j:function(a){H.q.wa(this,a);this.Yd(this.h)},setImageSize:function(a){this.set("imageSize",a)},getImageSize:function(){return this.get("imageSize",null,!0)}});var wa=H.J.extend({Sa:[H.R,H.Yb],h:{coords:[],type:""},j:function(a){H.q.wa(this,a);this.Yd(this.h)}});var X=N.extend({h:{cursor:"pointer",visible:!0,zIndex:100,angle:0,autoRotation:!1,opacity:1,offset:new H.F(-10,-34),size:new H.F(36,36),raiseOnDrag:!1,topWhenClick:!1,topWhenMouseOver:!1,animation:"AMAP_ANIMATION_NONE"},j:function(a){this.We=!0;H.q.wa(this,a);H.g.kc&&(this.h.angle=0);this.Yd(this.h);delete this.h},setRaiseOnDrag:function(a){this.set("raiseOnDrag",a)},setPosition:function(a){this.set("position",a)},getBounds:function(){var a=this.getPosition().Ma();return new H.vb(a,a.Ma())},mapChanged:function(){this.get("map",
null,!0)&&(this.get("position",null,!0)||this.set("position",this.get("map").get("center")),this.get("map",null,!0).tq(this))},getPosition:function(){return this.get("position",null,!0)},setIcon:function(a){this.set("icon",a)},getIcon:function(){return this.get("icon",null,!0)},setContent:function(a){this.set("content",a)},getContent:function(){return this.get("content",null,!0)},hide:function(){this.set("visible",!1)},show:function(){this.set("visible",!0)},setCursor:function(a){this.set("cursor",
a)},setRotation:function(a){H.g.kc||this.set("angle",a)},setAngle:function(a){H.g.kc||"number"!==typeof a||this.set("angle",a)},getAngle:function(){return this.get("angle",null,!0)},setOffset:function(a){this.set("offset",a)},getOffset:function(){return this.get("offset",null,!0)},setzIndex:function(a){this.set("zIndex",a)},setOpacity:function(a){this.set("opacity",a)},setDraggable:function(a){this.set("draggable",a)},getDraggable:function(){return this.get("draggable",null,!0)},moveTo:function(a,
b,c){this.set("move",{Tb:a,speed:b,gb:c})},moveAlong:function(a,b,c,d){this.set("move",{Tb:a,speed:b,gb:c,zy:d})},stopMove:function(){this.set("move",!1)},setShadow:function(a){this.set("shadow",a)},getShadow:function(){return this.get("shadow",null,!0)},setClickable:function(a){a!==this.getClickable()&&this.set("clickable",a)},getClickable:function(){return this.get("clickable",null,!0)},setTitle:function(a,b){"string"===typeof a&&this.set("title",a,b)},getTitle:function(){return this.get("title",
null,!0)},setTop:function(a,b){this.set("isTop",a,b)},getTop:function(){return this.get("isTop",null,!0)},setShape:function(a,b){this.set("shape",a,b)},getShape:function(){return this.get("shape",null,!0)},setAnimation:function(a,b){this.set("animation",a,b)},getAnimation:function(){return this.get("animation",null,!0)},getMap:function(){return this.get("map",null,!0)}});var L=N.extend({h:{visible:!1,items:[]},j:function(a){this.We=!0;H.q.wa(this,a);this.h.items=[];this.Yd(this.h)},addItem:function(a,b,c){this.get("items").push({Gt:a,gb:b,pk:c});this.k("items")},removeItem:function(a,b){var c=this.get("items"),d,f;for(f=0;f<c.length;f+=1)if(d=c[f],d.Gt===a&&d.gb===b){c.splice(f,1);break}this.k("items")},open:function(a,b){this.set("position",b);this.map?this.map&&this.map!==a&&(this.map.xk(this),this.map=a,this.setMap(a)):(this.map=a,this.setMap(a));this.k("open",
{type:"open",target:this})},close:function(){this.setMap(null);this.map&&(this.map=this.map.Xj=null,this.k("close",{type:"close",target:this}))}});var M=N.extend({h:{visible:!0,offset:new H.F(0,0),showShadow:!1,closeWhenClickMap:!1,autoMove:!0},j:function(a){this.We=!0;H.q.wa(this,a);this.Yd(this.h)},open:function(a,b){a&&(b&&this.get("position",null,!0)!==b&&this.k("change",{type:"change",target:this}),b=b||this.get("position",null,!0))&&(this.set("position",b),this.map||(this.map=a,this.setMap(a),this.k("open",{type:"open",target:this})))},close:function(){this.setMap(null);this.set("position",null,!0)},setContent:function(a){this.set("content",
a);this.k("change",{type:"change",target:this})},getContentU:function(){return this.get("content",null,!0)},getContent:function(){return this.get("content",null,!0)},setPosition:function(a){this.set("position",a);this.k("change",{type:"change",target:this})},getPosition:function(){return this.get("position",null,!0)},setSize:function(a){this.set("size",a);this.k("change",{type:"change",target:this})},getSize:function(){var a=this.get("size",null,!0);if(a)return a;if(this.da)return new H.Pc(this.da.Hc.offsetWidth,
this.da.Hc.offsetHeight)},getIsOpen:function(){return!!this.get("map")}});var T=va.extend({h:{isOutline:!1,outlineColor:"#000000",geodesic:!1},j:function(a){this.We=!0;a=a||{};a.zIndex=a.zIndex||50;H.q.wa(this,a);this.setOptions(this.h)},getLength:function(){for(var a=this.get("path"),b=0,c=0;c<a.length-1;c+=1)b+=a[c].rc(a[c+1]);return parseFloat(b.toFixed(2))}});var U=va.extend({j:function(a){this.We=!0;a=a||{};a.zIndex=a.zIndex||10;H.q.wa(this,H.extend({fillColor:"#FFAA00",fillOpacity:0.9},a));this.setOptions(this.h)},Km:function(a){var b=6378137*Math.PI/180,c=0,d=a.length;if(3>d)return 0;for(var f=0;f<d-1;f+=1)var g=a[f],h=a[f+1],c=c+(g.r*b*Math.cos(g.B*Math.PI/180)*h.B*b-h.r*b*Math.cos(h.B*Math.PI/180)*g.B*b);d=a[f];a=a[0];c+=d.r*b*Math.cos(d.B*Math.PI/180)*a.B*b-a.r*b*Math.cos(a.B*Math.PI/180)*d.B*b;return 0.5*Math.abs(c)},getArea:function(){var a=this.get("path",
null,!0),b;if(!a.length||a[0]instanceof H.A)b=this.Km(a);else{b=this.Km(a[0]);for(var c=1;c<a.length;c+=1)b-=this.Km(a[c])}return Number(b.toFixed(2))},toString:function(){return this.get("path").join(";")}});var V=ua.extend({h:{visible:!0,zIndex:10,strokeColor:"#006600",strokeOpacity:0.9,strokeWeight:3,strokeStyle:"solid",strokeDasharray:[10,5],radius:1E3,fillColor:"#006600",fillOpacity:0.9},j:function(a){a=a||{};a.zIndex=a.zIndex||10;H.q.wa(this,a);this.We=this.h.center?!0:!1;this.setOptions(this.h)},setCenter:function(a,b){a&&a instanceof H.A&&(this.set("center",a),this.k("change",{type:"change",target:this}),this.We||(this.We=!0,this.get("map")&&this.get("map").k("overlays")),b||this.k("setCenter"))},
getCenter:function(){return this.get("center",null,!0)},setRadius:function(a,b){this.set("radius",a);this.k("change",{type:"change",target:this});b||this.k("setRadius")},getRadius:function(){return this.get("radius",null,!0)},getBounds:function(){var a=this.get("center"),b=this.get("radius");if(!a)return null;var c=a.offset(-b,-b),a=a.offset(b,b);return new H.vb(c,a)}});V.Rd({Ab:"getBounds"});H.Ge=H.J.extend({Sa:H.R,h:{swfUrl:H.o.ga+"/theme/v1.3/",dataServerUrl:"wsv.amap.com",imageServerUrl:"wsv.amap.com",poiServerUrl:"wsv.amap.com",position:null,distance:150,heading:20,pitch:-5,zoom:3,visible:!0,pov:{heading:20,pitch:-5},checkType:0,reportLabel:!1,closeLabel:!1,systemLabel:!0,panControl:!0,zoomControl:!0,scrollWheel:!0,linksControl:!0,fullscreenLabel:!0,addressControl:!0},j:function(a,b){H.q.wa(this,b);this.rb=this.w=null;this.Ah={};this.Cs="AngeoPano";this.Gf="";this.position=null;this.heading=
20;this.pitch=-5;this.sk={heading:20,pitch:-5};this.vg=0;this.gn="panoEngineContent";this.file=this.h.swfUrl+"swf/PreLoader.swf?swfurl="+this.h.swfUrl+"swf/AnGeoPanoEngine.swf&iconUrl="+this.h.swfUrl+"icons.json&swfid="+this.gn;this.width=this.h.width||"100%";this.height=this.h.height||"100%";this.version=this.h.version||"";var c=window.location.protocol;if(-1===c.indexOf("http")&&-1===c.indexOf("https"))throw"\u62b1\u6b49,\u8be5\u9875\u9762\u5fc5\u987b\u901a\u8fc7web\u670d\u52a1\u5668\u624d\u80fd\u6b63\u5e38\u8bbf\u95ee!";
this.w=c=document.getElementById(a);if(!c)throw"\u5730\u56fe\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5web\u9875\u9762\u4e2d\u662f\u5426\u5b58\u5728ID\u4e3a"+a+"\u7684\u6807\u7b7e";if(this.dv(c)){var d=this;window.AnGeoPanoComplete=function(){d.Vv(d)};this.Wx(c)}},dv:function(a){var b=H.q.ty(),c=b.gA,b=b.version;isNaN(b)?(b=b.split("."),b=Number(b[0]+"."+b[1])):b=Number(b);return!c||11.4>b||11.7===b?(a.innerHTML='<div style="width:450px;margin:auto;padding:5px;text-algin:center;text-indent:0px; font-size:14px; color:#0000ff;">\u52a0\u8f7d\u5730\u56fe\u5931\u8d25\uff0c\u8bf7\u5b89\u88c511.4\u53ca\u4ee5\u4e0a\uff0811.7\u9664\u5916\uff09\u7248\u672c\u7684Adobe Flash Player\uff01<a href="http://get.adobe.com/cn/flashplayer/" style="color:#ff0000;">\u70b9\u51fb\u4e0b\u8f7d</a>\uff0c\u5b89\u88c5\u540e\uff0c\u518d\u5237\u65b0\u8be5\u9875\u9762\u3002</div>',
!1):!0},Wx:function(a){var b=this.gn,c=H.g.ue?b:b+"_ie",d=H.g.ue?b+"_ff":b,f;f='<object type="application/x-shockwave-flash" style="height:100%;width:100%;"  height="100%" width="100%" ';f+=' id="'+b+'" data="'+this.file+'" name="'+c+'" ';H.g.ue&&(f+=' codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"');f+=" >";H.g.ue&&(f+='<param name="movie" value="'+this.file+'" />');f+='<param name="quality" value="high" />';f+=
'<param name="wmode" value="direct"/>';f+='<param name="allowScriptAccess" value="always" />';f+='<param name="allowFullScreen" value="true" />';f+='<param name="allowFullScreenInteractive" value="true" />';f+='<param name="FlashVars" value="'+this.version+'" />';H.g.chrome||(f+='<embed src="'+this.file+'" quality="high"',f+=' width="'+this.width+'" height="'+this.height+'" id="'+d+'" align="middle"',f+=' play="true"',f+=' loop="false"',f+=' quality="high"',f+=' wmode="direct"',f+=' FlashVars="'+
this.version+'"',f+=' allowScriptAccess="always"',f+=' allowFullScreen="true"',f+=' allowFullScreenInteractive="true"',f+=' type="application/x-shockwave-flash"',f+=' pluginspage="http://www.adobe.com/go/getflashplayer">',f+="</embed>");f+="</object>";a.innerHTML=f},Vv:function(a){try{var b=H.d.get(a.gn);a.rb=b;b.angeoPanoInit(a.Cs,this.h);this.h.panoId?a.Dk(this.h.panoId):this.h.position&&a.Zi(this.h.position);a.ht(this.h.pov);a.Fn(this.heading);a.gt(this.pitch);a.jt(this.h.zoom);a.ft(this.h.distance);
a.it(this.h);a.Ek(this.h.visible);a.Jx("key="+H.o.key+"&requestType=api");a.cA()}catch(c){a.Wv(a.w)}},Jx:function(a){this.rb.angeoPanoSetURLAttach(a)},Wv:function(a){a.innerHTML='<div style="width:400px;margin:auto;padding:5px;text-algin:center;text-indent:0px; font-size:14px; color:#0000ff;">\u52a0\u8f7d\u5730\u56fe\u5931\u8d25</div>';throw Error("\u52a0\u8f7d\u5730\u56fe\u5931\u8d25!");},Dk:function(a){this.rb.angeoPanoSetPanoById(this.Cs,a,{});this.Gf=a},Jm:function(){return this.Gf},dt:function(a){var b=
a.getLng();a=a.getLat();this.rb.angeoPanoSetPanoByCenter(this.name,b,a)},Zi:function(a){this.dt(a)},xd:function(){return this.Bi()},Bi:function(){return this.position},jt:function(a){var b=this.rb;0<=a&&b.angeoPanoSetZoomLevel(a);this.k("zoomchange")},Ar:function(){return this.rb.angeoPanoGetZoomLevel()},Fn:function(a){a=Number(a);if(isNaN(a)||0>a||360<a)a=this.heading;this.rb.angeoPanoSetHeading(a);this.heading=a},Hm:function(){return this.heading},gt:function(a){a=Number(a);if(isNaN(a)||-85>a||
10<a)a=this.pitch;this.rb.angeoPanoSetPitch(a);this.pitch=a},Fz:function(){return this.pitch},rv:function(a,b,c){if("object"===typeof a){var d=a.pitch;if(isNaN(d)||d>(c||10)||d<(b||-85))d=this.pitch;a.pitch=d;b=a.heading;if(isNaN(b)||0>b||360<b)b=this.heading;a.heading=b;return a}},ht:function(a){var b={};a=this.rv(a);this.rb.angeoPanoSetHeadingAndPitch(a.heading,a.pitch);this.heading=a.heading;this.pitch=a.pitch;this.sk=a;b.type="povchange";b.pov=a;b.target=this;this.k("povchange",b)},Gz:function(){return this.sk},
ft:function(a){if(isNaN(a)||0>a)throw"\u8ddd\u79bb\u4e0d\u80fd\u4e3a\uff1a"+a+"\uff0c\u5fc5\u987b\u4e3a\u6570\u5b57\uff01";this.rb.angeoPanoSetPOIDisplayDistance(Number(a));this.vg=a},Dz:function(){return this.vg},Ek:function(a){void 0!==a&&(this.rb.style.visibility=a?"visible":"hidden",this.k("visiblechange"),this.visible=a)},Mm:function(){return this.visible},it:function(a){var b=this.rb,c={};H.q.wa(this,a);c=this.h;b.angeoPanoEnabledMouseWheel(c.scrollWheel);b.angeoPanoSetCompassVisble(c.panControl,
c.zoomControl);b.angeoPanoDisplayArrows(c.linksControl);b.angeoPanoDisplayScreenButton(c.fullscreenLabel);b.angeoPanoDisplayRoadName(c.addressControl);b.angeoPanoDisplayReportProblem(c.reportLabel);b.angeoPanoDisplayExitButton(c.closeLabel);b.angeoPanoDisplaySystemPOIs(c.systemLabel)},Jz:function(){},Az:function(){var a=this.rb.angeoPanoGetPanoRefPoints(),b=[],c=null,d=null,f,g;for(f=0;f<a.length;f+=1){d=a[f];c={};for(g in d)d.hasOwnProperty(g)&&(c[g]=d[g]);c.lc=d.id;c.description=d.wF;b.push(c)}return b},
tA:function(a){var b=this.rb,c=Number(a.getLng());a=Number(a.getLat());b=b.angeoPanoGetPixelByCoordinate({lat:a,lng:c});return new H.F(b.x,b.y)},Gn:function(){},kC:function(){this.Gn(!0)},Vz:function(){this.Gn(!1)},Jn:function(a){this.rb.angeoPanoSetTriangleVisble(a||!1)},mC:function(){this.Jn(!0)},Wz:function(){this.Jn(!1)},ZA:function(){},Dy:function(){},clear:function(){this.rb.angeoPanoClearPOIs();this.Ah={}},Wy:function(){this.rb.angeoPanoDispose()},dB:function(a,b,c){var d={type:b,target:c};
switch(b){case "panochange":return c.Gf=a.panoId,c.position=new H.A(a.x,a.y),c.tc("complete")&&(c.k("complete"),H.event.clearListeners(c,"complete")),"function"===typeof c.h.callback&&(c.h.callback(c),c.h.callback=null),"object"===typeof a?d=H.extend(d,a):d.obj=a,d;case "pitchchange":return d.type="povchange",d.pov={},d.pov.pitch=a,d.pov.heading=c.heading,c.pitch=d.pov.pitch,c.sk=d.pov,d;case "headingchange":return d.type="povchange",d.pov={},d.pov.heading=(a%360+360)%360,d.pov.pitch=c.pitch,c.heading=
d.pov.heading,c.sk=d.pov,d;case "povchange":return d.type="_povchange",d.pov={heading:c.heading,pitch:c.pitch},d;case "reportLabelClick":return d.panoId=c.Gf,d.viewBounds={minx:a.left,miny:a.top,maxx:a.right,maxy:a.bottom},d;case "closeLabelClick":return d;case "mouseover":case "mouseout":case "click":return"custom"===a.type?(d.target=c.Ah[a.id],d.viewBounds={minx:a.poiLeft,miny:a.poiTop,maxx:a.poiRight,maxy:a.poiBottom}):(d.type="systemLabel"+b.charAt(0).toUpperCase()+b.substring(1),d.target=c,d.panoId=
a.panoId,d.poiId=a.id,d.poiName=a.name,d.viewBounds={minx:a.poiLeft,miny:a.poiTop,maxx:a.poiRight,maxy:a.poiBottom},d.lngLat=new H.A(a.lng,a.lat),d.pixel=new H.F(a.x,a.y)),d;default:return"object"===typeof a?d=H.extend(d,a):d.obj=a,d}},cA:function(){H.Ge.R=H.Ge.R||{};var a=this,b,c={panochange:"ChangePano",headingchange:"HeadingChangeCall",pitchchange:"PitchChangeCall",zoomchange:"ZoomChangeCall",click:"POIClick",mouseover:"POIOver",mouseout:"POIOut",closeLabelClick:"ExitCall",povchange:"HeadingAndPitchChangeCall",
reportLabelClick:"ReportCall"};for(b in c)if(c.hasOwnProperty(b)){var d=c[b];H.Ge.R[b]=function(b){return function(c){c=a.dB(c,b,a);c.target.k(c.type,c)}}(b);if(d)a.rb["angeoPanoSet"+d+"JSFun"]("AMap.Panorama.Events."+b)}}});
H.Ge.Rd({Dk:"setPanoId",Jm:"getPanoId",dt:"setCenter",xd:"getCenter",Zi:"setPosition",Bi:"getPosition",jt:"setZoom",Ar:"getZoom",Fn:"setHeading",Hm:"getHeading",gt:"setPitch",Fz:"getPitch",DF:"setMaxPitch",EF:"setMinPitch",ht:"setPov",Gz:"getPov",ft:"setPOIDisplayDistance",Dz:"getPOIDisplayDistance",Ek:"setVisible",Mm:"getVisible",it:"setStatus",Jz:"getStatus",Az:"getLinks",tA:"lnglatTocontainer",Gn:"setMoveArrowVisble",kC:"showMoveArrow",Vz:"hideMoveArrow",Jn:"setTipArrowVisble",mC:"showTipArrow",
Wz:"hideTipArrow",ZA:"openFullScreen",Dy:"closeFullScreen",clear:"clear",m:"trigger",Wy:"dispose"});H.q=H.extend(H.q,{nr:function(a,b,c,d){b=Math.acos((d-b)/Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2)));0>c-a&&(b=2*Math.PI-b);return b/Math.PI*180},rz:function(a,b,c,d){b=b*Math.PI/180;d=d*Math.PI/180;a=2*Math.asin(Math.sqrt(Math.pow(Math.sin((b-d)/2),2)+Math.cos(b)*Math.cos(d)*Math.pow(Math.sin((a*Math.PI/180-c*Math.PI/180)/2),2)));return a=Math.round(63781370*a)/1E4*1E3},ty:function(){var a=0,b="0",c=null;if(H.g.ue){if(c=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"))a=1,b=c.GetVariable("$version").split(" ")[1].replace(/,/g,
".")}else if(navigator.plugins&&0<navigator.plugins.length&&(c=navigator.plugins["Shockwave Flash"]))for(var a=1,c=c.description.split(" "),d=0;d<c.length;d+=1)isNaN(parseInt(c[d],10))||(b=c[d]);return{gA:a,version:b}},TE:function(a){var b=document.createElement("script");b.type="text/javascript";b.src=a;document.body.appendChild(b)}});H.Ge.R=H.Ge.R||{};H.ko=H.J.extend({Sa:H.R,h:{id:H.q.Ya(this),panoId:"",position:null,content:"",distance:0,heading:0,icon:"",pano:null,iconType:"6",visible:!0,eventNameMap:{click:"mouse_click",mouseover:"mouse_over",mouseout:"mouse_out"}},j:function(a){if(!a.position)throw"\u7f3a\u5c11position\uff0c\u8bf7\u6307\u5b9a";H.q.wa(this,a);this.id=this.h.id;this.Gf=this.h.panoId;this.lc=this.h.pano;this.position=this.h.position;this.content=this.h.content;this.vg=this.h.distance;this.heading=this.h.heading;this.Rm=this.h.icon;
this.Sm=this.h.iconType;this.visible=this.h.visible;this.hz=this.h.eventNameMap;this.lc instanceof H.Ge&&this.Yc(this.lc)},xz:function(){return this.id},Jm:function(){return this.Gf},Dk:function(a){this.Yc();this.Gf=a;this.Yc(this.lc)},Im:function(){var a=null;this.lc&&(a=this.lc);return a},Yc:function(a){if(a)if(a.Ah[this.id]&&a.Ah[this.id].visible&&this.Hs)a.rb.angeoPanoAddPOIS(this.Hs);else{var b=this.position.getLng(),c=this.position.getLat(),d=a.position;this.heading=H.q.nr(d.getLng(),d.getLat(),
b,c);this.vg=H.q.rz(d.getLng(),d.getLat(),b,c);this.Hs=b=[{id:this.id,panoId:this.Gf,distance:this.vg,name:this.content,x:b,y:c,iconType:this.Sm,iconUrl:this.Rm}];this.visible&&a.rb.angeoPanoAddPOIS(b);this.lc=a;a.Ah[this.id]=this}else this.id&&this.lc&&(this.lc.rb.angeoPanoRemovePOI(this.id),delete this.lc.Ah[this.id])},Zi:function(a){this.Yc();this.position=a;this.Yc(this.lc)},Bi:function(){return this.position},dC:function(a){this.Yc();this.content=a;this.Yc(this.lc)},nz:function(){return this.content},
gC:function(a){this.Yc();this.Sm=a;this.Yc(this.lc)},wz:function(){return this.Sm},fC:function(a){this.Yc();this.Rm=a;this.Yc(this.lc)},th:function(){return this.Rm},Hm:function(){var a=this.lc.position,b=this.position;return this.heading=a=H.q.nr(a.getLng(),a.getLat(),b.getLng(),b.getLat())},Ek:function(a){this.visible!==a&&((this.visible=a)?this.Yc(this.lc):this.Yc())},Mm:function(){return this.visible},k:function(a,b){b=b||{};b.target&&b.viewBounds?H.R.k.call(this,a,b):this.lc.rb.angeoPanoTriggerPOIEvent(this.id,
this.hz[a])}});H.ko.Rd({Yc:"setPano",Im:"getPano",xz:"getId",Dk:"setPanoId",Jm:"getPanoId",Zi:"setPosition",Bi:"getPosition",dC:"setContent",nz:"getContent",gC:"setIconType",wz:"getIconType",fC:"setIcon",th:"getIcon",Fn:"setHeading",Hm:"getHeading",Ek:"setVisible",Mm:"getVisible"});H.lo=H.J.extend({Sa:H.R,h:{dataServerUrl:H.o.mc+"://wsv.amap.com",param:0.00274658203125},j:function(a){H.q.wa(this,a);this.Yi=this.h.dataServerUrl},rD:function(a,b){this.ce="";this.x=[];this.y=[];var c=[],d,f;"[object Array]"===Object.prototype.toString.call(a)?c=a:c.push(a);this.an=c;d=0;for(f=c.length;d<f;d+=1)this.x[d]=c[d].getLng()/this.h.param,this.y[d]=c[d].getLat()/this.h.param,this.ce+=this.x[d]+","+this.y[d]+";";this.ce=this.ce.slice(0,-1);c=new H.T.$(this.Yi+"/AnGeoPoitopanoServer?data=vector&xys="+
this.ce+"&radius="+Number(b)+"&type=nearestpanos",{callback:"callback"});c.a("complete",this.jn,this);c.a("error",this.ea,this)},Im:function(a,b){this.ce="";this.x=[];this.y=[];var c=[],d,f;"[object Array]"===Object.prototype.toString.call(a)?c=a:c.push(a);this.an=c;d=0;for(f=c.length;d<f;d+=1)this.x[d]=c[d].getLng()/this.h.param,this.y[d]=c[d].getLat()/this.h.param,this.ce+=this.x[d]+","+this.y[d]+";";this.ce=this.ce.slice(0,-1);c=new H.T.$(this.Yi+"/AnGeoPoitopanoServer?xys="+this.ce+"&radius="+
Number(b)+"&type=nearestpanos",{callback:"callback"});c.a("complete",this.Ga,this);c.a("error",this.ea,this)},Ez:function(a){a=new H.T.$(this.Yi+"/AnGeoPanoramaServer?data=vector&charset=utf-8&id="+a,{callback:"callback"});a.a("complete",this.hw,this);a.a("error",this.ea,this)},hw:function(a){var b={};(a=a.PosInfo)?(b.info="OK",b.panoId=a.id,b.lnglat=new H.A(a.lon_road,a.lat_road),b.description=a.roadname):b.info="NO_RESULT";this.k("complete",b)},Ga:function(a){var b=[],c,d,f,g;f=0;for(g=this.an.length;f<
g;f+=1)if(d={},a[this.x[f]+","+this.y[f]]){if(c=a[this.x[f]+","+this.y[f]].StreetInfo)d.panoId=c.panoid,d.thumbnail=c.url,d.description=c.roadname,b.push(d)}else d=null,b.push(d);this.k("complete",{info:"OK",panoInfo:b})},jn:function(a){var b=[],c,d,f,g;f=0;for(g=this.an.length;f<g;f+=1){d={};if(a.PosInfo){if(c=a.PosInfo)d.panoId=c.id,d.description=c.roadname,d.heading=c.heading,d.lngLat=new H.A(c.lon_road,c.lat_road)}else d=null;b.push(d)}this.k("complete",{info:"OK",panoInfo:b})},ea:function(a){this.k("error",
{info:"SERVICE_UNAVAILABLE",panoInfo:a})}});H.lo.Rd({Ez:"getPanoById",Im:"getPano"});J.jo=J.extend({h:{transparency:!0,getTileUrl:H.o.mc+"://websv.is.autonavi.com/appmaptile?x=[x]&y=[y]&z=[z]",zIndex:7,type:"overlayer"}});var Y={Pixel:H.F,LngLat:H.A,Size:H.Pc,Bounds:H.vb,PixelBounds:H.Vh,event:Q,Panorama:H.Ge,PanoramaLayer:J.jo,PanoramaService:H.lo,PanoramaMarker:H.ko,Map:P,View2D:la,GroundImage:oa,Marker:X,ImageMarker:ja.bD,Text:ja.hD,Icon:W,MarkerShape:wa,Polyline:T,Polygon:U,Circle:V,ContextMenu:L,InfoWindow:M,Buildings:sa,TileLayer:J,ImageLayer:ta,VectorTile:ra,VectorLayer:qa,CANVAS:"canvas",DOM:"dom"};Y.plugin=P.prototype.plugin;Y.TileLayer.Satellite=J.po;Y.TileLayer.RoadNet=J.no;Y.TileLayer.Traffic=J.ro;
Y.Panorama.Events=H.Ge.R;Y.TileLayer.PanoramaLayer=J.jo;window.AMap=Y;if("undefined"!==typeof arguments&&arguments.callee)try{H.g.dn&&window.localStorage&&((E=window.localStorage["_AMap_"+H.Vc])&&JSON.parse(E).version===H.o.Qh||window.localStorage.setItem("_AMap_"+H.Vc,JSON.stringify({script:"("+arguments.callee+")()",version:H.o.Qh})))}catch(ya){};
_jsload_('http', 'H.T={};H.T.oj=H.J.extend({Sa:[H.R],h:{callback:"cbk",type:"json",charset:"utf-8"},j:function(a,b){H.q.wa(this,b);this.send(a)},send:function(a){var b=H.d.create("script");b.type="text/javascript";b.charset=this.h.charset;var c=this;H.g.kc?b.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||c.k("complete")}:(b.onload=function(){c.k("complete")},b.onerror=function(){c.k("error",{status:0,info:"service error",url:a})});b.src=a;document.getElementsByTagName("head")[0].appendChild(b)}});H.T.$=H.T.oj.extend({send:function(a){function b(){window[c]=null;try{delete window[c]}catch(a){}d.onerror=null;d.parentNode&&d.parentNode.removeChild(d)}a=encodeURI(a);var c=this.h.fun;if(!c||window[c])c=H.q.vz("jsonp_",6)+"_";var d=document.createElement("script");d.type="text/javascript";d.charset="utf-8";d.async=!0;var f=this;H.g.kc||(d.onerror=function(){b();f.k("error",{status:0,info:"service error",url:a})});window[c]=function(a){b();a instanceof Array&&(a={data:a});f.k("complete",a)};var g= "?";-1!==a.indexOf("?")&&(g="&");d.src=a+g+this.h.callback+"="+c;H.T.$.Wo||(H.T.$.Wo=document.getElementsByTagName("head")[0]);H.T.$.Wo.appendChild(d)}});window.AMap.Http={};window.AMap.Http.JSONP=H.T.$;H.T.XMLHttpRequest=H.T.oj.extend({send:function(a){var b=this.TC=new XMLHttpRequest,c=this;b.onreadystatechange=function(){4===b.readyState&&200===b.status?c.k("complete",{url:a,data:b.responseText}):404===b.status&&(b.abort(),c.k("error",{url:a,data:"404"}))};b.open("GET",a);b.send()},abort:function(){this.TC.abort()}}); ',true),_jsload_('map', 'H.de=H.J.extend({j:function(a,b,c,d){this.start=a;this.end=b;this.transition=c;this.precision=d||0;this.bf=!1;return this},Jf:function(a){this.me=+new Date;this.frames=0;this.rg=a;this.startTime=+new Date;this.bf=!0;this.wq=H.q.Gh(this.update,this,!1)},update:function(){this.wq=H.q.Gh(this.update,this,!1);this.frames+=1;var a=+new Date,b=a-this.startTime,b=this.transition?this.transition(this.start,this.end,b,this.frames,a-this.me):null;"number"===typeof b&&Math.abs(b-this.end)<this.precision&&(this.stop(), b=this.end);this.me=a;this.Ch.call(this.rg||this,b)},stop:function(){H.q.Hq(this.wq);this.bf=!1}});H.de.Easing={Linear:{None:function(a){return a}},Bounce:{In:function(a){return 1-(a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375)},Out:function(a){return H.de.Easing.Bounce.In(1-a)}},Cubic:{In:function(a){return 1-a*a*a},Out:function(a){a=1-a;return 1-a*a*a}}};H.Zb=H.J.extend({Sa:[H.R,H.Yb,H.gs],j:function(a,b){this.La=b;this.w=a;this.bA();this.C("renderer",b);this.C("size",b);this.C("zooms",b);this.C("limitBounds",b);this.C("view",b);this.C("lang",b,!0);this.C("layers",b);this.C("overlays",b);this.C("infos",b,!0);this.C("contextmenus",b,!0);this.C("coordsBound",b);this.C("controls",b);this.C("bounds",b);this.C("draw",b);this.fc(["zoomAndCenter","destroy","defaultCursor","jogEnable","animateEnable"],b);this.fc("rotateEnable dragEnable keyboardEnable doubleClickZoom scrollWheel zoomEnable touchZoom".split(" "), b,!0);this.get("jogEnable")?this.Hi=!0:this.Hi=!1;this.Ev();this.Hv();this.C("resizeEnable",b);this.La.map=this;var c=this.get("size"),c=c.width*c.height/65536;H.g.dc&&3<c&&(this.yq=!0);this.nc()},getTargetLevel:function(){var a=this.get("targetLevel",null,!0);a||(a=this.get("zoom"));return a},resizeEnableChanged:function(){this.Jv()},Ux:function(){var a=this.get("size");!a.Ba(this.Pl)&&this.get("resizeEnable")&&(this.Ln=!0,this.set("display"),this.O("resize",{NA:this.Pl,ps:a}),this.Pl=a)},Iy:function(){var a; if(this.get("center")instanceof H.A){a=new H.vb(-180,-85,180,85);var b=this.qa(a.uh());a=this.qa(a.wh());this.gl={Vb:b.x,qb:b.y,Uc:a.x,Nc:a.y}}else a=this.get("limitBounds"),this.gl={Vb:a[0],qb:a[1],Uc:a[2],Nc:a[3]}},uy:function(){var a=this.get("limitBounds"),b=this.get("bounds");b.la.r>b.ba.r&&(b.ba.r+=360);if(!a.contains(b)){var c=this.get("center").Ma();a.Kc()<b.Kc()?c.r=a.xd().r:(a.la.r>b.la.r&&(c.r+=a.la.r-b.la.r),a.ba.r<b.ba.r&&(c.r+=a.ba.r-b.ba.r));a.Jc()<b.Jc()?c.B=a.xd().B:(a.la.B>b.la.B&& (c.B+=a.la.B-b.la.B),a.ba.B<b.ba.B&&(c.B+=a.ba.B-b.ba.B));return c}},Co:function(){this.gl||this.Iy();return this.gl},Jv:function(){if(this.get("resizeEnable")){if(!this.li){this.Pl=this.get("size");var a=H.q.bind(function(){this.Ux();this.li=setTimeout(a,200)},this);this.li=setTimeout(a,200)}}else this.li&&(clearTimeout(this.li),delete this.li)},rendererChanged:function(){this.ev();var a=this.get("renderer");"canvas"!==a&&a?"dom"===a&&(this.Li=new H.Q.nb.Zb(this)):this.Li=new H.Q.canvas.Zb(this)}, ev:function(){H.g.Wm||this.set("renderer","dom",!0)},viewChanged:function(a){if(a=this.get("view"))this.view=new H.Bu(a,this)},bA:function(){var a=this.w;H.d.kg(a,"amap-container");var b={};b.Ub=H.d.create("div",a,"amap-maps");b.rf=H.d.create("div",b.Ub,"amap-drags");b.I=H.d.create("div",b.rf,"amap-layers");b.da=H.d.create("div",b.rf,"amap-overlays");b.controls=H.d.create("div",a,"amap-controls");b.zA=H.d.create("img",a,"amap-logo");b.zA.src=H.g.dc?this.La.h.logoUrlRetina:this.La.h.logoUrl;b.Ly=H.d.create("div", a,"amap-copyright");b.Ly.innerHTML=350>H.d.ck(this.w).width?"":this.La.h.copyright;this.aa=b},layersChanged:function(){this.Qa=this.Qa||[];for(var a=this.get("layers"),b=0;b<this.Qa.length;b+=1)if(this.Qa[b]!==this.Ua&&this.Qa[b]!==this.If&&-1===H.q.indexOf(a,this.Qa[b].lh)){this.Qa[b].wc&&this.Qa[b].Oq();var c=this.Qa[b].xa;if(c){if(c.length)for(var d=0;d<c.length;d+=1)c[d].parentNode&&c[d].parentNode.removeChild(c[d]);else c.parentNode&&c.parentNode.removeChild(c);this.Qa[b].xa=null}this.Qa=H.q.tg(this.Qa, b);b=-1}for(b=0;b<a.length;b+=1)if(a[b].qg)-1===H.q.indexOf(this.Qa,a[b].I)&&this.Qa.push(a[b].I);else if(c=this.pg(a[b]))this.Qa.push(c),a[b].qg=!0,a[b].I=c;this.La.isHotspotChanged();this.set("display",0)},controlsChanged:function(){var a=this.get("controls"),b,c;if(a.add&&0<a.add.length)for(;0<a.add.length;)b=a.add.shift(),(c=b.ri||b.addTo)&&c.call(b,this.La,this.aa.controls);else if(a.remove&&a.remove.length)for(;0<a.remove.length;)b=a.remove.shift(),(c=b.Ui||b.removeFrom)&&c.call(b,this.La,this.aa.controls)}, kq:function(){var a=this;this.lq=!1;a.Ua||(a.Ua=new H.I.yb(new qa,a),a.Ua.Ze=36,a.Ua.$e=36,a.Ua.set("zIndex",120),a.Qa.push(a.Ua),a.Ua.rh=!0);for(var b=a.get("overlays"),c=[],d=0;d<a.Fa.length;d+=1)if(-1===H.q.indexOf(b,a.Fa[d].sb))if(a.Fa[d].sb instanceof M||a.Fa[d].sb instanceof L)a.Fa[d].vs();else{a.Ua&&a.Fa[d]instanceof H.da.mj?a.Ua.Ss([a.Fa[d].t]):a.If&&a.If.Ss([a.Fa[d].t]);if(a.Fa[d].t.D)H.d.remove(a.Fa[d].t.D),a.Fa[d].t.D=null;else if(a.Fa[d].t.pa){for(var f=0;f<a.Fa[d].t.pa.length;f+=1)H.d.remove(a.Fa[d].t.pa[f][0]); a.Fa[d].t.pa=null}a.Fa[d].Vd&&a.Fa[d].Vd.stop();a.Fa[d].sb.qg=!1;a.Fa[d].sb.bd.map=null;a.Fa[d].sb.da=null;a.Fa[d].sb=null;a.Fa[d].t.Xy();a.Fa[d].t=null;a.Fa[d].Tn();a.Fa[d].bd=null;a.Fa[d].ui();c.push(a.Fa[d])}for(d=0;d<c.length;d+=1)a.Fa=H.q.tg(a.Fa,H.q.indexOf(a.Fa,c[d]));var g=[],h=[];H.q.cC(function(b){if(!b.qg&&b.We){var c=b.da||a.py(b);c&&(a.Fa.push(c),c instanceof H.da.Tk||c instanceof H.da.Qk?c.ss():c instanceof H.da.mj?g.push(c.t):h.push(c.t),b.qg=!0)}},b);g.length&&a.Ua.lg(g);h.length&& (a.If||(a.If=new H.I.yb(new qa,a),a.If.set("zIndex",110),a.Qa.push(a.If)),a.If.lg(h));a.set("display",0)},overlaysChanged:function(){this.Fa=this.Fa||[];this.get("overlays")&&0===this.get("overlays").length?this.kq():this.lq||(H.q.Gh(this.kq,this),this.lq=!0)},contextmenusChanged:function(){var a=this.get("contextmenu");if(a){var b=this;H.$c.load("overlay",function(){b.Xj=new H.da.Qk(a,b);b.set("display",0)})}},infosChanged:function(){var a=this.get("infos");if(a){this.zf=this.zf||{};var b,c=this; H.$c.load("overlay",function(){for(var d in a)a.hasOwnProperty(d)&&(b=a[d],c.zf[d]=c.zf[d]||new H.da.Tk(b,c))})}},py:function(a){var b=null;if(a instanceof X)b=new H.da.mj(a,this);else if(a instanceof L)b=new H.da.Qk(a,this);else if(a instanceof M)b=new H.da.Tk(a,this);else{var c=["overlay","dom"!==this.get("renderer")||H.g.ok?"cvector":"dvector"];if(!this.OC&&!H.$c.hA(c)){var d=this;H.$c.ik(["overlay","dom"!==this.get("renderer")||H.g.ok?"cvector":"dvector"],function(){this.OC=!0;d.overlaysChanged()}); return}a instanceof U?b=new H.da.xb(a,this):a instanceof T?b=new H.da.mu(a,this):a instanceof V&&(b=new H.da.Ce(a,this))}return b},GD:function(){function a(){}var b=new H.I.yb,c=[],d=new H.A(116.405467,39.907761);new H.style.Ra.Og;for(var f=0;100>f;f+=1)for(var g=0;100>g;g+=1){var h=new H.A(d.r+0.02*g,d.B+0.02*f),h=new H.Nb({name:"point"+(100*f+g),map:this,P:new H.G.wb(this.qa(h))});c[100*f+g]=h;h.a("hover",a,h)}b.lg(c);this.Qa.push(b)},ea:function(){},FD:function(a){var b=new H.I.yb,c=[],c=(new H.bo({map:this})).Ti(a); b.lg(c);this.Qa.push(b);this.set("display",0)},pg:function(a){a=a.pg(this);if(!a)return null;if(a.length){var b=this;H.$c.ik(a,function(){b.layersChanged()})}else return a;return null},uE:function(){return this.aa},qF:function(){this.set("display",0)},displayChanged:function(a){this.VB(a)},VB:function(a){if(a)if(H.q.Hq(this.UB),H.g.uq){var b=this;setTimeout(function(){b.nc()},0)}else this.nc();else this.Jt||(this.UB=H.q.Gh(this.nc,this),this.Jt=!0)},nc:function(){this.Jt=!1;var a={};if(this.Qa){a.Qa= this.Qa.sort(function(a,b){return a.get("zIndex")>b.get("zIndex")?1:a.get("zIndex")===b.get("zIndex")?a.Do>b.Do?1:-1:-1});a.size=this.get("size");a.ja=H.g.ja;a.ha=this.view.Nz();a.be=H.g.ja&&(this.H&&this.H.Sb||this.jd&&this.jd.bf);this.be=a.be;a.Hb=a.ha.zoom<<0!==a.ha.zoom;a.ms=!a.Hb||0.5>Math.abs(a.ha.zoom-this.get("targetLevel"));a.ua=this.get("coordsBound");a.yq=this.yq;for(var b=!1,c=0;c<this.Qa.length;c+=1)this.Qa[c].xg().dc&&(b=!0);a.dc=b;a.scale=Math.pow(2,a.ha.zoom-a.ha.ca);this.Li.nc(a)}}, tE:function(){return this.Li},oz:function(){var a=[],b=this.get("controls").bc,c;for(c in b)b[c].vh&&b[c].vh()&&a.push(b[c].vh());return a},destroyChanged:function(){this.yx();this.Nl&&this.Nl();this.Qx();this.w.ml=null},Qx:function(){var a=this.w;H.d.zB(a);delete this.wD;H.d.Gg(a,"amap-container")},jogEnableChanged:function(){this.get("jogEnable")?this.Hi=!0:this.Hi=!1},drawChanged:function(){var a=this,b,c,d=this.get("draw");if(d){this.Ue||(this.Ue=[]);b=0;for(c=this.Ue.length;b<c;b+=1)this.Ue[b].Hg(); H.$c.load("interaction",function(){var b=new H.kj({type:d,I:a.If},a);a.Ue.push(b);a.loaded=!0})}else if(this.Ue)for(b=0,c=this.Ue.length;b<c;b+=1)this.Ue[b].Hg(),this.Ue[b].Cy(),this.u("click",this.Ue[b].xh,this)}});H.Zb.vc({Ev:function(){H.g.Za&&this.Xu();H.g.ja||this.Uu()},yx:function(){H.g.Za&&this.aw();H.g.ja||this.Zv()},zoomEnableChanged:function(){this.get("zoomEnable")?(H.g.Za&&this.zq(),H.g.ja||this.Wu()):(H.g.Za&&this.rs(),H.g.ja||this.$v())},mousewheelChanged:function(){},kd:function(a,b){var c,d={};a||(a=window.event);d.type=a.type;var f=H.l.Rc(a,this.aa.Ub);H.g.Za&&("touchend"!==a.type?this.H.mp=f:f=this.H.mp);d.Ia=f;d.af=this.qm(f);d.Tb=this.Se(f);(f=this.vv(d.af))&&0<f.length&&f[0].gh&&(c=f[0].gh); c||(c=this);d.qc=c;d.nD=a.altKey;d.ctrlKey=a.ctrlKey;d.button=H.g.Za?0:a.button;!b&&a.preventDefault&&a.preventDefault();delete d.type;return d},eh:function(a){return a&&a!==this&&a!==document},Op:function(){if((!this.Qd||this.Qd.bf)&&this.H.wi&&this.H&&this.H.zd){var a=this.H.wi.Ia.sa(this.H.zd);a.x||a.y?(this.H.yj=!0,this.H.ci||(this.H.xi.k("dragstart",this.H.$q),this.H.ci=!0),this.H.xi.k("dragging",this.H.wi),this.H.zd=this.H.wi.Ia):this.H.yj=!1}},pC:function(a){for(var b=[],c=0;c<a.length;c+= 1)a[c]&&(b=b.concat(a[c]));b.sort(function(a,b){return a.get("isTop")?-1:b.get("isTop")?1:a.get("zIndex")>b.get("zIndex")||a.get("zIndex")===b.get("zIndex")&&a.ak>b.ak?-1:1});return b},vv:function(a){var b,c=this;this.Li.Gm(a,this.Qa,function(a){b=a;b=c.pC(b)},function(){b=[]});return b}});H.Zb.vc({Hv:function(){this.a("moveend",this.XA,this);this.ql()},XA:function(a){this.WB();!a.jA&&this.get("limitBounds")?(a=this.uy())&&!a.Ba(this.get("center"))?this.Bs(a,!1,!0):this.O("moveend"):this.O("moveend")},dragEnableChanged:function(){this.get("dragEnable")?this.pl():this.Ml()},O:function(a,b){var c;b&&(c=b.ps?{type:a,newsize:b.ps,oldsize:b.NA}:{type:a,pixel:b.Ia,target:this.La,lnglat:b.Tb});this.La.k(a,c)},ql:function(){this.a("click",this.uw);this.a("dblclick",this.ww);H.g.Za&&this.Zu(); H.g.ja||this.Vu()},Bl:function(a){var b=this;return function(c){b.O(a,c)}},Cj:function(a,b){var c=this.getTargetLevel(),c=0<b?Math.floor(c)+1:Math.ceil(c)-1,c=Math.min(Math.max(c,this.get("zooms")[0]),this.get("zooms")[1]);c===this.get("zoom")||this.Ed&&this.Ed.bf&&c===this.Ed.end||this.gj(c,!1,a)},uw:function(a){this.O("click",a)},ww:function(a){this.get("doubleClickZoom")&&this.get("zoomEnable")&&this.Cj(a.af,1);this.O("dblclick",a)},yD:function(a){this.Cj(a.JF,a.KF);this.O("touchend",a)},pl:function(){this.get("dragEnable")&& (this.a("dragstart",this.xp),this.a("dragging",this.vp),this.a("dragend",this.wp))},Ml:function(){this.get("dragEnable")||(this.u("dragstart",this.xp),this.u("dragging",this.vp),this.u("dragend",this.wp))},xp:function(a){this.H.ar=a.Ia.x;this.H.br=a.Ia.y;this.jd&&(this.jd.stop(),this.set("display",1),this.zm());this.O("dragstart");this.O("movestart");this.k("movestart",a);this.sC()},vp:function(a){var b=this.H,c=a.Ia.x-b.ar,d=a.Ia.y-b.br;if(d||c){this.H.yj=!0;b.ar=a.Ia.x;b.br=a.Ia.y;a=c;var b=d,f= this.get("rotateEnable")?this.get("rotation"):0;f&&(f*=Math.PI/180,a=c*Math.cos(f)+Math.sin(f)*d,b=-Math.sin(f)*c+Math.cos(f)*d);a=this.get("centerCoords").sa((new H.F(a,b)).Wa(this.get("resolution")));(b=this.Lq(a))&&(d=Math.round(this.vf(b).sa(this.vf(a)).y));this.Ef(this.aa.rf,c,d);a.x=(a.x+H.q.Di)%H.q.Di;this.set("centerCoords",a,!0);this.set("center",this.Ic(a),!0);this.Hi&&(this.me?(a=new Date,this.fi=200<a-this.me?new H.F(0,0):new H.F(c,d),this.vj=a-this.me,this.me=a):this.me=new Date);this.O("dragging"); this.O("mapmove")}else this.H.yj=!1},Ef:function(a,b,c){if(a){var d=parseInt(a.style.left)||0;a.style.top=(parseInt(a.style.top)||0)+c+"px";a.style.left=d+b+"px"}},Lq:function(a){var b=this.Co(),c=this.get("size").height*this.get("resolution")/2;return a.y<b.qb+c?(a.y=b.qb+c,a):a.y>b.Nc-c?(a.y=b.Nc-c,a):null},wp:function(){this.H.zd=null;this.O("dragend");if(this.Hi&&this.fi)if(this.H.yj){var a=this.fi,b=new H.F(0,0),c=a.rc(b);12<c/this.vj&&(a.x*=12/c,a.y*=12/c);this.jd=new H.de(a,b,function(a,b, c){return 400<=c?b:a.Wa(1-c/400).floor()},1);this.jd.Ch=function(a){if(2>Math.abs(a.x)&&2>Math.abs(a.y))this.zm(),this.jd.stop(),this.vj=this.fi=this.me=null,this.set("display",1),this.k("moveend");else{var b=a.x,c=a.y,h=this.get("rotateEnable")?this.get("rotation"):0;h&&(h*=Math.PI/180,b=a.x*Math.cos(h)+Math.sin(h)*a.y,c=-Math.sin(h)*a.x+Math.cos(h)*a.y);b=this.get("centerCoords").sa((new H.F(b,c)).Wa(this.get("resolution")));c=this.Lq(b);h=a.y;c&&(h=Math.round(this.vf(c).sa(this.vf(b)).y));this.Ef(this.aa.rf, a.x,h);b.x=(b.x+H.q.Di)%H.q.Di;this.set("centerCoords",b,!0);this.set("center",this.Ic(b),!0);this.O("mapmove")}};this.jd.Jf(this)}else this.k("moveend"),this.vj=this.fi=this.me=null;else this.zm(),this.set("display",1),this.k("moveend"),this.vj=this.fi=this.me=null},sC:function(){if(!H.g.Za&&!this.H.refresh){var a=this;this.H.refresh=setInterval(function(){a.set("display",1)},200)}},zm:function(){!H.g.Za&&this.H.refresh&&(clearInterval(this.H.refresh),this.H.refresh=null)},WB:function(){this.set("refresh", 1)}});H.Zb.vc({setZoomSlow:function(a){this.gj(a,!this.get("animateEnable"))},setPanTo:function(a){this.Bs(a,!this.get("animateEnable"))},setPanBy:function(a){this.ln(a,!this.get("animateEnable"))},zoomChanged:function(){this.k("closeOverlays");this.set("display",0)},rotationChanged:function(){this.set("display",0)},centerCoordsChanged:function(){this.k("closeOverlays");this.set("display",1)}});H.Bu=H.J.extend({Sa:[H.R,H.Yb],j:function(a,b){this.view=a;this.map=b;this.C("zoom",a);this.C("rotation",a);this.C("size",b);this.C("resolution",a);this.C("crs",a);this.C("rotateEnable",b);a.C("centerCoords",this,!0);b.C("resolution",this);b.C("zoom",this);b.C("crs",this);b.C("resolution",this);b.C("centerCoords",this);b.C("rotation",this);b.C("center",this);this.C("center",a)},centerChanged:function(){this.set("centerCoords",this.map.qa(this.get("center")))},centerCoordsChanged:function(){var a= this.map.Co(),b=this.get("centerCoords"),c=this.get("size").height*this.getResolution()/2;this.get("size");this.getResolution();this.get("center")instanceof H.A?b.x=(b.x+4.00750166855784E7)%4.00750166855784E7:0>b.x?b.x=0:b.x>a.Uc&&(b.x=a.Uc);b.y<a.qb+c?b.y=a.qb+c:b.y>a.Nc-c&&(b.y=a.Nc-c)},zoomChanged:function(){},rotationChanged:function(){},getResolution:function(a){return this.get("crs").Sc(a||this.get("zoom"))},Nz:function(){return{zoom:this.get("zoom"),vd:this.get("center"),bb:this.get("centerCoords"), rotation:this.get("rotateEnable")&&parseInt(this.get("rotation"))||0,Cb:this.get("crs"),L:this.getResolution(),ca:Math.round(this.get("zoom")),Xa:this.getResolution(Math.round(this.get("zoom")))}}}); ',true),_jsload_('anip', 'H.Zb.vc({gj:function(a,b,c,d){function f(b){var f=this.vf(c||this.get("centerCoords"));this.set("zoom",b);var k=this.vf(c||this.get("centerCoords")).sa(f),l=(this.get("rotateEnable")?this.get("rotation"):0)*Math.PI/180,f=k.x*Math.cos(l)+Math.sin(l)*k.y,k=-Math.sin(l)*k.x+Math.cos(l)*k.y;this.set("centerCoords",this.get("centerCoords").add((new H.F(f,k)).Wa(this.get("resolution"))));f&&k&&this.O("mapmove");b!==a||d||(this.set("targetLevel",null),this.O("zoomchange"),this.O("zoomend"),c&&this.k("moveend"), this.k("zoomend"))}a=Math.min(Math.max(a,this.get("zooms")[0]),this.get("zooms")[1]);this.jd&&this.jd.stop();this.Ed&&this.Ed.bf&&(this.Ed.stop(),d=!0,this.set("targetLevel",null));b?f.call(this,a):(this.set("targetLevel",a),this.Ed=new H.de(this.get("zoom"),a,null,0.1),this.Ed.transition=function(a,b,c){return 500<=c?b:(b-a)*(1-Math.pow(1-c/500,4))+a},this.Ed.Ch=f,this.Ed.Jf(this),d?d=!1:(this.O("zoomstart"),this.O("movestart"),this.k("zoomstart")))},Bs:function(a,b,c){function d(a){var b=Math.abs(a.y- l.y);Math.abs(a.x-l.x)<2*f&&b<2*f?(this.xc&&this.xc.stop(),this.set("centerCoords",l),this.O("mapmove"),this.k("moveend",{jA:c})):(this.set("centerCoords",a),this.O("mapmove"))}var f=this.get("resolution"),g;this.xc&&this.xc.bf&&(this.xc.stop(),g=!0);this.get("bounds").contains(a)||(b=!0);var h=this.get("center"),k=this.qa(this.get("center")),l=this.qa(a),m=H.q.Di;180<h.r-a.r?l.x+=m:-180>h.r-a.r&&(l.x-=m);if(b)g||this.O("movestart"),d.call(this,this.qa(a));else{var n=4*k.rc(l)/this.get("resolution"), n=Math.max(n,250),n=Math.min(n,600);this.xc=new H.de(k,l,null,1);this.xc.transition=function(a,b,c){return c>=n?b:b.sa(a).Wa(1-Math.pow(1-c/n,2)).add(a)};this.xc.Ch=d;this.xc.Jf(this);g||(this.O("movestart"),this.k("movestart"))}},zoomAndCenterChanged:function(a){var b=a[0];b<this.get("zooms")[0]&&(b=this.get("zooms")[0]);b>this.get("zooms")[1]&&(b=this.get("zooms")[1]);var c=a[1];if(b!==this.get("zoom")||!c.Ba(this.get("center"))){this.Ed&&this.Ed.bf&&(this.Ed.stop(),this.set("targetLevel",null)); this.get("animateEnable")||(this.set("zoom",b),this.set("center",c,!0));this.set("targetLevel",b);var d=b-this.get("zoom"),f=c.sa(this.get("center")),g;this.xc&&this.xc.bf&&(this.xc.stop(),g=!0,this.set("targetLevel",null));this.xc=new H.de(1,0,null,0.0010);this.xc.transition=function(a,b,c){return 500<=c?0:Math.pow(1-c/500,2)};this.xc.Ch=function(a){this.set("zoom",b-d*a);this.set("center",c.sa(f.Wa(a)));0===a?(this.xc.stop(),this.set("targetLevel",null),this.k("moveend"),this.O("zoomchange"),this.O("zoomend"), this.k("zoomend")):this.O("mapmove")};this.xc.Jf(this);g||(this.O("movestart"),this.O("zoomstart"),this.k("zoomstart"))}}}); ',true),_jsload_('layers', 'H.I={}; H.I.De=H.J.extend({Sa:[H.R,H.Yb],j:function(a,b){this.lh=a;this.ub=[3,18];this.Do=H.q.Ya(this);a&&this.fc(["opacity","visible","zIndex","zooms"],a);this.f=b;this.C("display",b)},O:function(a,b){this.lh.k(a,b)},visibleChanged:function(){this.set("display",0)},zIndexChanged:function(){this.set("display",0)},et:function(a){if("opacity"in a.style)H.d.Ih(a,this.opacity);else for(var b=0;b<a.childNodes.length;b+=1)H.d.Ih(a.childNodes[b],this.opacity)},opacityChanged:function(){var a=this.get("opacity");this.opacity= Math.min(Math.max(0,a),1);if(a=this.xa)if(a.length)for(var b=0;b<a.length;b+=1)this.et(a[b]);else this.et(a)},Fm:function(){var a=this.get("bounds");if(a){if(a instanceof H.vb){var b=a.uh(),c=a.wh(),d=this.f.qa(new H.A(180,0)).x,f=this.f.qa(b),g=this.f.qa(c),h=this.f.get("center");b.r>c.r?0<h.r?g.x+=d:f.x-=d:0<h.r?(0>b.r&&(f.x+=d),0>c.r&&(g.x+=d)):(0<b.r&&(f.x-=d),0<c.r&&(g.x-=d));this.e=[f.x,f.y,g.x,g.y]}a instanceof H.Vh&&(this.e=[a.Ea.x,a.Ea.y,a.Va.x,a.Va.y]);return this.e}return null}});function Aa(a,b,c){this.z=a;this.x=b;this.y=c}Aa.prototype.Ma=function(){return new Aa(this.z,this.x,this.y)};Aa.prototype.toString=function(){return[this.z,this.x,this.y].join("/")};H.Rf=function(a,b){this.oa=a;this.key=a.toString();this.url=b};H.Th=Aa;H.I.Rf=H.I.De.extend({j:function(a,b){arguments.callee.ta.apply(this,arguments);this.C("tileSize",a);this.C("tiles",a);this.fc(["zooms","type","detectRetina","tileFun","errorUrl"],a);this.C("lang",b);var c="overlayer"===a.get("type");this.Gd=!c&&!H.g.ja;H.g.kc&&(this.Gd=!1);var d=b.get("size"),d=d.width*d.height/65536;H.g.dc&&9<d&&(this.Gd=!1);this.Je=!c;this.Ke=!c;this.C("reload",a)},langChanged:function(){this.set("reload")},reloadChanged:function(){this.set("display",0)},tileFunChanged:function(){this.set("display", 0)},xg:function(){return{Oa:this.get("tileSize"),visible:this.get("visible"),e:this.Fm(),ub:this.get("zooms"),Pj:this.Gd,Je:this.Je,Ke:this.Ke,opacity:this.get("opacity"),yf:this.get("tileFun"),dc:this.get("detectRetina")&&H.g.dc&&H.g.ja}}});H.I.yb=H.I.De.extend({j:function(a,b){this.map=b;this.Mg=0;this.Te=!1;this.$e=this.Ze=0;this.Bh=[];arguments.callee.ta.apply(this,arguments);a&&(this.C("dataSources",a),this.C("style",a));this.C("display",b);this.Ff=[];this.Mb=new H.I.jj},xg:function(){return{visible:this.get("visible"),ub:this.get("zooms"),opacity:this.get("opacity"),zIndex:this.get("zIndex")}},dataSourcesChanged:function(){this.hB(this.get("dataSources"))},styleChanged:function(){this.set("display",0)},hB:function(a){if(a)for(var b, c={},d=0,f=a.length;d<f;d+=1){c=a[d];b=c.type;var g=c.tF,c=c.url;if(!c||!b)break;c&&b&&!this.fb&&(this.fb={},this.fb[c]||this.Dx(c,b,g))}},tr:function(a){if("geojson"===a)return new H.bo({map:this.map});if("topjson"===a)return new H.wu({map:this.map});if("subway"===a)return new H.uu({map:this.map})},lB:function(a){if(a){var b=[],b=[],c={};if(a.rules){for(var b=a.rules,d=0,f=b.length;d<f;d+=1){for(var g=[],h=b[d].symbolizers,k=0,l=h.length;k<l;k+=1)h[k].fill&&(g[k]=new H.style.Ra.Rk(h[k].fill)),h[k].stroke&& (g[k]=new H.style.Ra.Ug(h[k].stroke));h=g;b[d].Ig=h;b[d]=new H.style.ou(b[d])}c.rules=b}if(a.symbolizers){b=a.symbolizers;a=0;for(d=b.length;a<d;a+=1)b[a].fill&&(b[a]=new H.style.Ra.Rk(b[a].fill)),b[a].stroke&&(b[a]=new H.style.Ra.Ug(b[a].stroke));c.Ig=b}a=new H.al(c)}else a=new H.al({});this.set("style",a);return a},Dx:function(a,b){if(-1===H.q.indexOf(a,H.o.ga)){var c=new H.T.$(a);c.a("complete",function(c){c=this.fb[a]=this.tr(b).Ti(c);this.lg(c);this.O("complete")},this);c.a("error",this.ea,this)}else(new H.T.XMLHttpRequest(a)).a("complete", function(c){c=eval("("+c.data+")");c=this.fb[a]=this.tr(b).Ti(c);this.lg(c)},this)},tB:function(a){a.tk>this.Ye&&(this.Ye=a.tk)},lg:function(a){this.Te=!0;for(var b,c,d,f=0,g=a.length;f<g;f+=1){b=a[f];this.Mb.add(b);if(!this.rh){c=this.pr(b);for(var h=0;h<c.length;h+=1)if(d=c[h],d instanceof H.style.za.Ce&&(b.a("rad",this.tB,this),this.Ye||(this.Ye=b.get("radius")),b.tk>this.Ye&&(this.Ye=b.get("radius"))),d=b.get("strokeWeight")||0,!this.lk||d>this.lk)this.lk=d}this.rh||this.Ff.push(b);b.C("feature", this,!0)}},clear:function(){this.Te=!0;this.Mb.clear();this.dispatchEvent(new H.I.iD(H.I.jD.dD,[],[]))},yd:function(a){return this.Mb.yd(a)},pr:function(a){var b,c=this.get("style"),d=a.Oc;c instanceof H.al||(c=this.lB(c));if(d&&0<d.length)b=c.Sq(d,a);else{if(c.ct.length||c.Oc.length)b=c.Ny(a);b||(b=a.qz())}return b},Qz:function(a){function b(a,b){return a.ak-b.ak}var c=[],d,f,g,h,k,l={};for(d in a)if(a.hasOwnProperty(d)){g=a[d];h=g.get("zIndex");for(f in l)if(l.hasOwnProperty(f)&&(k=c[l[f]][2],k=== h))break;"undefined"===typeof l[h]&&(c.push([[],[],h]),l[h]=c.length-1);h=c[l[h]];h[0].push(g)}c.sort(this.nC);a=0;for(d=c.length;a<d;a+=1)c[a][0].sort(b);return c},Pz:function(a){var b={},c=[],d,f,g,h,k,l,m,n;for(d in a)if(a.hasOwnProperty(d))for(h=a[d],m=this.pr(h),k=m.length,f=0;f<k;f+=1){n=m[f];for(g in b)if(b.hasOwnProperty(g)&&(l=c[b[g]][1],n.constructor===l.constructor&&n.Ba(l))){n=l;break}l=H.q.Ya(n);"undefined"===typeof b[l]&&(c.push([[],n,[]]),b[l]=c.length-1);n=c[b[l]];n[0][n[0].length]= h}c.sort(this.oC);return c},featureChanged:function(a){this.Te=!0;var b=a.target,c=b.P;0!==this.Mb.tz([H.q.Ya(b)]).length&&(this.Mb.remove(b,a.Cg),c&&!a.Ty&&this.Mb.add(b))},Ss:function(a){this.Te=!0;for(var b,c=0,d=a.length;c<d;c+=1)b=a[c],b.P.Cg=null,b.wf(!0),b.Mk("feature")},oC:function(a,b){return a[1].zIndex===b[1].zIndex?H.q.Ya(a[1])-H.q.Ya(b[1]):a[1].zIndex-b[1].zIndex},nC:function(a,b){return a[2]-b[2]},zF:function(a){return a.vE()===H.I.kD.eD}});H.I.jj=H.J.extend({j:function(){this.clear()},clear:function(){this.yg=[];this.wn=new H.od},add:function(a){var b=H.q.Ya(a),c=a.P;this.yg[b]||(this.count+=1,this.yg[b]=a,c&&!H.e.Ba(c.Ab(),[Infinity,Infinity,-Infinity,-Infinity])&&this.wn.dA(c.Ab(),a))},qE:function(){return this.yg},yd:function(a){return this.wn.bC(a)},tz:function(a){var b=a.length,c=[],d;for(d=0;d<b;d+=1)this.yg[a[d]]&&c.push(this.yg[a[d]]);return c},remove:function(a,b){var c=H.q.Ya(a).toString(),d=a.P;this.yg[c]&&(delete this.yg[c], d&&(c="undefined"!==typeof b?b:d.Ab(),this.wn.remove(c,a)))}});function Ba(a,b,c){this.url=a;this.ti=b;this.mr=c;this.ud=this.zk=!1}function Ca(a,b){var c=Z;return function(){return c.call(this,a,b)}}function Z(a,b){if(!a.ud){a.gE=+new Date;a.loaded=b;clearTimeout(a.zC);var c=a.fs;c.Wd.remove(a.url)&&c.Sv();c=a.Zr?a.fb:a.va;a.fb=null;a.ud||!b&&!a.mr||a.ti(b?c:null,a);a.Bf?(a.Bf.ui(),a.Bf=null):c&&(c.onload=null,c.onerror=null,c.onabort=null,a.va=null)}} H.co=H.J.extend({pD:"assets/image/blank.gif",j:function(a,b,c){this.timeout=b||15E3;this.Fg=new H.Fe(1024);this.Wd=new H.Fe(1024);this.Qq=a;this.$j=c},Qo:function(a){a&&this.Wd.count>=this.Qq&&(a=this.Wd.Ob.ra.value,a.ud&&(this.Wd.remove(a.url),this.Io(a)));for(;this.Fg.count&&!(this.Wd.count>=this.Qq);)this.lv(this.Fg.shift())},Sv:function(){if(!this.Ro){this.Ro=!0;var a=this;setTimeout(function(){a.Ro=!1;a.Qo()},0)}},lv:function(a){if(a.Zr){if(!a.Bf&&!this.Wd.get(a.url)){var b=new H.T.$(a.url,{callback:"callback", fun:"vt"+a.key});b.a("complete",function(b){a.fb=b;Z(a,!0)},this);b.a("error",function(){Z(a,!1)},this);a.Bf=b;a.fs=this;this.Wd.set(a.url,a)}}else b=document.createElement("img"),b.src=a.url,a.va=b,a.fs=this,a.startTime=+new Date,a.zk=!0,b.complete?Z(a,!0):(this.Wd.set(a.url,a),b.onload=Ca(a,!0),b.onerror=Ca(a,!1),b.onabort=Ca(a,!1),a.zC=setTimeout(Ca(a,!1),this.timeout))},Io:function(a){if(a.zk){var b=a.va;Z(a,!1);b.src=this.$j?this.$j:H.q.dr;a.ud=!0;a.DD=!0}},uA:function(a,b,c){return this.ds(a.url, b,c,!0,a.oa.z+"_"+a.oa.x+"_"+a.oa.y)},ds:function(a,b,c,d,f){var g=this.Wd.get(a);if(g&&g.ud)g.ud=!1,g.ti=b,g.mr=c;else{g=new Ba(a,b,c);g.Zr=d;g.key=f;if(this.Fg.get(H.q.Ya(g)))return;this.Fg.set(H.q.Ya(g),g);this.Qo(!0)}return g},QD:function(a){a.ud||(a.ud=!0,this.Fg.remove(H.q.Ya(a)))},clear:function(a){this.Fg.forEach(function(a){a.ud=!0});this.Fg.clear();if(a)for(;a=this.Wd.pop();)this.Io(a);else this.Wd.forEach(function(a){a.ud=!0})}});var Da=function(){function a(a){this.dl[H.q.Ya(a)]=a;return this}function b(a){delete this.dl[H.q.Ya(a)];return this}return function(){function c(){var a=c.dl,b,g=[],h;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&g.push(a[h]);for(a=g.length-1;0<=a;a-=1)h=g[a].apply(this,arguments),void 0!==h&&(b=h);return b}c.dl={};c.ED=a;c.pF=b;return c}}(); H.Fe=H.J.extend({j:function(a,b){this.Zf=a|0;this.nl=!!b;this.count=0;this.RA=Da();this.clear()},Xm:function(){return!this.count},JE:function(){return this.count>=this.Zf},CF:function(a){this.Zf!==a&&(this.Zf=a|0)&&this.hq(this.Zf)},get:function(a,b){var c=this.ap(a);return c?c.value:b},set:function(a,b){var c=this.ap(a);c?c.value=b:(c=new H.Fe.Uh(a,b),this.f[a]=c,this.kp(c),this.count+=1)},remove:function(a){return Object.prototype.hasOwnProperty.call(this.f,a)?(this.ji(this.f[a]),!0):!1},forEach:function(a, b){for(var c=this.Ob.next;c!==this.Ob;c=c.next)a.call(b,c.value,c.key,this)},Qi:function(a,b){return Object.prototype.hasOwnProperty.call(this.f,a)?this.f[a].value:b},fF:function(){return this.Ob.next.value},gF:function(){return this.Ob.ra.value},shift:function(){return this.Np(this.Ob.next)},pop:function(){return this.Np(this.Ob.ra)},ap:function(a){if(Object.prototype.hasOwnProperty.call(this.f,a))return a=this.f[a],this.nl&&(a.remove(),this.kp(a)),a},kp:function(a){this.nl?(a.next=this.Ob.next, a.ra=this.Ob,this.Ob.next=a,a.next.ra=a):(a.ra=this.Ob.ra,a.next=this.Ob,this.Ob.ra=a,a.ra.next=a);this.Zf&&this.hq(this.Zf)},hq:function(a){for(var b=this.count;b>a;b-=1){var c=this.nl?this.Ob.ra:this.Ob.next;this.ji(c);this.RA(c.value)}},ji:function(a){a.remove();delete this.f[a.key];this.count-=1},Np:function(a){this.Ob!==a&&this.ji(a);return a.value},clear:function(){this.f={};this.Ob=new H.Fe.Uh("",null);this.Ob.ra=this.Ob.next=this.Ob;this.count=0}}); H.Fe.Uh=function(a,b){this.key=a;this.value=b};H.Fe.Uh.prototype.ra=null;H.Fe.Uh.prototype.next=null;H.Fe.Uh.prototype.remove=function(){this.ra.next=this.next;this.next.ra=this.ra;this.next=this.ra=null};H.du=H.J.extend({Sa:[H.R],j:function(a){this.Vg=H.extend({size:120,pt:0.7,hr:2,ot:300},a);this.Fd={};this.Ie=0;this.hl=this.Vg.size},Mu:function(a){return{fj:a,im:H.q.Ci(),Oj:0}},get:function(a,b){if(!this.bc(a))return b;var c=this.Fd[a];c.im=H.q.Ci();c.Oj+=1;return c.fj},Qi:function(a,b){return this.get(a,b)},set:function(a,b){this.bc(a)?this.Fd[a].fj=b:(this.Ie+=1,this.Fd[a]=this.Mu(b));this.Ie>this.hl&&this.Nu()},bc:function(a){return this.Fd.hasOwnProperty(a)},HC:function(a){if(!this.bc(a))return null; this.Ie-=1;var b=this.Fd[a];delete this.Fd[a];return b.fj},clear:function(){this.el();this.Fd={};this.Ie=0},el:function(){this.il&&clearTimeout(this.il)},Nu:function(){if(this.Ie>this.hl*this.Vg.hr)this.el(),this.Go();else if(!(10>H.q.Ci()-this.Ou)){this.el();var a=this;this.il=setTimeout(function(){a.il=null;a.Go()},this.Vg.ot);this.Ou=H.q.Ci()}},Go:function(){var a=Math.round(this.hl*this.Vg.pt);if(!(this.Ie<a))for(var a=this.Iu(this.Ie-a),b,c,d=0,f=a.length;d<f;d+=1)b=a[d],c=this.HC(b),this.k("drop", {key:b,fj:c})},Fu:function(a,b){var c=this.Fd[a],d=this.Fd[b],f=c.im-d.im;return 0!==f?f:c.Oj-d.Oj},Iu:function(a){var b=[],c;for(c in this.Fd)this.Fd.hasOwnProperty(c)&&b.push(c);return this.Ju(b,a,this.Fu)},Ju:function(a,b,c){if(0>=b)return[];for(var d=0,f=a.length-1,g,h,k;d<f;){g=d;h=f;for(k=a[b];g<=b&&h>=b;){for(;g<=b&&0>c.call(this,a[g],k);)g+=1;for(;h>=b&&0<c.call(this,a[h],k);)h-=1;var l=a[g];a[g]=a[h];a[h]=l;g+=1;h-=1}h<b&&(d=g);g>b&&(f=h)}return a.slice(0,b)}});H.od=H.J.extend({j:function(a){this.is="undefined"!==typeof a?a:6;this.mk=Math.floor(this.is/2);this.Ak={e:[Infinity,Infinity,-Infinity,-Infinity],S:[]};this.count=0},yy:function(a,b){var c=-1,d=[],f;d.push(b);var g=b.S;do{-1!==c&&(d.push(g[c]),g=g[c].S,c=-1);for(var h=g.length-1;0<=h;h-=1){var k=g[h];if("undefined"!==typeof k.Ag){c=-1;break}var l=H.od.Lh(k.e[2]-k.e[0],k.e[3]-k.e[1],k.S.length+1),k=H.od.Lh((k.e[2]>a.e[2]?k.e[2]:a.e[2])-(k.e[0]<a.e[0]?k.e[0]:a.e[0]),(k.e[3]>a.e[3]?k.e[3]:a.e[3])-(k.e[1]< a.e[1]?k.e[1]:a.e[1]),k.S.length+2);if(0>c||Math.abs(k-l)<f)f=Math.abs(k-l),c=h}}while(-1!==c);return d},dA:function(a,b,c){a={e:a,Ag:b};"undefined"!==typeof c&&(a.type=c);this.Wr(a,this.Ak);this.count+=1},Wr:function(a,b){var c;if(0===b.S.length)b.e=H.e.Ma(a.e),b.S.push(a);else{var d=this.yy(a,b),f=a;do{if(c&&"undefined"!==typeof c.S&&0===c.S.length){var g=c;c=d.pop();for(var h=0,k=c.S.length;h<k;h+=1)if(c.S[h]===g||0===c.S[h].S.length){c.S.splice(h,1);break}}else c=d.pop();g=f instanceof Array; if("undefined"!==typeof f.Ag||"undefined"!==typeof f.S||g){if(g){g=0;for(h=f.length;g<h;g+=1)H.e.extend(c.e,f[g].e);c.S=c.S.concat(f)}else H.e.extend(c.e,f.e),c.S.push(f);c.S.length<=this.is?f={e:H.e.Ma(c.e)}:(f=g=this.rA(c.S),1>d.length&&(c.S.push(g[0]),d.push(c),f=g[1]))}else H.e.extend(c.e,f.e),f={e:H.e.Ma(c.e)}}while(0<d.length)}},rA:function(a){for(var b=this.mB(a);0<a.length;)this.nB(a,b[0],b[1]);return b},mB:function(a){for(var b=a.length-1,c=0,d=a.length-1,f=0,g=a.length-2;0<=g;g-=1){var h= a[g];h.e[0]>a[c].e[0]?c=g:h.e[2]<a[b].e[1]&&(b=g);h.e[1]>a[f].e[1]?f=g:h.e[3]<a[d].e[3]&&(d=g)}Math.abs(a[b].e[2]-a[c].e[0])>Math.abs(a[d].e[3]-a[f].e[1])?b>c?(b=a.splice(b,1)[0],c=a.splice(c,1)[0]):(c=a.splice(c,1)[0],b=a.splice(b,1)[0]):d>f?(b=a.splice(d,1)[0],c=a.splice(f,1)[0]):(c=a.splice(f,1)[0],b=a.splice(d,1)[0]);return[{e:H.e.Ma(b.e),S:[b]},{e:H.e.Ma(c.e),S:[c]}]},nB:function(a,b,c){for(var d=H.od.Lh(b.e[2]-b.e[0],b.e[3]-b.e[1],b.S.length+1),f=H.od.Lh(c.e[2]-c.e[0],c.e[3]-c.e[1],c.S.length+ 1),g,h,k,l=a.length-1;0<=l;l-=1){var m=a[l],n=[b.e[0]<m.e[0]?b.e[0]:m.e[0],b.e[2]>m.e[2]?b.e[2]:m.e[2],b.e[1]<m.e[1]?b.e[1]:m.e[1],b.e[3]>m.e[3]?b.e[3]:m.e[3]],n=Math.abs(H.od.Lh(n[1]-n[0],n[3]-n[2],b.S.length+2)-d),m=[c.e[0]<m.e[0]?c.e[0]:m.e[0],c.e[2]>m.e[2]?c.e[2]:m.e[2],c.e[1]<m.e[1]?c.e[1]:m.e[1],c.e[3]>m.e[3]?c.e[3]:m.e[3]],m=Math.abs(H.od.Lh(m[1]-m[0],m[3]-m[2],c.S.length+2)-f),p=Math.abs(m-n);if(!h||!g||p<g)h=l,g=p,k=m<n?c:b}d=a.splice(h,1)[0];b.S.length+a.length+1<=this.mk?(b.S.push(d),H.e.extend(b.e, d.e)):c.S.length+a.length+1<=this.mk?(c.S.push(d),H.e.extend(c.e,d.e)):(k.S.push(d),H.e.extend(k.e,d.e))},remove:function(a,b){var c=[];c[0]={e:a};(c[1]=b)||(c[1]=!1);c[2]=this.Ak;this.count-=1;if(!1===c[1]){var d=0,f=[];do d=f.length,f=f.concat(this.Vs.apply(this,c));while(d!==f.length);return f}return this.Vs.apply(this,c)},Vs:function(a,b,c){var d=[],f=[],g=[];if(!a||!H.e.Ud(a.e,c.e))return g;a=H.e.Ma(a.e);var h;f.push(c.S.length);d.push(c);do{c=d.pop();var k=f.pop()-1;if("undefined"!==typeof b)for(;0<= k;){var l=c.S[k];if(H.e.Ud(a,l.e))if(b&&"undefined"!==typeof l.Ag&&l.Ag===b||!b&&("undefined"!==typeof l.Ag||H.e.Rq(a,l.e))){"undefined"!==typeof l.S?(g=this.Hh(l,!0,[],l),c.S.splice(k,1)):g=c.S.splice(k,1);H.od.zn(c);b=void 0;c.S.length<this.mk&&(h=this.Hh(c,!0,[],c));break}else"undefined"!==typeof l.S&&(f.push(k),d.push(c),c=l,k=l.S.length);k-=1}else if("undefined"!==typeof h){c.S.splice(k+1,1);0<c.S.length&&H.od.zn(c);k=0;for(l=h.length;k<l;k+=1)this.Wr(h[k],c);h.length=0;0===d.length&&1>=c.S.length? (h=this.Hh(c,!0,h,c),c.S.length=0,d.push(c),f.push(1)):0<d.length&&c.S.length<this.mk?(h=this.Hh(c,!0,h,c),c.S.length=0):h=void 0}else H.od.zn(c)}while(0<d.length);return g},search:function(a,b){return this.Hh({e:a},!1,[],this.Ak,b)},bC:function(a,b){return this.Hh({e:a},!1,[],this.Ak,b,!0)},Hh:function(a,b,c,d,f,g){var h={},k=[];if(!H.e.Ud(a.e,d.e))return c;k.push(d.S);do{d=k.pop();for(var l=d.length-1;0<=l;l-=1){var m=d[l];if(H.e.Ud(a.e,m.e))if("undefined"!==typeof m.S)k.push(m.S);else if("undefined"!== typeof m.Ag)if(b)c.push(m);else if("undefined"===typeof f||m.type===f)m=m.Ag,"undefined"!==typeof g?h[H.q.Ya(m)]=m:c.push(m)}}while(0<k.length);return"undefined"!==typeof g?h:c}});H.od.zn=function(a){var b=a.S.length,c=a.e;if(0===b)H.e.empty(c);else{var d=a.S[0].e;c[0]=d[0];c[2]=d[2];c[1]=d[1];c[3]=d[3];for(d=1;d<b;d+=1)H.e.extend(c,a.S[d].e)}};H.od.Lh=function(a,b,c){var d=(a+b)/2;a*=b;return a*c/(a/(d*d))};H.Tt={rC:function(a,b){return this.qC(a,this.Hy(a,b))},qC:function(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d},Hy:function(a,b){var c=a[0],d=a[1],f=b[0],g=b[1],h=f[0],f=f[1],k=g[0],g=g[1],l=k-h,m=g-f,c=0===l&&0===m?0:(l*(c-h)+m*(d-f))/(l*l+m*m||0);0>=c||(1<=c?(h=k,f=g):(h+=c*l,f+=c*m));return[h,f]}}; ',true),_jsload_('overlay0', 'H.da=H.da||{}; H.da.Sg=H.J.extend({Sa:[H.R,H.Yb],fB:["position","visible","clickable","bubble"],j:function(a,b){this.map=b;this.fc(this.fB,a);this.C("zIndex",a);this.C("draggable",a);H.g.Za||H.g.ja?this.Yu():this.ql();this.sb=a;this.sb.da=this},draggableChanged:function(){this.get("draggable")?this.pl():this.Ml()},O:function(a,b){var c;c=b?{type:a,pixel:b.Ia,target:this.sb,lnglat:b.Tb}:{type:a};this.sb&&this.sb.k(a,c)},Pb:function(a){("click"!==a.type&&"rightclick"!==a.type&&"dblclick"!==a.type||this.get("clickable"))&&this.O(a.type, a)},ol:function(){this.a("click",this.Pb);this.a("rightclick",this.Pb);this.a("dblclick",this.Pb)},jq:function(){this.u("click",this.Pb);this.u("rightclick",this.Pb);this.u("dblclick",this.Pb)},ql:function(){this.get("clickable")&&this.ol();this.a("mousemove",this.Pb);this.a("mouseout",this.Pb);this.a("mouseover",this.Pb);this.a("mousedown",this.Pb);this.a("mouseup",this.Pb)},CD:function(){this.jq();this.u("mousemove",this.Pb);this.u("mouseout",this.Pb);this.u("mouseover",this.Pb);this.u("mousedown", this.Pb);this.u("mouseup",this.Pb)},clickableChanged:function(){this.get("clickable")?this.ol():this.jq()},Yu:function(){this.get("clickable")&&this.ol();this.a("touchstart",this.Pb,this);this.a("touchmove",this.Pb,this);this.a("touchend",this.Pb,this)},pl:function(){this.a("dragstart",this.cg);this.a("dragging",this.ag);this.a("dragend",this.bg)},cg:function(a){this.zd=a.Ia;this.O("dragstart",a)},ag:function(a){var b=a.Ia.sa(this.zd),c=b.x,b=b.y;this.zd=a.Ia;var d=this.map.get("rotation")*Math.PI/ 180;this.Ef(new H.F(c*Math.cos(d)+Math.sin(d)*b,-Math.sin(d)*c+Math.cos(d)*b));this.O("dragging",a)},bg:function(a){this.O("dragend",a)},Ml:function(){this.u("dragstart",this.cg);this.u("dragging",this.ag);this.u("dragend",this.bg)},dp:function(a){var b,c,d=[];b=0;for(c=a.length;b<c;b+=1)d.push(this.zl(a[b]));return d},zl:function(a){a=this.map.qa(a);return[a.x,a.y]},Na:function(a){var b=this.t.W||this.map.get("centerCoords"),c=this.map.get("crs").Sc(Math.floor(this.map.get("zoom")));return[(a[0]- b.x)/c,(a[1]-b.y)/c]}});H.da.mj=H.da.Sg.extend({eB:"content icon opacity angle autoRotation offset shadow title isTop shape topWhenClick topWhenMouseOver".split(" "),j:function(a,b){arguments.callee.ta.apply(this,arguments);this.fc(this.eB,a);this.C("move",a);this.Pd();this.og();this.set("AnimationOffset",new H.F(0,0));this.C("raiseOnDrag",a);this.hy={AMAP_ANIMATION_NONE:!1,AMAP_ANIMATION_DROP:H.de.Easing.Bounce,AMAP_ANIMATION_BOUNCE:H.de.Easing.Cubic};this.C("animation",a)},Dl:function(a,b,c){if(this.get("animation")&& "AMAP_ANIMATION_NONE"!==this.get("animation")){var d=this;this.Vd=new H.de;this.Vd.transition=function(c,g,h){if(a&&600<=h)return d.Vd.stop(),0;c=0===Math.floor(h/600)%2?"Out":"In";"out"===b?c="Out":"in"===b&&(c="In");return d.hy[d.get("animation")][c](h%600/600)};c=c||40;this.Vd.Ch=function(a){d.set("AnimationOffset",d.Ol.add(new H.F(0,-1*c*a)))};this.Ol=new H.F(0,0);this.Vd.Jf()}},AnimationOffsetChanged:function(){this.positionChanged()},Rp:function(){this.Vd&&(this.Vd.stop(),this.set("AnimationOffset", this.Ol));this.set("AnimationOffset",new H.F(0,-40));this.Rh?this.Rh.set("position",this.get("position")):this.Rh=new X({zIndex:this.get("zIndex")-1,icon:new W({image:H.o.ga+"/theme/v1.3/dragCross.png",size:new H.Pc(14,11)}),offset:new H.F(-4,-5),position:this.get("position")});var a=this.map.get("overlays");a.push(this.Rh);this.map.set("overlays",a)},Xo:function(){this.set("animation","AMAP_ANIMATION_DROP",!0);this.Dl(!0,"in");var a=this.map.get("overlays"),a=H.q.tg(a,H.q.indexOf(a,this.Rh));this.map.set("overlays", a)},animationChanged:function(){this.Vd&&(this.Vd.stop(),this.set("AnimationOffset",this.Ol),this.Vd=null);var a=this.get("animation");a&&"AMAP_ANIMATION_NONE"!==a&&("AMAP_ANIMATION_DROP"===a?this.Dl(!0,"in",100):this.Dl())},Yo:function(){this.Rh&&this.Rh.set("position",this.get("position"))},raiseOnDragChanged:function(){this.get("raiseOnDrag")?(this.a("dragstart",this.Rp,this),this.a("dragging",this.Yo,this),this.a("dragend",this.Xo,this)):(this.u("dragstart",this.Rp,this),this.u("dragging",this.Yo, this),this.u("dragend",this.Xo,this))},Ef:function(a){var b=this.get("position");a=this.map.qa(b).add(a.Wa(this.map.get("resolution")));b instanceof H.A?this.set("position",this.map.Ic(a)):this.set("position",a)},Pd:function(){var a=this.get("content"),b=this.get("shadow"),c=this.get("offset"),a=a?this.Cq(a,c):this.mm(this.get("icon"),c);this.set("contentDom",a);b&&(b=this.Dq(b,c),this.set("shadowDom",b))},og:function(){if(this.map&&this.get("position")&&!this.t){var a=this.map,b=this.map.qa(this.get("position")), a=this.t=new H.Nb({name:"marker-"+H.q.Ya(this),map:a,P:new H.G.wb([b.x,b.y])});a.gh=this;this.C("coords",a,!0);a.C("offset",this,!0);a.C("isTop",this,!0);a.C("zIndex",this,!0);a.C("params",this,!0)}},getParams:function(){return{zIndex:this.get("zIndex"),vq:this.get("angle"),Jy:this.get("contentDom"),jC:this.get("shadowDom"),opacity:this.get("opacity"),title:this.get("title"),Yn:this.get("AnimationOffset"),offset:this.get("offset"),mA:this.get("isTop"),shape:this.get("shape"),visible:this.get("visible")}}, offsetChanged:function(){if(this.t&&this.t.D){var a=this.map.qa(this.get("position")).sa(this.t.X).Ta(this.map.get("resolution"));this.t.D&&(this.t.D.style.left=Math.floor(a.x)+this.get("offset").x+this.get("AnimationOffset").x+"px",this.t.D.style.top=Math.floor(a.y)+this.get("offset").y+this.get("AnimationOffset").y+"px")}},positionChanged:function(){if(this.t){var a=this.map.qa(this.get("position"));this.set("coords",[a.x,a.y]);this.t.D&&(a=a.sa(this.t.X).Ta(this.map.get("resolution")),this.t.D.style.left= Math.floor(a.x)+this.get("offset").x+this.get("AnimationOffset").x+"px",this.t.D.style.top=Math.floor(a.y)+this.get("offset").y+this.get("AnimationOffset").y+"px")}},contentChanged:function(){if(this.t){this.map.Ua.Ei=!0;this.map.Ua.Bh.push(this.t);this.t.D&&this.t.D.removeChild(this.get("contentDom"));var a=this.get("content"),b=this.get("offset"),a=this.Cq(a,b);this.set("contentDom",a);this.t.D&&(H.g.uc&&H.q.iepngFix(a),this.t.D.appendChild(a))}},iconChanged:function(){if(this.t&&this.t.D&&!this.get("content")){this.map.Ua.Ei= !0;this.map.Ua.Bh.push(this.t);this.t.D&&this.get("contentDom")&&this.t.D.removeChild(this.get("contentDom"));var a=this.get("icon"),b=this.get("offset"),a=this.mm(a,b);this.set("contentDom",a);this.t.D&&(H.g.uc&&H.q.iepngFix(a),this.t.D.appendChild(a))}},shadowChanged:function(){if(this.t&&this.t.D){var a=this.get("shadowDom");this.t.D&&a&&a.parentNode===this.t.D&&this.t.D.removeChild(a);if(a=this.get("shadow")){var b=this.get("offset"),a=this.Dq(a,b);this.set("shadowDom",a);this.t.D&&this.t.D.appendChild(a)}}}, titleChanged:function(){this.t&&this.t.D&&"string"===typeof this.get("title")&&this.t.D&&this.get("title")&&(this.t.D.title=this.get("title"))},isTopChanged:function(){var a=this.map.Ua.Jk,b=this.get("isTop"),c=this.get("zIndex");a?a===this?this.t&&this.t.D&&(this.t.D.style.zIndex=b?this.map.Ua.Mg+10:c,this.map.Ua.Jk=b?this:null):(a.t&&a.t.D&&(a.t.D.style.zIndex=b?a.get("zIndex"):this.map.Ua.Mg+10),this.t&&this.t.D&&(this.t.D.style.zIndex=b?this.map.Ua.Mg+10:c),this.map.Ua.Jk=b?this:a):(this.map.Ua.Jk= this,this.t&&this.t.D&&(this.t.D.style.zIndex=b?this.map.Ua.Mg+10:c))},visibleChanged:function(){this.t&&this.t.D&&(this.get("visible")?this.t.D.style.display="block":this.t.D.style.display="none")},angleChanged:function(){if(this.t&&this.t.D){var a={x:-1*this.get("offset").x,y:-1*this.get("offset").y};H.d.rotate(this.t.D,this.get("angle")||0,a)}},zIndexChanged:function(){var a=this.get("zIndex");if(a>this.map.Ua.Mg){this.map.Ua.Mg=a;var b=this.map.Ua.Jk;b&&b.t&&b.t.D&&(b.t.D.style.zIndex=a+10)}this.t&& this.t.D&&(this.t.D.style.zIndex=this.get("isTop")?this.map.Ua.Mg+10:this.get("zIndex"))},opacityChanged:function(){var a=this.get("contentDom"),b=this.get("shadowDom");a&&H.d.Ih(a,this.get("opacity"));b&&H.d.Ih(b,this.get("opacity"))},Cq:function(a){var b;b=document.createElement("div");b.className="amap-marker-content";"string"!==typeof a?b.appendChild(a):b.innerHTML=a;H.d.Ih(b,this.get("opacity"));return b},mm:function(a){var b,c,d,f,g,h,k;a?("string"===typeof a?(b=a,k=!0):(b=a.get("image"),d= a.get("size"),f=a.get("imageSize"),c=d.width,d=d.height,f&&(g=f.width,h=f.height)),c||(c=36),d||(d=36),a="string"!==typeof a?a.get("imageOffset"):{x:0,y:0}):(b=H.o.ga+"/theme/v1.3/markers/0.png",a={x:0,y:0},h=g=d=c=36);f=document.createElement("div");f.className="amap-icon";f.style.position="absolute";k&&!H.g.kc&&(f.style.overflow="inherit");c&&(f.style.width=c+"px");d&&(f.style.height=d+"px");c=document.createElement("img");c.src=b;g&&h&&(c.style.width=g+"px",c.style.height=h+"px");c.style.top=a.y+ "px";c.style.left=a.x+"px";H.g.kc&&k||f.appendChild(c);H.d.Ih(H.g.kc&&k?c:f,this.get("opacity"));return H.g.kc&&k?c:f},Dq:function(a,b){var c=this.mm(a,b);c.style.zIndex=-1;return c},moveChanged:function(){var a=this.get("move");if(!1===a)return this.tC();void 0!==a&&("[object Array]"===Object.prototype.toString.call(a.Tb)?this.IA(a.Tb,a.speed,a.gb,a.zy):this.moveTo(a.Tb,a.speed,a.gb))},moveTo:function(a,b,c){var d=this.get("position");a.sa(d);var f=Math.round(a.rc(d)/1E3/b*36E5);if(0===f)return this.k("moveend"); this.Ad&&(this.Ad.stop(),this.Ad=null);this.Ad=new H.de(d,a);c=c||function(a){return a};this.Ad.transition=function(a,b,d){if(d>=f)return b;var l=(b.r-a.r)*c(d/f)+a.r;a=(b.B-a.B)*c(d/f)+a.B;return new H.A(l,a)};this.Ad.Ch=function(b){this.set("position",b);b.Ba(a)?(this.Ad&&(this.Ad.stop(),this.Ad=null),this.sb.k("moveend"),this.k("moveend")):this.sb.k("moving")};this.get("autoRotation")&&!H.g.kc&&(b=this.uv(d,a),this.set("angle",b));this.Ad.Jf(this)},tC:function(){this.Ad&&(this.Ad.stop(),this.Ad= null,this.k("movestop"))},IA:function(a,b,c,d){function f(){g+=1;g<a.length?this.moveTo(a[g],b,c):(this.O("movealong"),d?(g=1,this.set("position",a[0]),this.moveTo(a[1],b,c)):this.u("moveend",f,this))}var g=0;this.set("position",a[0]);this.a("moveend",f,this);this.a("movestop",function(){this.u("moveend",f,this)},this);this.moveTo(a[0],b,c)},uv:function(a,b){var c=this.map,d=c.qa(a),c=c.qa(b),f=0;c.rc(d);var g=c.y-d.y,h=c.x-d.x;0!==c.x-d.x?(f=Math.atan((c.y-d.y)/(c.x-d.x)),0<=g&&0>h?f=Math.PI+f:0> g&&0>=h?f=Math.PI+f:0>g&&0<=h&&(f=2*Math.PI+f)):f=c.y>d.y?Math.PI/2:3*Math.PI/2;return H.q.yi(180*f/Math.PI,1)}});H.da.Qk=H.da.Sg.extend({j:function(a,b){arguments.callee.ta.apply(this,arguments);this.C("items",a,!0);this.C("content",a,!0);this.C("resolution",b);this.C("centerCoords",b);this.C("display",b);this.si=a},ss:function(){this.Lc();this.Oh();this.Mf();this.map.a("movestart",this.Ld,this);this.map.a("mapmove",this.Ld,this);this.map.a("zoomstart",this.Ld,this);this.map.a("click",this.Ld,this);this.map.a("closeOverlays",this.Ld,this);this.map.a("rotate",this.Ld,this)},Ld:function(){this.si.map&&this.si.close()}, mapChanged:function(){},positionChanged:function(){this.Mf()},Lc:function(){this.w&&(this.w.parentNode&&this.w.parentNode.removeChild(this.w),this.w=null);var a=H.d.create("div",null,"amap-menu");H.l.a(a,"mousedown",function(a){H.l.stopPropagation(a)},this);this.w=a;this.map.aa.da.appendChild(this.w)},Oh:function(){var a=this,b=this.w;b.innerHTML="";var c=this.get("content");if("object"===typeof c)b.appendChild(c);else if("string"===typeof c)b.innerHTML=c;else if((c=this.get("items"))&&c.length){var d= H.d.create("ul",b,"amap-menu-outer");c.sort(function(a,b){return isNaN(a.pk)||isNaN(b.pk)?0:a.pk-b.pk});for(b=0;b<c.length;b+=1)(function(b){var c=b.Gt,h=b.gb,k=H.d.create("li",d);k.innerHTML=c;H.l.a(k,"click",function(){h.call(k);a.si.close()},k)})(c[b])}else this.w.innerHTML=""},Mf:function(){var a=this.map,b=this.w;if(a&&b){var c=a.qa(this.get("position")),d=this.get("centerCoords"),b=(c.x-d.x)/this.get("resolution"),c=(c.y-d.y)/this.get("resolution"),a=a.get("size"),c=c+a.height/2,b=b+a.width/ 2;this.w.style.right="";this.w.style.bottom="";this.w.style.left=b+"px";this.w.style.top=c+"px"}},vs:function(){this.w&&(this.map.u("click",this.ul,this),this.map.aa.da.removeChild(this.w),this.si.qg=!1,this.w=this.si.bd.map=null,this.map.u("movestart",this.Ld,this),this.map.u("zoomstart",this.Ld,this),this.map.u("click",this.Ld,this),this.map.u("closeOverlays",this.Ld,this),this.map.u("rotate",this.Ld,this))},visibleChanged:function(){this.w&&(this.get("visible")?this.w.style.display="block":this.w.style.display= "none")},itemsChanged:function(){this.w&&this.Oh()},displayChanged:function(){}});H.da.Tk=H.da.Sg.extend({j:function(a,b){arguments.callee.ta.apply(this,arguments);this.fc("content position contentU isCustom autoMove showShadow closeWhenClickMap size offset".split(" "),a);this.C("resolution",b);this.C("centerCoords",b);this.C("display",b);this.map=b;this.mg=a},ss:function(){this.Lc();this.Oh();this.Un();this.Mf();this.Gy();this.Jo()},Lc:function(){var a=H.d.create("div");a.className="amap-info";var b=H.d.create("div",a),c=H.d.create("div",a),d=H.d.create("div",c);a.style.position= "absolute";c.style.position="absolute";c.style.bottom=-1*(this.get("offset").y||0)+"px";c.style.left=(this.get("offset").x||0)+"px";b.style.position="absolute";b.style.bottom=-1*(this.get("offset").y||0)+"px";b.style.left=(this.get("offset").x||0)+"px";this.ze=a;this.Kn=b;this.Hc=d;this.map.aa.da.appendChild(this.ze)},Oh:function(){var a=this.get("contentU");if(a){var b=this.get("isCustom"),c=this.Hc,d=this.Kn;c.innerHTML="";var f=null;if(b)"string"===typeof a?c.innerHTML=a:c.appendChild(a),f=c,d.parentNode&& d.parentNode.removeChild(d);else{f=b=H.d.create("div",c,"amap-info-content amap-info-outer");"string"===typeof a?b.innerHTML=a:b.appendChild(a);a=H.d.create("a",this.Hc,"amap-info-close");a.innerHTML="\\u00d7";a.href="javascript: void(0)";H.g.Za?(H.l.a(a,"touchstart",function(a){H.l.stop(a)},this),H.l.a(a,"touchend",function(a){H.l.stop(a);this.mg.close()},this),H.l.a(a,"click",function(a){H.l.stop(a);this.mg.close()},this)):(H.l.a(a,"mousedown",function(a){H.l.stop(a)},this),H.l.a(a,"click",function(a){H.l.stop(a); this.mg.close()},this));if(a=this.get("size"))0!==a.width&&(b.style.width=a.width+"px"),0!==a.height&&(b.style.height=a.height+"px");a=H.d.create("div",c,"amap-info-sharp");a.style.height="23px";if(H.g.uc||H.g.Gi)a.style.marginLeft=c.childNodes[0].offsetWidth/2-5;this.Kn.style.display="block"}H.g.Za?(H.l.a(f,"touchstart",function(a){H.l.stopPropagation(a)},this),H.l.a(f,"touchmove",function(a){H.l.stopPropagation(a)},this),H.l.a(f,"touchend",function(a){H.l.stopPropagation(a)},this)):H.l.a(f,"mousedown", function(a){H.l.stopPropagation(a)},this)}},Un:function(){var a=this.get("isCustom"),b=this.get("showShadow");if(!a&&b){var a=this.Kn,b=H.d.ck(this.Hc),c=b.height-23,d=b.width;if(H.g.uc||H.g.Gi)c=this.Hc.childNodes[0].offsetHeight,d=this.Hc.childNodes[0].offsetWidth+26;b="background-image:url("+H.o.ga+(H.g.uc?"/theme/v1.3/iws.gif);":"/theme/v1.3/iws.png);");a.innerHTML="";var f=[],g;g=f[1]={};g.height=0.5*c+4;g.width=d;g.offsetX=400;g.offsetY=16;g.top=-g.height-10-15;g.left=23;g=f[2]={};g.height= f[1].height;g.width=f[1].height;g.offsetX=1075-g.width;g.offsetY=f[1].offsetY;g.top=f[1].top;g.left=23+f[1].width;g=f[3]={};g.height=10;g.width=22;g.offsetX=30;g.offsetY=445;g.top=-25;g.left=23+(H.g.Gi||H.g.uc?5:0);g=f[4]={};g.height=10;g.width=d/2-15-f[3].left-f[3].width;g.offsetX=132;g.offsetY=445;g.top=-25;g.left=f[3].left+f[3].width;g=f[5]={};g.height=10;g.width=70;g.offsetX=80;g.offsetY=445;g.top=-25;g.left=f[4].left+f[4].width;g=f[6]={};g.height=10;g.width=d-f[5].left-f[5].width;g.offsetX=132; g.offsetY=445;g.top=-25;g.left=f[5].left+f[5].width;g=f[7]={};g.height=10;g.width=30;g.offsetX=621;g.offsetY=445;g.top=-25;g.left=d;g=f[8]={};g.height=15;g.width=70;g.offsetX=47;g.offsetY=470;g.top=-15;g.left=d/2-15;for(c=1;8>=c;c+=1)d=H.d.create("div",a),g=[],g.push("position:absolute;"),g.push(b),g.push("top:"+f[c].top+"px;"),g.push("left:"+f[c].left+"px;"),g.push("width:"+f[c].width+"px;"),g.push("height:"+f[c].height+"px;"),g.push("background-position:"+-f[c].offsetX+"px "+-f[c].offsetY+"px;"), d.style.cssText=g.join("")}},RF:function(){},Mf:function(){var a=this.map,b=this.ze,c=this.get("position"),d=this.get("resolution");if(a&&b&&c){var c=a.qa(this.get("position")),f=this.get("centerCoords"),b=(c.x-f.x)/d,d=(c.y-f.y)/d,a=a.get("size"),c=H.d.ck(this.Hc);if(H.g.uc||H.g.Gi)c.width=this.Hc.childNodes[0].offsetWidth+14;c=this.get("isCustom")?c.width/2:(c.width-30)/2;this.ze.style.left=b+a.width/2-c+"px";this.ze.style.top=d+a.height/2+"px"}},fv:function(){var a=new H.F(2-this.Hc.offsetWidth/ 2,2-this.Hc.offsetHeight),b=this.get("offset")||new H.F(0,0);this.get("isCustom")||(a=a.add(new H.F(0,-23)));return a.add(b)},Jo:function(){if(this.get("position")&&this.get("autoMove")&&this.Hc){var a=this.map,b=new H.Pc(this.Hc.offsetWidth,this.Hc.offsetHeight);a.$m(this.get("position"));for(var c=a.$m(this.get("position")).add(this.fv()),d=c.add(b.bj()),f=a.get("size"),g=a.oz(),h=0,k=0,l=0;l<g.length;l+=1){var m=g[l],n=0,p=0;0===m[1]&&0===m[2]?(n=m[3]-(c.x+h),p=m[0]-(c.y+k),0<n&&0<p&&(Math.abs(n)< Math.abs(p)?h+=n:k+=p)):0===m[2]&&0===m[3]?(n=f.Kc()-m[1]-(d.x+h),p=m[0]-(c.y+k),0>n&&0<p&&(Math.abs(n)<Math.abs(p)?h+=n:k+=p)):0===m[0]&&0===m[3]?(n=f.Kc()-m[1]-(d.x+h),p=f.Jc()-m[2]-(d.y+k),0>n&&0>p&&(Math.abs(n)<Math.abs(p)?h+=n:k+=p)):0===m[0]&&0===m[1]&&(n=m[3]-(c.x+h),p=f.Jc()-m[2]-(d.y+k),0<n&&0>p&&(Math.abs(n)<Math.abs(p)?h+=n:k+=p))}c=c.add(new H.F(h,k));d=d.add(new H.F(h,k));l=g=0;0>c.x||b.Kc()>f.Kc()?g=20-c.x:f.Kc()<d.x&&(g=f.Kc()-d.x-25);0>c.y||b.Jc()>f.Jc()?l=5-c.y:f.Jc()<d.y&&(l=f.Jc()- d.y-15);g+=h;l+=k;(g||l)&&a.La.panBy(g,l)}},Gy:function(){this.get("closeWhenClickMap")&&this.map.a("click",this.ul,this,!1,!0)},ul:function(){this.ze&&this.mg.close()},vs:function(){this.ze&&(this.map.u("click",this.ul,this),this.map.aa.da.removeChild(this.ze),this.ze=null,this.mg.qg=!1,this.mg.bd.map=null,this.mg.map=null,this.sb.k("close",{type:"close",target:this.sb}))},sD:function(){if(!this.get("isCustom"))return this.Hc.offsetWidth;for(var a=this.Zg,b=a.firstChild,c=a.lastChild;b&&c&&b.style&& c.style&&b===c;)a=b,b=a.firstChild,c=a.lastChild;a=H.d.Ja(a,"width");return a=parseInt(a.replace("px",""),10)},displayChanged:function(){this.ze&&this.Mf()},positionChanged:function(){this.map&&this.ze&&(this.Mf(),this.Jo())},contentChanged:function(){this.Oh();this.Un();this.Mf()},sizeChanged:function(){this.Oh();this.Un();this.Mf()}});H.G={};H.G.Pf=H.J.extend({Sa:[H.R,H.Yb],j:function(){},Ma:function(){return new this.j(this.na)},Dm:function(){return this.na},setCoords:function(a){this.eC(a)},eC:function(a){this.Cg=this.Ab();this.Qb=null;if(H.G.xb&&this instanceof H.G.xb){var b=a.length;this.Xc=Array(b);for(var c,d,f=0;f<b;f+=1)if(c=a[f],d=new H.G.fo(c),this.Xc[f]=d,0===f){if(0===c.length)break;d.zg(c)||c.reverse()}else 0!==c.length&&d.zg(c)&&c.reverse()}else this.na=a}}); H.G.$a=H.extend({},{Tg:"point",Uk:"linestring",eo:"linearring",nj:"polygon",Yk:"multipoint",Xk:"multilinestring",lj:"multipolygon",aD:"geometrycollection"});H.Nb=H.J.extend({Sa:[H.R,H.Yb],j:function(a){a=a||{};this.Fl=a.Fl;this.map=a.map;this.ak=H.q.Ya(this);this.name=a.name||"";this.wd=!1;this.set("visible",!0,!0);this.Kf(a.P);this.Oc=a.Ig;this.style=a.style},Xy:function(){this.style=this.Oc=this.gh=this.P=this.name=this.map=null;this.Tn();this.ui()},Kz:function(){return this.Oc},Jh:function(a){this.Oc=a;this.zIndex=this.Oc[0].Be||this.zIndex},sE:function(){return this.P},Kf:function(a){a&&(this.P=a,this.C("coords",a,!0),this.Fl&&(a.C("radius",this), a.C("center",this),a.C("resolution",this),a.C("strokeWeight",this)))},setStyle:function(a){this.Jh(a);this.wf()},coordsChanged:function(){this.wf()},radiusChanged:function(){this.P.Cg=this.P.Ab();this.P.Qb=null;this.wf()},wf:function(a){this.set("feature",{target:this,Ty:a,Cg:this.P.Cg||this.P.Ab(),KA:this.P.Ab()});this.P.Cg=this.P.Ab()},visibleChanged:function(){this.wf()},zE:function(a){for(var b=0;b<this.Oc.length;b+=1){var c=this.Oc[b];if(a.Ba(c.ph(this)))return c}},qz:function(){var a=this.P, b=[];a.sc()===H.G.$a.nj||a.sc()===H.G.$a.lj?b.push(new H.style.za.xb({fillColor:"#78cdd1",ob:0.2,strokeColor:"#122e29",jb:0.5,Eb:1})):a.sc()===H.G.$a.Uk||a.sc()===H.G.$a.eo||a.sc()===H.G.$a.Xk?b.push(new H.style.za.Vk({color:"#888888",width:1,zIndex:10})):a.sc()!==H.G.$a.Tg&&a.sc()!==H.G.$a.Yk||b.push(new H.style.za.Og({url:H.o.ga+"/theme/v1.3/markers/0.png",width:36,height:36,rotation:0,Ok:-12,Pk:-36,zIndex:100}));return b}});H.Nb.YC="geometry";H.G.wb=H.G.Pf.extend({j:function(a){this.na=a;this.Qb=null},Ab:function(){if(!this.Qb){var a=this.na[0],b=this.na[1],c=this.get("radius"),c=c?c/Math.cos(Math.PI*this.get("center").B/180):0,d=this.get("resolution")*this.get("strokeWeight")||0;this.Qb=[a-c-d,b-c-d,a+c+d,b+c+d]}return this.Qb},sc:function(){return H.G.$a.Tg}}); ',true),_jsload_('brender', 'H.Q={canvas:{},nb:{},UF:{},Df:{}};H.Q.De=H.J.extend({Sa:[H.R,H.Yb],j:function(a,b){this.V=a;this.np=b;this.f=b.f;this.C("display",b)},Gm:function(a,b){var c=this.zoom;if(Math.floor(c)===c){var c=[],d=this.V,f=[a.x,a.y];if(d.Ei){for(var g=d.Bh,h=!0,k=[],l=0;l<g.length;l+=1)if(g[l].D){var m=g[l].D.scrollWidth,n=g[l].D.scrollHeight;g[l].D.childNodes[0]&&(m=g[l].D.scrollWidth||g[l].D.childNodes[0].clientWidth||g[l].D.childNodes[0].scrollWidth,n=g[l].D.scrollHeight||g[l].D.childNodes[0].clientHeight||g[l].D.childNodes[0].scrollHeight); window.opera&&(m=Math.max(m,g[l].D.childNodes[0].childNodes[0].scrollWidth),n=Math.max(n,g[l].D.childNodes[0].childNodes[0].scrollHeight));0===m||0===n?(h=!1,k.push(g[l])):(d.Ze=Math.max(d.Ze,Math.abs(g[l].get("offset").x)+m),d.$e=Math.max(d.$e,Math.abs(g[l].get("offset").y)+n),g[l].width=m,g[l].height=n)}h?(d.Ei=!1,d.Bh=[]):d.Bh=k}g=d.Ze*this.L;h=d.$e*this.L;h=Math.max(h,d.Ye||0);g=Math.max(g,d.Ye||0);if(g=d.yd([f[0]-g,f[1]-h,f[0]+g,f[1]+h])){var p,q;for(q in g)if(g.hasOwnProperty(q)&&(h=g[q],h.get("visible")))if(l= h.P,l instanceof H.G.wb)if("undefined"!==typeof l.get("radius"))k=l.na,k=new H.F(k[0],k[1]),(new H.F(f[0],f[1])).rc(k)*Math.cos(h.get("center").B*Math.PI/180)<=l.get("radius")&&c.push(h);else{var k=h.get("params"),l=l.na,r=k.vq%360,m=[f[0],f[1]];if(r){n=(f[0]-l[0])/this.L;p=(f[1]-l[1])/this.L;var s=Math.PI*r/180,r=Math.cos(-s),s=Math.sin(-s),t=n*s+p*r;m[0]=l[0]+(n*r-p*s)*this.L;m[1]=l[1]+t*this.L}n=k.offset.x*this.L;p=k.offset.y*this.L;n=H.e.oy([[m[0]-h.width*this.L-n,m[1]-h.height*this.L-p],[m[0]- n,m[1]-p]]);l[0]instanceof Array||(l=[l]);for(p=l.length-1;0<=p;p-=1)if(H.e.tf(n,l[p])){k.shape?this.fA(h,m,l)&&c.push(h):c.push(h);break}}else l.tf?l.tf(f)&&c.push(h):l.Zj&&1.8*l.Zj(f)<=h.get("strokeWeight")*this.L&&c.push(h);b(c,d)}else b([],d)}},fA:function(a,b,c){var d=(b[0]-c[0][0])/this.L;b=(b[1]-c[0][1])/this.L;a=a.get("params");c=a.offset;var d={x:d-c.x,y:b-c.y},f;a=a.shape;if("circle"===a.h.type){if(b=a.h.coords[0],c=a.h.coords[1],Math.sqrt((d.x-b)*(d.x-b)+(d.y-c)*(d.y-c))<=a.h.coords[2])return!0}else{if("poly"=== a.h.type)return f=a.h.coords,f=this.qy(f),this.zg(f)||f.reverse(),this.kt(d,f);if("rect"===a.h.type)return f=a.h.coords,a=f[0],b=f[1],c=f[2],f=f[3],f=[[a,b],[c,b],[c,f],[a,f]],this.zg(f)||f.reverse(),this.kt(d,f)}return!1},kt:function(a,b){var c=a.x,d=a.y,f=!1,g,h,k,l,m=b.length,n=0;for(l=m-1;n<m;l=n,n+=1)g=b[n][0],h=b[n][1],k=b[l][0],l=b[l][1],(g=h>d!==l>d&&c<(k-g)*(d-h)/(l-h)+g)&&(f=!f);return f},qy:function(a){for(var b=[],c=0;c/2<a.length/2;c+=2)b.push([a[c],a[c+1]]);return b},zg:function(a){for(var b= a.length,c=0,d=a[b-1],f=d[0],d=d[1],g,h,k=0;k<b;k+=1)h=a[k],g=h[0],h=h[1],c+=(g-f)*(h+d),f=g,d=h;return 0<c},or:function(a,b,c,d,f,g,h){var k=["position:absolute;"];k.push("top:"+Math.round(c)+"px;");k.push("left:"+Math.round(b)+"px;");k.push("width:"+Math.round(d)+"px;");k.push("height:"+Math.round(f)+"px;");1>g&&("opacity"in a.style?(k.push("opacity"),k.push(":"),k.push(g),k.push(";")):8<=document.documentMode?(k.push("-ms-filter:\'progid:DXImageTransform.Microsoft.Alpha(opacity="),k.push(Math.ceil(100* g)),k.push(")\';")):(k.push("filter:alpha(opacity="),k.push(Math.ceil(100*g)),k.push(");")));k.push("z-index:"+h+";");a.style.cssText=k.join("")}});H.Q.Zb=H.J.extend({Sa:[H.R,H.Yb],j:function(a){this.f=a;this.fh={};this.w=a.aa.I;this.C("display",a);this.C("rotateEnable",a)},Gm:function(a,b,c,d){function f(a,d){a.length&&(h[H.q.indexOf(b,d)]=a);k-=1;0>=k&&(c(h),k=0)}for(var g=b.length,h=[],k=0,l,m=[],n=0;n<g;n+=1)l=b[n],l instanceof H.I.yb&&(m.push(this.Ai(l)),k+=1);for(g=0;g<m.length;g+=1)m[g].Gm(a,f,d)}});H.Q.fe=H.Q.De.extend({j:function(a,b){arguments.callee.ta.apply(this,arguments);this.C("reload",a,!0);this.kb=new H.du({size:150,pt:0.7,hr:2,ot:300});var c=this;this.kb.a("drop",function(a){c.mv(a.fj)});this.eb=1;this.rl=50;this.ll=!0;this.V=a;this.Tm=new H.co(8,null,a.$j);new H.co(5,null,a.$j)},reloadChanged:function(){this.Re=!1;this.kb.clear();this.reload=!0;this.set("display")},es:function(a,b){if(!a.Af||a.Af.ud){var c=this;a.loaded=!1;a.Af=b.ds(a.url,function(b){a.Af=null;a.loaded=!0;c.kb.set(a.key, a);b&&(a.va=b,a.Af=null,c.set("display",0),c.bn+=1,c.Re||c.bn!==c.cn||(c.V.O("complete"),c.Re=!0))},!1)}},wA:function(a){for(var b=a.length-1;0<=b;b-=1){var c=a[b];if(this.wc){this.qt(c,!0);for(var d=0,f=0;d<a.length;)this.xA(c.slice(4*f,4)),d+=4,f+=1}else for(this.qt(c),this.cn+=c.length,d=c.length-1;0<=d;d-=1)this.es(c[d],this.Tm)}},xr:function(a,b){var c=a+"";return(b?this.kb.Qi(c):this.kb.get(c))||new H.Rf(a.Ma(),this.yf(a.x,a.y,a.z))},Kh:function(a,b){return this.Oa*Math.pow(2,a-b)},mv:function(a){a.zk&& this.Tm.remove(a.key);a.zk=!1;a.loaded=!1},om:function(a,b,c){var d=this.ca,f=a.L;a=b.Va.x;var g=b.Va.y,h=b.Ea.x;b=b.Ea.y;this.Nh=new H.F(0,0);d=this.Kh(this.zoom,d)*f;d/=Math.pow(2,this.ie);c&&(h=Math.max(c[0],h)-c[0],b=Math.max(c[1],b)-c[1],a=Math.min(c[2],a)-c[0],g=Math.min(c[3],g)-c[1],this.Nh=new H.F(Math.floor(c[0]/d),Math.floor(c[1]/d)));a/=d;g/=d;c={Uc:0===a%1?a-1:Math.floor(a),Nc:0===g%1?g-1:Math.floor(g),Vb:Math.floor(h/d),qb:Math.floor(b/d)};c.yn=c.Uc-c.Vb+1;c.xn=c.Nc-c.qb+1;return c}, qt:function(a,b){if(a.length){var c=this.bb.Ta(this.Oa*(this.Fc?0.5:1)*this.Xa),d=Math.floor(c.x),f=Math.floor(c.y);a.sort(function(a,c){var k=a.oa,l=c.oa,m=k.x-d,k=k.y-f,n=l.x-d,l=l.y-f;return(b?-1:1)*(n*n+l*l-(m*m+k*k))})}},clear:function(){this.Tm.clear()},un:function(a,b){b.yf!==this.yf&&(this.yf=b.yf,this.kb.clear());this.clear();var c=a.ha;this.Cb=b.Cb||a.ha.Cb;this.vd=c.vd;this.size=a.size;this.rotation=c.rotation;this.bb=c.bb;this.Ke=b.Ke;this.Je=b.Je;this.Xa=c.Xa;this.ie=(this.Fc=b.dc)?1: 0;this.zoom=c.zoom;this.Oa=b.Oa;this.Ec=this.ca=c.ca;this.Ec+=this.ie;this.L=c.L;a.scale=Math.pow(2,this.zoom-this.ca);var d=a.ua,c=this.Cd=this.om(c,d,b.e),f=[],g=[],h,k=[],l=[],m=[],n=new H.Th(0,0,0),p,q=this.zoom,l=this.je||"",r={},s={},t,x,v,w,y,u;this.ec=1E6*Math.random()<<0;for(p=l.length-1;0<=p;p-=1)if(h=l[p],!(h.Sf<b.opacity))if(n.z=h.oa.z,n.x=h.oa.x,n.y=h.oa.y,n.z===this.Ec)r[n+""]|=16;else if(n.z<this.Ec){if(r[n+""]|=64,this.Ke)for(u=this.Ec-n.z,t=Math.max(c.Vb,n.x<<u),q=Math.min(c.Uc,(n.x+ 1<<u)-1),x=Math.max(c.qb,n.y<<u),v=Math.min(c.Nc,(n.y+1<<u)-1),n.z=this.Ec,w=t;w<=q;w+=1)for(n.x=w,y=x;y<=v;y+=1)n.y=y,u=n+"",r[u]|=32,s[u]=s[u]?Math.max(h.oa.z,s[u]):h.oa.z}else if(this.Je)for(u=1;n.z>=this.Ec;){r[n+""]|=u;t=n.x>>1;x=n.y>>1;q=t<<1;v=x<<1;h=0;for(w=2;0<w;w-=1)for(n.x=q+w,y=2;0<y;y-=1)n.y=v+y,r[n+""]&5&&(h+=1);n.z-=1;n.x=t;n.y=x;u=4===h?4:2}l=[];n.z=this.Ec;for(w=c.Vb;w<=c.Uc;w+=1)for(n.x=w,y=c.qb;y<=c.Nc;y+=1){n.y=y;h=this.xr(n);u=n+"";t=!1;if(h.va)if(h.ec=this.ec,l.push(h),u=r[u], u&36){if(h.eb!==this.eb||h.Sf<b.opacity)t=!0}else h.nf=!0;else t=!0,!h.status&&n.z<=b.ub[1]+this.ie&&k.push(h);t&&m.push(h)}l.Tc=this.ca;f.push(l);f["lv"+this.ca]=l;g.push(k);g["lv"+this.ca]=k;if(this.Je){m=m.slice(0);k=[];for(p=m.length-1;0<=p;p-=1)h=m[p],r[h.key]&4||k.push(h);h=b.ub[1]+this.ie;for(q=this.Ec+1;m.length&&q<=h;q+=1){l=[];v=m;m=[];n.z=q;for(p=v.length-1;0<=p;p-=1)if(w=v[p],u=r[w.key],u&7)for(t=w.oa.x<<1,x=w.oa.y<<1,w=2;0<w;w-=1)for(n.x=t+w,y=2;0<y;y-=1){n.y=x+y;u=n+"";var z=this.kb.Qi(u); r[u]&5&&z&&z.va?(z.nf=!0,z.ec=this.ec,l.push(z)):m.push(new H.Rf(n.Ma(),""))}l.length&&(l.Tc=q-this.ie,f.push(l),f["lv"+(q-this.ie)]=l)}m=k}if(this.Ke)for(w=Math.max(b.ub[0],this.Ec-2),y=Math.max(w,this.Ec-this.vD),q=this.Ec-1;m.length&&q>=w;q-=1){x=q>=y;k=[];l=[];z={};v=m;m=[];for(p=v.length-1;0<=p;p-=1)h=v[p],n.z=q,n.x=h.oa.x>>1,n.y=h.oa.y>>1,h=this.xr(n,!x),z[h.key]||(z[h.key]=1,t=!1,h.va&&(!this.zD||r[h.key]&64)?(n.x=Math.min(c.Uc,Math.max(c.Vb,n.x<<this.Ec-q)),n.y=Math.min(c.Nc,Math.max(c.qb, n.y<<this.Ec-q)),n.z=this.Ec,u=n+"","number"===typeof s[u]&&h.oa.z>s[u]?t=!0:h.nf=!0,h.ec=this.ec,l.push(h)):(t=!0,x&&!h.status&&k.push(h)),t&&m.push(h));l.length&&(f.push(l),l.Tc=q-this.ie,f["lv"+(q-this.ie)]=l);x&&k.length&&(g.push(k),g["lv"+(q-this.ie)]=k)}this.Ik=g;this.bn=this.cn=0;this.wc&&!a.ms||this.wA(g,d);this.Hk=f;this.V.set("tiles",f)},hF:function(){}});window.CanvasRenderingContext2D&&(window.CanvasRenderingContext2D.prototype.$B=function(a,b){var c=7;"undefined"===typeof c&&(c=5);this.moveTo(0+c,0);this.lineTo(0+a-c,0);this.quadraticCurveTo(0+a,0,0+a,0+c);this.lineTo(0+a,0+b-c);this.quadraticCurveTo(0+a,0+b,0+a-c,0+b);this.lineTo(0+c,0+b);this.quadraticCurveTo(0,0+b,0,0+b-c);this.lineTo(0,0+c);this.quadraticCurveTo(0,0,0+c,0)},window.CanvasRenderingContext2D.prototype.tm=function(a,b,c,d,f){"undefined"===typeof f&&(f=[10,10]);var g=c-a,h=d-b,k= Math.floor(Math.sqrt(g*g+h*h));d=g/k;c=h/k;f.Zm=0;for(var l=[],g=this.sm||0,m=0,n=0,p=!1,q=h=0;q<f.length;q+=1)f.Zm+=f[q],l[q]={um:f[q]*d,vm:f[q]*c,Mc:h+=f[q]},g-=f[q],0>g&&!p&&(m=q,n=-g,p=!0);for(p=0;n+p<=k;)n<f[m]?(g=n*d,h=n*c):(g=l[m].um,h=l[m].vm),a+=g,b+=h,this.Fk?this.moveTo(a,b):this.lineTo(a,b),p+=n,this.Fk=!this.Fk,n=f[(m+1)%f.length],m=(m+1)%f.length;k-=p;a+=k*d;b+=k*c;this.Fk?this.moveTo(a,b):this.lineTo(a,b);this.sm=(this.sm+p+k)%f.Zm},window.CanvasRenderingContext2D.prototype.Ry=function(a, b,c,d){"undefined"===typeof d&&(d=[10,10]);var f=2*Math.PI*c,g=0>=d?f:Math.round(f/(d[0]+d[1])),h=(d[0]+d[1])/f*2*Math.PI;d=d[0]/f*2*Math.PI;for(f=0;f<g;f+=1)this.beginPath(),this.arc(a,b,c,f*h,f*h+d),this.stroke()}); ',true),_jsload_('mrender', 'H.Q.Df.ff=H.Q.fe.extend({j:function(a,b){arguments.callee.ta.apply(this,arguments);this.Lc()},vr:function(){return this.fa.xt},Sd:function(){return this.xa},Lc:function(){this.xa=document.createElement("div");this.fa=new H.Q.Df.yb(this.xa);this.fa.V=this.V;this.np.w.appendChild(this.xa)},ej:function(a,b){this.Bm=b.Bm;this.Ki=b;this.Cb=a.ha.Cb;this.L=a.ha.L;this.zoom=a.ha.zoom;this.size=a.size;this.ua=a.ua;this.W=a.ha.bb;this.vd=a.ha.vd;var c=!1;if(!this.X||3E4<Math.abs(this.W.x-this.X.x)/this.L|| 3E4<Math.abs(this.W.y-this.X.y)/this.L)c=!0;if(c||this.zoom<<0!==this.zoom||this.X.zoom!==this.zoom)this.X=this.W,this.X.zoom=this.zoom},Lm:function(a){var b=a.ua.Ha.y*this.L;a=a.ua.Ha.x*this.L;return[this.W.x-a,this.W.y-b,this.W.x+a,this.W.y+b]},Vi:function(){if(this.Xd&&this.Xd)for(var a in this.Xd)if(this.Xd.hasOwnProperty(a)){var b=this.Xd[a];b.ec!==this.ec&&b.D&&b.D.parentNode&&b.D.parentNode.removeChild(b.D)}},nc:function(a,b){this.ec=1E6*Math.random()<<0;this.ej(a,b);this.ha=a.ha;this.size= a.size;var c=this.V;this.Oa=256;var d,f;f=this.Lm(a);var g=0;c.Ei&&(g=50*this.L);f[0]-=this.V.Ze*this.L+g;f[1]-=this.V.$e*this.L+g;f[2]+=this.V.Ze*this.L+g;f[3]+=this.V.$e*this.L+g;c=c.yd(f);for(d in c)c.hasOwnProperty(d)&&(c[d].ec=this.ec);this.Vi(c);this.ej.call(this.fa,a,b);this.fa.MB(c);this.Xd=c;this.Xb(a)},Xb:function(){var a=Math.pow(2,this.zoom-this.ca);this.transform={translate:this.X.sa(this.W).Ta(this.L),scale:a,rotate:0}}});H.Q.Df.yb=H.J.extend({j:function(a){this.Hf=a},MB:function(a){var b=document.createDocumentFragment(),c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c],f,g=d.get("params");if(d.D)f=d.D;else{f=H.d.create("div");f.className="amap-marker";var h=g.Jy,k=g.jC;h&&f.appendChild(h);k&&f.appendChild(k);d.D=f;this.V.Ei=!0;this.V.Bh.push(d);d.wd=!0}var k=g.offset,h=k.x,k=k.y,l,m,n;if(d.wd){var p=[];l=this.Na(d.P.na);d.X=this.X;m=g.Yn;n=Math.round(l[1]+k+m.y);l=Math.round(l[0]+h+m.x);p.push("top:"+n+"px");p.push("left:"+ l+"px");p.push("z-index:"+(g.mA?this.PF+10:g.zIndex));H.g.kc||p.push(H.d.Hz(f,g.vq,{x:-h,y:-k}));p.push("display:"+(g.visible?"block":"none")+";");f.style.cssText=p.join(";");if(g=g.title)f.title=g}else if(this.zoom<<0!==this.zoom||d.zoom!==this.zoom||f.parentNode!==this.Hf||d.X!==this.X)l=this.Na(d.P.na),d.X=this.X,m=g.Yn,n=Math.round(l[1]+k+m.y),l=Math.round(l[0]+h+m.x),f.style.top=n+"px",f.style.left=l+"px";d.zoom=this.zoom;f.parentNode!==this.Hf&&(H.g.uc&&H.q.iepngFix(f),b.appendChild(f),d.wd= !1)}this.Hf.appendChild(b)},Na:function(a){return[(a[0]-this.X.x)/this.L,(a[1]-this.X.y)/this.L]}}); ',true),_jsload_('touch', 'H.Zb.vc({Xu:function(){H.l.a(this.aa.Ub,"touchstart",this.Ir,this)},aw:function(){H.l.u(this.aa.Ub,"touchstart",this.Ir,this)},Zu:function(){this.a("touchstart",this.Bl("touchstart"),this);this.a("touchmove",this.Bl("touchmove"),this);this.a("touchend",this.Bl("touchend"),this)},xD:function(){},touchZoomChanged:function(){this.get("touchZoom")?this.get("zoomEnable")&&this.zq():this.rs()},rotateEnableChanged:function(){this.get("rotateEnable")?this.ny():this.MA()},Ir:function(a){this.Gl=!0;H.l.preventDefault(a); if(1<a.touches.length)this.Qd&&this.Qd.stop(),this.H&&(this.H.Sb=!1),H.l.u(document,"touchmove",this.Pm,this),H.l.u(this.aa.Ub,"touchend",this.Om,this),H.l.u(document,"touchend",this.Qm,this);else{this.H.mp=null;this.Qd&&(this.Qd.stop(),this.H.Sb=!1);this.H.Yf=null;this.H.zd=null;a=a.touches[0];var b=this.kd(a,!0);this.H.cz=new Date;this.H.Xf=b.qc;this.H.Le=b.Ia;this.H.jf=!0;this.H.Qv=b;this.H.Sb||(this.H.tn=b);this.jd&&this.jd.stop();var c=b.qc;!c.sb&&c.get("dragEnable")&&(this.H.jf=!0);b.qc.k("touchstart", b);b.qc!==this&&this.k("touchstart",b);H.l.a(document,"touchmove",this.Pm,this);H.l.a(this.aa.Ub,"touchend",this.Om,this);H.l.a(document,"touchend",this.Qm,this);H.l.stopPropagation(a)}},Pm:function(a){H.l.preventDefault(a);if(!(1<a.touches.length)){a=a.touches[0];var b=this.kd(a),c=this.H;if(!b.Ia.Ba(c.Yf)){c.Yf=b.Ia;if(c.jf){b.qc.k("touchmove",b);this.k("touchmove",b);if(!c.Sb&&(b.Ia.x!==this.H.Le.x||b.Ia.y!==this.H.Le.y)){var d;this.eh(c.Xf)&&c.Xf.get("draggable")&&(d=c.Xf);!d&&this.get("dragEnable")&& (d=this);d&&(c.Sb=!0,c.xi=d,c.zd=c.Le,c.$q=c.tn)}c.Sb&&(c.wi=b,this.Op())}if(a.preventDefault)a.preventDefault();else return!1}}},H:{Sb:!1},Qm:function(a){var b=this.kd(a);this.H&&(this.H.Sb=!1);this.Qd&&(this.Qd.stop(),this.H.Sb=!1,this.set("display"));this.H.ci&&(this.H.ci=!1,this.H.Sb=!1,this.H.xi.k("dragend",b));0<a.touches.length||(this.H.jf=!1,this.H.Yf=null,this.H.zd=null,H.l.u(document,"touchmove",this.Pm,this),H.l.u(this.aa.Ub,"touchend",this.Om,this),H.l.u(document,"touchend",this.Qm,this))}, Om:function(a){if(!(0<a.touches.length)){a=this.kd(a);var b=a.qc,c=this.La.get("allBubble")||b.get("bubble");b!==document&&(b.k("touchend",a),a.qc!==this&&c&&this.k("touchend",a));a.Ia.Ba(this.H.Le)&&(this.Od?(clearTimeout(this.Od),delete this.Od,c?(b.k("dblclick",a),b!==this&&this.k("dblclick",a)):b.k("dblclick",a)):(c?(b.k("click",a),b!==this&&this.k("click",a)):(b.k("click",a),this.k("closeOverlays",a)),b.get("topWhenClick")&&b.sb.setTop(!0),this.Od=setTimeout(H.q.bind(function(){clearTimeout(this.Od); delete this.Od},this),260)))}}});H.Zb.vc({zq:function(){H.l.a(this.aa.Ub,"touchstart",this.Jp,this)},rs:function(){H.l.u(this.aa.Ub,"touchstart",this.Jp,this)},Jp:function(a){H.l.a(document,"touchmove",this.Fp,this).a(document,"touchend",this.Tl,this);H.l.preventDefault(a)},Fp:function(a){try{if(this.O("touchmove",this.kd(a)),(a.touches&&2>a.touches.length||!a.touches)&&this.Lk)this.Tl(a);else if(a.touches&&2===a.touches.length){var b,c;if(this.Lk){b=H.l.Rc(a.touches[0],this.aa.Ub);c=H.l.Rc(a.touches[1],this.aa.Ub);var d=b.rc(c), f=b.add(c).Ta(2),f=this.Se(f),g=this.Nx+Math.log(d/this.bq)/Math.log(2);this.gj(g,!0,this.qa(f),!0);this.Nv=f;this.Ov=d;H.l.preventDefault(a)}else this.O("zoomstart"),b=H.l.Rc(a.touches[0],this.aa.Ub),c=H.l.Rc(a.touches[1],this.aa.Ub),this.bq=b.rc(c),this.Nx=this.get("zoom"),this.Lk=!0}}catch(h){}},Tl:function(){if(this.Lk){var a=this.get("zoom"),b=this.qa(this.Nv);this.Lk=!1;this.Ov<=this.bq?this.gj(Math.floor(a),!1,b,!0):this.gj(Math.ceil(a),!1,b,!0)}H.l.u(document,"touchmove",this.Fp).u(document, "touchend",this.Tl)}});H.Zb.vc({ny:function(){H.l.a(this.aa.Ub,"touchstart",this.Ip,this)},MA:function(){H.l.u(this.aa.Ub,"touchstart",this.Ip,this)},Ip:function(a){this.O("touchstart",a);a.touches&&2===a.touches.length&&!this.oD&&(this.gi=null,H.l.a(document,"touchmove",this.Hp,this).a(document,"touchend",this.Gp,this),H.l.preventDefault(a))},Hp:function(a){H.l.preventDefault(a);if(a.rotation&&20<Math.abs(a.rotation))this.gi||(this.gi=a.rotation),this.set("rotation",this.get("rotation")+a.rotation-this.gi),this.gi=a.rotation; else{var b=a.touches[0],c=a.touches[1],b=Math.atan2(c.clientY-b.clientY,c.clientX-b.clientX);this.Ii||(this.Ii=b);0.1<Math.abs(b-this.Ii)&&this.set("rotation",this.get("rotation")+180*(b-this.Ii)/Math.PI);this.Ii=b}this.O("touchmove",this.kd(a))},Gp:function(a){this.O("touchend",a);this.Ii=this.gi=null;H.l.u(document,"touchmove",this.Hp).u(document,"touchend",this.Gp)}}); ',true),_jsload_('crender', 'H.Q.canvas.Zb=H.Q.Zb.extend({j:function(a){arguments.callee.ta.apply(this,arguments)},Ai:function(a){var b=H.q.Ya(a);this.fh[b]||(this.fh[b]=a instanceof H.I.Rf?new H.Q.canvas.fe(a,this):a instanceof H.I.yb&&a.rh?new H.Q.Df.ff(a,this):a instanceof H.I.yb&&H.Q.canvas.ff?new H.Q.canvas.ff(a,this):H.I.pd&&a instanceof H.I.pd?new H.Q.canvas.pd(a,this):H.I.Pg&&a instanceof H.I.Pg&&H.Q.nb.Sk?new H.Q.nb.Sk(a,this):H.I.ee&&a instanceof H.I.ee&&H.Q.canvas.ee?new H.Q.canvas.ee(a,this):null);return this.fh[b]}, clear:function(a){var b=a.size.width,c=a.size.height;this.ia.style.width!==b+"px"&&(this.ia.style.width=b+"px");this.ia.style.height!==c+"px"&&(this.ia.style.height=c+"px");a.dc&&(b*=2,c*=2);this.ia.width=b;this.ia.height=c;this.M.clearRect(0,0,this.ia.width,this.ia.height);this.AA&&this.w.removeChild(this.AA)},nc:function(a){this.f.aa.rf.style.top="0px";this.f.aa.rf.style.left="0px";for(var b=a.Qa,c=a.ha,d=a.size.width,f=a.size.height,g=0;g<b.length;g+=1){var h=this.Ai(b[g]),k=b[g].xg();if(h)if(!k.visible|| k.ub[0]>c.zoom||k.ub[1]<c.zoom)if(k=h.Sd(),k.length)for(var l=0;l<k.length;l+=1)k[l].parentNode===this.w&&this.w.removeChild(k[l]);else k.parentNode===this.w&&this.w.removeChild(k);else{h.nc(a,k);var l=h.Sd(),m,n=h.transform;if(n&&l){b[g].xa=l;l.length||(l=[l],n=[n]);for(var p=0;p<l.length;p+=1){h=l[p];m=n[p];var q=m.translate.x,r=m.translate.y;0!==c.zoom%1||b[g].Xr||(q=Math.round(q),r=Math.round(r));m=m.scale;1E-5>Math.abs(q)&&(q=0);1E-5>Math.abs(r)&&(r=0);var s=[];s.push("position:absolute");s.push("z-index:"+ b[g].get("zIndex"));b[g].rh?(s.push("top:"+(f/2+r)+"px"),s.push("left:"+(d/2+q)+"px")):(k.dc&&(m/=2),1!==m&&(s.push(H.d.cj[H.d.Ib]+"-origin:"+q+"px "+r+"px"),s.push(H.d.cj[H.d.Ib]+":scale("+m+","+m+")")),s.push("top:"+(f/2-r)+"px"),s.push("left:"+(d/2-q)+"px"));1!==k.opacity&&void 0!==k.opacity&&s.push("opacity:"+k.opacity);h.style.cssText=s.join(";");(h.parentNode!==this.w||H.g.uq)&&this.w.appendChild(h)}}}}H.d.Ib&&"number"===typeof c.rotation&&(this.f.aa.I.style[H.d.Ib+"Origin"]=d/2+"px "+f/2+"px", this.f.aa.I.style[H.d.Ib]="rotate3d(0,0,1,"+c.rotation+"deg)",this.f.aa.da.style[H.d.Ib+"Origin"]=d/2+"px "+f/2+"px",this.f.aa.da.style[H.d.Ib]="rotate3d(0,0,1,"+c.rotation+"deg)");this.f.Ln=!1}});H.Q.canvas.fe=H.Q.fe.extend({j:function(a,b){arguments.callee.ta.apply(this,arguments);this.Wm=!0;this.Lc();this.Jb=[]},Lc:function(){this.ia=document.createElement("canvas");this.M=this.ia.getContext("2d")},Sd:function(){return this.ia},zi:function(){for(var a=0;a<this.Jb.length;a+=1)if(!this.Jb[a].gk)return this.Jb[a].gk=!0,this.Jb[a];a=document.createElement("canvas");a.gk=!0;a.M=a.getContext("2d");this.Jb.push(a);return a},Rs:function(a){for(var b=0;b<this.Jb.length;b+=1)this.Jb[b].Tc&&!a["lv"+ this.Jb[b].Tc]&&(this.Jb[b].gk=!1,this.Jb[b].width=0,this.Jb[b].height=0,delete this.Da[this.Jb[b].Tc])},vy:function(a){var b=a.ha;return this.Ik&&1===this.Ik.length&&0===this.Ik[0].length&&!this.Fh&&b.zoom===this.zoom&&b.vd===this.vd&&a.size.Ba(this.size)&&b.rotation===this.rotation?this.reload?this.reload=!1:!0:!1},nc:function(a,b){if(a.be||a.Hb&&a.ja){var c=Math.pow(2,a.ha.zoom-this.ca),d=a.ha.bb.sa(this.bb).Ta(this.Xa*(this.Fc?0.5:1));this.transform={translate:this.transform.translate.add(d), scale:c,rotate:0};this.bb=a.ha.bb;return!0}if(!this.vy(a)){this.un(a,b);this.je=[];this.Fh=!1;c=+new Date;d=this.Cd;this.Gd=b.Pj;var f=this.Oa*d.yn,g=this.Oa*d.xn,h=[],k=this.eb;this.eb+=1;this.Da&&1===this.Da.opacity||(this.Da={},this.Da.opacity=1);var l=this.Hk;this.Rs(l);var m,n,p,q;for(n=l.length-1;0<=n;n-=1)if(m=l[n],q=m.Tc,this.Da[q])if(this.Da[q].canvas){if(p=this.Da[q].canvas,p.width!==f||p.height!==g)p.height=g,p.width=f,this.Da[q]={canvas:p}}else this.Da[q].canvas=this.zi(),this.Da[q].canvas.Tc= q,this.Da[q].canvas.height=g,this.Da[q].canvas.width=f;else p=this.zi(),p.height=g,p.width=f,p.Tc=q,this.Da[q]={canvas:p};this.ia.width=f;this.ia.height=g;for(n=l.length-1;0<=n;n-=1)if(m=l[n],m.length){q=m.Tc;p=this.Da[q].canvas;for(var r=this.Kh(this.ca,q),s=Math.floor(d.Vb*Math.pow(2,q-this.ca)),t=Math.floor(d.qb*Math.pow(2,q-this.ca)),x=Math.floor(d.Uc*Math.pow(2,q-this.ca))-s+1,v,w,y,u,f=m.length-1;0<=f;f-=1)if(g=m[f],v=g.oa,w=(v.y-t)*x+(v.x-s),this.Da[q][w]!==g||1!==g.Sf){y=r*(v.x-d.Vb/Math.pow(2, this.ca-q));u=r*(v.y-d.qb/Math.pow(2,this.ca-q));var z=1;if(!g.gf||this.ll&&g.eb!==k)g.gf=c;g.eb=this.eb;this.Gd&&!g.nf?(v=Math.max(0,Math.abs(v.z-this.zoom)-1),z=Math.min(1,(c-g.gf)/(1/Math.pow(1.32,v)*this.rl)),1!==z&&(this.Fh=!0)):g.nf=!1;g.Sf=z;0!==z&&g.va&&(p.M.clearRect(y,u,r,r),p.M.globalAlpha=z,p.M.drawImage(g.va,y,u,r,r),this.Da[q][w]=g,h.push(g))}else h.push(g),g.eb=this.eb;if(m=this.Ik["lv"+q])for(f=m.length-1;0<=f;f-=1)g=m[f],v=g.oa,w=(v.y-t)*x+(v.x-s),this.Da[q][w]&&(y=r*(v.x-d.Vb/Math.pow(2, this.ca-q)),u=r*(v.y-d.qb/Math.pow(2,this.ca-q)),p.M.clearRect(y,u,r,r),delete this.Da[q][w]);this.M.drawImage(p,0,0)}this.je=h;this.Fh&&this.set("display",0);this.Xb(a)}},Xb:function(){var a=Math.pow(2,this.zoom-this.ca);this.transform={translate:this.bb.Ta(this.Xa*(this.Fc?0.5:1)).sa(this.Nh.add({x:this.Cd.Vb,y:this.Cd.qb}).Wa(this.Oa)),scale:a,rotate:0}}}); ',true),_jsload_('vectorlayer', 'H.rj=H.J.extend({j:function(){this.Oa=256;this.ry="ASDFGHJKLQWERTYUIO!sdfghjkl"},TF:function(){},AE:function(){var a=H.style.Ra;return a.yz.apply(a,arguments)},Ht:function(a){var b,c,d,f,g;c=[];d=NaN;f=0;for(g=a.length;f<g;f+=1)b=a[f],b=this.ry.indexOf(b),isNaN(d)?d=27*b:(c.push(d+b-333),d=NaN);return c},Sj:function(a,b,c){var d=[],f=0,g,h=0,k=1;if(c)for(f=this.Oa*b.x,h=this.Oa*b.y,k=b.L,g=0;g<a.length;g+=2)b=(f+a[g])*k,c=(h+a[g+1])*k,d.push([b,c]),f+=a[g],h+=a[g+1];else for(g=0;g<a.length;g+=2)d.push([a[g], a[g+1]]);return d},Eq:function(a,b,c){var d=0,f=0,g=1;c&&(d=this.Oa*b.x,f=this.Oa*b.y,g=b.L);return[(d+a[0])*g,(f+a[1])*g]},rm:function(a,b,c){for(var d=[],f=0,g=a.length;f<g;f+=1){var h=this.Sj(this.Ht(a[f]),b,c);d.push(h);d.Pe=d.Pe?d.Pe+h.Pe:h.Pe}return d},Ds:function(a,b,c){var d=[];if(!b)return d;for(var f,g,h,k=0,l=b.length;k<l;k+=1)if(3===c.Zc||4===c.Zc)for(g=0;g<b[k][0].length;g+=1)(h=this.Pi(a,b[k][0][g],b[k][1],c))&&d.push(h);else h=this.Pi(a,b[k],c),f=this.Ji?b[k][this.Ji]:1,g=b[k][this.Pn], f=d[f]?d[f]:d[f]={},f[g]||(f[g]=[]),f[g].push(h);return d}});H.uo=H.rj.extend({j:function(){H.uo.Wg.j.apply(this,arguments);this.vi=0;this.Ji=2;this.Pn=1},Pi:function(a,b,c){a=this.rm(b[this.vi],a.oa,c.wc);return new H.G.xb(a,!0)}});H.so=H.rj.extend({j:function(){H.so.Wg.j.apply(this,arguments);this.vi=0;this.Pn=1},Pi:function(a,b,c){a=this.rm(b[this.vi],a.oa,c.wc);return new H.G.xb(a)}});H.wo=H.rj.extend({j:function(){H.wo.Wg.j.apply(this,arguments);this.vi=0;this.Pn=1;this.Ji=2},Pi:function(a,b,c){c=this.rm(b[this.vi],a.oa,c.wc);var d=new H.G.Qg(c);if(!a.I||b[this.Ji]>a.I)a.I=b[this.Ji],a.Pe=0;a.Pe=Math.max(a.Pe,c.Pe);return d}});H.cl=H.rj.extend({j:function(){H.cl.Wg.j.apply(this,arguments)},Pi:function(a,b,c,d){var f=b[this.ls];c=c.split("&");var g="Microsoft YaHei",h=parseInt(c[this.vt]),k=H.q.ng(c[this.ut]),l=400,m,n=this.Ht(b[this.Js]);3!==d.Zc||b[this.yh]||(n[0]+=h/2,n[1]-=h/2);var p=this.Eq(n,a.oa,d.wc),p=new H.G.wb(p);p.name=f.replace("^","");p.af=n;p.jc=[];p.ld=[];c[this.On]&&(m=H.q.ng(c[this.On]));if(3===d.Zc)d=!1,c[this.aj]&&b[this.yh]&&(p.jc.push(H.o.ga+"/theme/v1.3/RES/"+((H.g.ja&&!a.ve?"b":"n")+(10>a.oa.z?"39": "18"))+"/1/"+c[this.aj]+".png"),p.ld.push(b[this.yh]),l=800,g="Arial Narrow,Arial",d=!0),g=this.wr(f,g,h,k,m,l,d,a),p.jc.push(g),k=g.getContext("2d"),1<f.length||d?(k=Math.ceil(k.measureText(f).width/2),d&&k>(H.g.ja&&!a.ve?22:11)&&(k=H.g.ja&&!a.ve?22:11),p.ld.push([-k,Math.floor(-g.kz/2-2),h,h*f.length])):p.ld.push([Math.floor(-h/2),Math.floor(-h/2),h,h*f.length]),p.Dn=b[this.gm]?5>b[this.gm]?0:b[this.gm]:0;else{f=f.split("^");l=b[this.xC];if(c[this.wt]){for(var q=d=n=0;q<l.length;q+=1)n<l[q][2]&& (n=l[q][2],d=q);n+=9;q=(l[0][3]+1)*l.length+4;p.jc.push(this.Iz(n,q,H.q.ng(c[this.wt])));p.ld.push([l[d][0]-4,l[0][1]-(H.g.ja&&!a.ve?1:2),n,q])}c[this.aj]&&b[this.yh]&&(p.kA=!0,p.jc.push(H.o.ga+"/theme/v1.3/RES/"+((H.g.ja&&!a.ve?"b":"n")+(10>a.oa.z?"39":"18"))+"/1/"+c[this.aj]+".png"),p.ld.push(b[this.yh]));if(0<l.length)for(b=0;b<l.length;b+=1)a=f[b],p.jc.push(this.wr(a,g,h,k,m)),l[b][1]-=1,p.ld.push(l[b])}return p},Iz:function(a,b,c){var d=document.createElement("canvas"),f=d.getContext("2d");d.width= a;d.height=b;f.fillStyle=c;f.beginPath();f.$B(a,b);f.fill();return d},wr:function(a,b,c,d,f,g,h,k){g=document.createElement("canvas");var l=g.getContext("2d");g.width=c*a.length+6;g.height=c+6;l.font=c+"px "+b;c=parseInt(l.font);b=c*a.length;h&&(H.g.ja&&!k.ve?44<b&&(b=44):22<b&&(b=22));f&&(l.strokeStyle=f,l.strokeText(a,0,c,b));l.fillStyle=d;l.fillText(a,0,c,b);g.kz=c;return g}});H.to=H.cl.extend({j:function(){H.to.Wg.j.apply(this,arguments);this.ls=0;this.Js=1;this.xC=2;this.yh=3;this.aj=0;this.vt=1;this.ut=2;this.On=3;this.wt=4}});H.vo=H.cl.extend({j:function(){H.vo.Wg.j.apply(this,arguments);this.ls=0;this.Js=1;this.gm=2;this.yh=3;this.aj=0;this.vt=1;this.ut=2;this.On=3}});H.Q.canvas.pd=H.Q.fe.extend({j:function(a,b){arguments.callee.ta.apply(this,arguments);this.wc=!0;this.Jb=[];var c=this;this.Cl=function(){c.os=!0;c.set("display",0)};this.Lc()},sz:function(a){var b=256*this.Xa,c=a.af.x/b,d=c%1*256,c=Math.floor(c);a=a.af.y/b;b=a%1*256;a=Math.floor(a);var f=this.ca,g=c-1,h=c+1,k=a-1,l=a+1;128>d?h=c:g=c;for(128>b?l=a:k=a;g<=h;g+=1)for(var m=k;m<=l;m+=1){var n=this.kb.get(f+"/"+g+"/"+m);if(n&&n.fb)for(var p=n.fb.length-1;0<=p;p-=1)if(n.fb[p].kA&&this.eA(n.fb[p],d,b, g-c,m-a))return n.fb[p]}return null},eA:function(a,b,c,d,f){d=a.af[0]+256*d;f=a.af[1]+256*f;for(var g=0;g<a.jc.length;g+=1)if(b>=d+a.ld[g][0]-1&&b<=d+a.ld[g][0]+a.ld[g][2]+1&&c>=f+a.ld[g][1]-1&&c<=f+a.ld[g][1]+a.ld[g][3]+1)return!0;return!1},Lc:function(){this.ia=document.createElement("canvas");this.M=this.ia.getContext("2d");this.zi();this.jg=document.createElement("canvas");this.fa=new H.Q.canvas.pd.yb(this.jg,this.Cl)},reloadChanged:function(){this.Re=!1;this.kb.clear();this.ia&&this.ia.parentNode&& this.ia.parentNode.removeChild(this.ia);this.jg&&this.jg.parentNode&&this.jg.parentNode.removeChild(this.jg)},Sd:function(){return[this.ia,this.jg]},zi:function(){var a=document.createElement("canvas");a.M=a.getContext("2d");return a},Rs:function(a){for(var b=0;b<this.Jb.length;b+=1)this.Jb[b].Tc&&!a["lv"+this.Jb[b].Tc]&&(this.Jb[b].gk=!1,this.Jb[b].width=0,this.Jb[b].height=0,this.Da[this.Jb[b].Tc]=null)},ve:function(a){if(10>a.z)return!1;var b=Math.pow(2,a.z-10);return 853<=a.x/b&&859>=a.x/b&&437<= a.y/b&&448>=a.y/b?!0:!1},es:function(a,b){if(!a.loaded){a.ve=H.g.ja&&this.ve(a.oa);var c=a.key,d=a.oa.Ma();d.x=(d.x+Math.pow(2,d.z))%Math.pow(2,d.z);d=this.kb.get(d+"");d||(d=a.oa.Ma(),d.x+=Math.pow(2,d.z),d=this.kb.get(d+""));if(d&&d.loaded)a.Qe=d.Qe,a.fb=d.fb,a.loaded=!0,a.va=!0,this.kb.set(c,a),this.set("display");else if((!a.Af||a.Af.ud)&&!a.loaded){var f=this;f.kb.set(c,a);a.loaded=!1;a.Af=b.uA(a,function(b){a.Af=null;a.loaded=!0;f.V.Dt(b.data,a)},!1)}}},ez:function(a,b,c){var d,f;d=Math.floor(c/ 2);f=c-d;d=(1<<d)-1<<f;f=(1<<f)-1;return[c,a&d|b&f,b&d|a&f]},xA:function(a){if(a.length){var b;b=H.o.mc+"://vdata.amap.com/tiles?v=2&style="+(H.g.ja?"2":"1")+"&t=";for(var c=[],d,f=0;f<a.length;f+=1){var g=a[f],h=g.oa;d||(d=h.x,0>d&&(d+=Math.pow(2,h.z)),d="_"+d+h.y+h.z);this.kb.set(g.key,g);g.ve=this.ve(g.oa);g.status="loading";c.push(this.ez(h.x,h.y,h.z).join(","))}b+=c.join(";");if(0!==c.length){var k=this;b=new H.T.$(b,{callback:"callback",fun:d});b.a("complete",function(b){for(var c=0,d=0;d<a.length;d+= 1){var f=a[d];f.status="loaded";k.V.Py=k.V.get("crs");k.V.Dt(b.data[c],f);b.data[c]=null;c+=1}},k);b.a("error",function(){for(var b=0;b<a.length;b+=1)a[b].status=null},k)}}},Lz:function(a){var b=a.x,c=a.y;a=this.Cb.Sc(a.z);return[256*a*b,256*a*c,256*a*(b+1),256*a*(c+1)]},nc:function(a,b){if(a.be&&a.Hb||!(a.be||a.Hb&&a.ja)){this.un(a,b);this.je=[];this.Fh=!1;this.currentTime=+new Date;this.NC=b.NC;var c=this.Cd;this.ae=[256*c.Vb*this.Xa,256*c.qb*this.Xa];this.Gd=b.Pj;this.Da&&this.Da.opacity===b.opacity|| (this.Da={},this.Da.opacity=b.opacity);var d=this.Hk,f=256*c.yn,c=256*c.xn;H.d.Xi(this.ia,f,c,!0);this.Hb=this.zoom<<0!==this.zoom;if(this.TB(d,f,c,b)||this.os||this.Hb||this.cs)this.An(a,f,c),this.os=!1;this.Fh&&this.set("display",0);this.Xb(a);this.cs=this.Hb}else d=Math.pow(2,a.ha.zoom-this.ca),a.dc&&!b.dc&&(d*=2),f=a.ha.bb.sa(this.bb).Ta(this.Xa*(this.Fc?0.5:1)),this.transform=[{translate:this.transform[0].translate.add(f),scale:d,rotate:0},{translate:this.transform[1].translate.add(f),scale:d, rotate:0}],this.bb=a.ha.bb,this.cs=a.Hb},TB:function(a,b,c,d){var f,g,h,k,l=this.eb;this.eb+=1;var m=!1,n=this.Cd,p,q,r,s,t;f=!1;for(q=a.length-1;0<=q;q-=1)if(s=a[q],r=s.Tc,s.length){if(this.Da[r]){if(p=this.Da[r].region,p.width!==b||p.height!==c)H.d.Xi(p,b,c,!0),this.Da[r].ek={}}else p=this.zi(),p.height=c,p.width=b,this.Da[r]={region:p,ek:{}};f=Math.floor(n.Uc*Math.pow(2,r-this.ca));g=Math.floor(n.Nc*Math.pow(2,r-this.ca));h=Math.floor(n.Vb*Math.pow(2,r-this.ca));k=Math.floor(n.qb*Math.pow(2,r- this.ca));t=f-h+1;for(var x,v,w,y,u,z=this.Kh(this.ca,r),F={},G=s.length-1;0<=G;G-=1)if(u=s[G],x=u.oa,v=(x.y-k)*t+(x.x-h),this.Da[r].ek[v]!==u||u.Sf!==d.opacity){m=!0;w=z*(x.x-n.Vb/Math.pow(2,this.ca-r));y=z*(x.y-n.qb/Math.pow(2,this.ca-r));var A=d.opacity;if(!u.gf||this.ll&&u.eb!==l)u.gf=this.currentTime;u.eb=this.eb;this.Gd&&!u.nf?(x=Math.max(0,Math.abs(x.z-this.zoom)-1),A=Math.min(1,(this.currentTime-u.gf)/(1/Math.pow(1.32,x)*this.rl)),A!==d.opacity&&(this.Fh=!0)):u.nf=!1;u.Sf=A;p.M.clearRect(w, y,z,z);0!==A&&u.va&&u.Qe&&(p.M.globalAlpha=A,p.M.drawImage(u.Qe,w,y,z,z),this.je.push(u),F[v]=u)}else this.je.push(u),u.eb=this.eb,x=u.oa,v=(x.y-k)*t+(x.x-h),F[v]=u,u.ns&&(m=!0,u.ns=!1);for(s=h;s<=f;s+=1)for(u=k;u<=g;u+=1)v=(u-k)*t+(s-h),F[v]||(w=z*(s-n.Vb/Math.pow(2,this.ca-r)),y=z*(u-n.qb/Math.pow(2,this.ca-r)),p.M.clearRect(w,y,z,z));f=!0;this.Da[r].ek=F;this.M.drawImage(p,0,0)}else this.Da&&this.Da[r]&&(this.Da[r].ek=[]);return m||!f},An:function(a,b,c){var d=this.jg,f=this.fa;f.Hb=this.Hb;this.Hb? this.Hb&&(0!==a.ha.rotation?H.d.Xi(d,2*Math.floor(a.ua.Ha.x)*(this.Fc?2:1),2*Math.floor(a.ua.Ha.y)*(this.Fc?2:1),!0):H.d.Xi(d,a.size.width*(this.Fc?2:1),a.size.height*(this.Fc?2:1),!0),f.ae=[a.ua.Ea.x,a.ua.Ea.y]):(H.d.Xi(d,b,c,!0),f.ae=[this.ae[0]*(this.Fc?0.5:1),this.ae[1]*(this.Fc?0.5:1)]);this.fa.Xa=this.L*(this.Fc?0.5:1);var g;for(a=this.ca;!g||!g.length;){g=this.Hk["lv"+a];if(3>a)break;a-=1}if(g&&g.length)for(a=g.length-1;0<=a;a-=1)this.fa.An(g[a].fb)},Xb:function(a){var b=Math.pow(2,this.zoom- this.ca),c=this.bb.Ta(this.Xa*(this.Fc?0.5:1)).sa(this.Nh.add({x:this.Cd.Vb,y:this.Cd.qb}).Wa(this.Oa));a={x:a.ua.Ha.x*(this.Fc?2:1),y:a.ua.Ha.y*(this.Fc?2:1)};this.transform=[{translate:c,scale:b,rotate:0,zIndex:0},{translate:this.Hb?a:c,scale:1,rotate:0,zIndex:1}]}});H.Q.canvas.pd.yb=H.J.extend({j:function(a,b){this.ia=a;this.M=a.getContext("2d");this.jc={};this.Wf=b},An:function(a){for(var b=0;b<a.length;b+=1)for(var c=this.Na(a[b].na),d=0;d<a[b].jc.length;d+=1)this.JB(c,a[b].jc[d],a[b].ld[d],a[b].Dn)},JB:function(a,b,c,d){var f=this.M;if(b=this.th(b)){var g=c[0];c=c[1];d%=360;0!==d&&(f.translate(a[0],a[1]),f.rotate(-Math.PI*d/180),f.translate(-a[0],-a[1]));f.drawImage(b,a[0]+g,a[1]+c);0!==d&&f.setTransform(1,0,0,1,0,0)}},yk:function(a){for(var b,c,d,f,g,h=0;h< a.length;h+=1)if(a[h]){c=a[h];for(var k in c)c.hasOwnProperty(k)&&(b=k.split("&"),d=H.q.ng(b[0]),b[2]?(f=H.q.ng(b[2]),g=parseInt(b[1])||1):f=null,this.Bn(c[k],d,f,g))}},Bn:function(a,b,c,d){var f=this.M,g,h,k,l,m,n,p,q=[NaN,NaN,0],r=[NaN,NaN];f.save();c&&d&&(f.strokeStyle=c,f.lineWidth=d);b&&(f.fillStyle=b);this.Ph={};f.beginPath();g=0;for(h=a.length;g<h;g+=1)if(k=a[g],k=k.Xc,l=k.length,0<l)for(var s=0;s<l;s+=1){var t;m=k[s].na;n=0;for(p=m.length;n<p;n+=1)if(q=m[n],0===n)t=r=q,f.moveTo(q[0],q[1]); else if(q[0]!==r[0]||q[1]!==r[1])f.lineTo(q[0],q[1]),r=q;f.lineTo(t[0],t[1])}b&&f.fill();c&&d&&f.stroke();f.restore();return!0},th:function(a){if(a instanceof HTMLCanvasElement)return a;var b=this.jc[a];if("undefined"===typeof b)return b=document.createElement("img"),b.src=a,this.jc[a]=b,b.loaded=!1,H.l.Dh(b,"load",this.Fi,this),null;if(b.loaded)return b},Fi:function(a){a.target.loaded=!0;this.Wf&&this.Wf()},Na:function(a){return this.Hb?[(a[0]-this.ae[0])/this.Xa,(a[1]-this.ae[1])/this.Xa]:[0.5+ (a[0]-this.ae[0])/this.Xa<<0,0.5+(a[1]-this.ae[1])/this.Xa<<0]},sA:"solid solid_roundcap solid_squarecap dash railway dash_crewel".split(" "),Zs:function(a){for(var b,c=this.sA,d=0;d<a.length;d+=1)if(a[d]){b=a[d];var f,g;for(f in b)if(b.hasOwnProperty(f)){g=b[f];var h=f.split("&"),k=[],l=0,m=0,n="butt",p=[],q=0,r=0,s="butt",q=H.q.ng(h[1]),r=parseInt(h[0])||1,t=h[2];t===c[1]?s="round":t===c[2]?s="square":0!==t.indexOf(c[5])&&(0===t.indexOf(c[3])?p=eval("["+t.substring(5).split(")")+"]"):0===t.indexOf(c[4])&& (l=q,q="white",p=eval("["+t.substring(8).split(")")+"]"),m=r+1,r-=1));h[3]&&(l=H.q.ng(h[4]),m=parseInt(h[3])+parseInt(h[0]),h=h[5],h===c[1]?n="round":h===c[2]?n="square":0!==h.indexOf(c[5])&&0===h.indexOf(c[3])&&(k=eval("["+h.substring(5).split(")")+"]")));g.bt=q;g.ZB=r;g.XB=s;g.YB=p;g.JD=l;g.LD=m;g.ID=n;g.KD=k;l&&this.Ys(g,l,m,n,k)}for(f in b)b.hasOwnProperty(f)&&(g=b[f],g.bt&&this.Ys(g,g.bt,g.ZB,g.XB,g.YB))}},Ys:function(a,b,c,d,f){var g=this.M;g.save();g.lineWidth=c;g.strokeStyle=b;g.lineCap=d; g.lineJoin="bevel";g.setLineDash?(this.mh(g,a),f&&g.setLineDash(f)):f&&1<f.length?this.Rj(g,a,f):this.mh(g,a);g.stroke();g.restore();return!0},mh:function(a,b){a.beginPath();var c,d,f,g,h,k,l,m,n,p;c=0;for(h=b.length;c<h;c+=1)for(d=b[c],k=d.Kb,d=0,l=k.length;d<l;d+=1)for(n=k[d].na,f=0,m=n.length;f<m;f+=1)if(g=n[f],0===f)a.moveTo(g[0],g[1]),p=g;else if(g[0]!==p[0]||g[1]!==p[1])a.lineTo(g[0],g[1]),p=g},Rj:function(a,b,c){a.beginPath();var d,f,g,h,k,l,m,n,p,q;d=0;for(k=b.length;d<k;d+=1)for(f=b[d],l= f.Kb,a.sm=0,a.Fk=!1,f=0,m=l.length;f<m;f+=1)for(p=l[f].na,g=0,n=p.length;g<n;g+=1)if(h=p[g],0===g)a.moveTo(h[0],h[1]),q=h;else if(h[0]!==q[0]||h[1]!==q[1])a.tm(q[0],q[1],h[0],h[1],c),q=h;a.closePath()},Xs:function(a,b,c,d,f,g,h,k,l){var m=this.M;m.setLineDash?(this.mh(m,a),g&&(m.save(),l&&m.setLineDash(l),m.lineWidth=h,m.strokeStyle=g,m.lineCap=k,m.lineJoin="bevel",m.stroke(),m.restore()),m.save(),f&&m.setLineDash(f),m.lineWidth=c,m.strokeStyle=b,m.lineCap=d):(d=l&&1<l.length,k=f&&1<f.length,h&&(m.save(), d?this.Rj(m,a,l):this.mh(m,a),m.lineWidth=h,m.strokeStyle=g,m.lineJoin="bevel",m.stroke(),m.restore(),m.save()),d?k?f.join(",")!==l.join(",")&&this.Rj(m,a,f):this.mh(m,a):k?this.Rj(m,a,f):h||this.mh(m,a),m.lineWidth=c,m.strokeStyle=b);m.lineJoin="bevel";m.stroke();m.restore();return!0}});H.I.pd=H.I.De.extend({j:function(a,b){this.wc=!0;this.lh=a;this.Gd=H.g.ja?!1:!0;this.f=b;this.Ke=this.Je=!0;this.fc("zoom center crs centerCoords resolution coordsBound display".split(" "),b);this.fc(["zooms","detectRetina","visible","zIndex","opacity"],a);this.C("lang",b,!0);this.set("display");this.kb={};this.Mb={};this.Oa=256;this.Ff=[];this.Cr=this.Br=this.Ze=this.$e=0;this.aC={road:0,region:0,building:1,poilabel:1,roadlabel:1};this.Zd=[[],[],[],[],[]]},langChanged:function(){this.set("reload"); this.lh.Ms()},Ft:function(a,b,c){"hotspotout"===a?this.f.La.set("optimalCursor",null):"hotspotover"===a&&this.f.La.set("optimalCursor","pointer");this.f.La.k(a,{name:b.name,lnglat:c,id:b.qk})},bk:function(a,b){function c(c){b.Bf=null;var d,l;for(l in c.pois)c.pois.hasOwnProperty(l)&&c.pois[l].name===g&&(d=c.pois[l]);d?(b.qk=d.id,this.Ft(a,b,f)):b.qk=null}var d=b.na,d=new H.F(d[0],d[1]),f=this.f.Ic(d,3),g=b.name;null!==b.qk&&(b.qk?this.Ft(a,b,f):b.Bf?b.Bf.a("complete",c,this):(d=new H.T.$(H.o.Db+"/v3/place/around?keywords="+ g+"&radius=20&location="+f+"&s=rsv3&key="+H.o.key,{callback:"callback"}),d.a("complete",c,this),b.Bf=d))},of:function(a){(a=this.sr(a))&&this.bk("hotspotclick",a)},Md:function(a){(a=this.sr(a))&&this.Id!==a&&(this.Id&&this.bk("hotspotout",this.Id),this.bk("hotspotover",a));!a&&this.Id&&this.bk("hotspotout",this.Id);this.Id=a},$A:function(){this.f.a("click",this.of,this);this.f.a("mousemove",this.Md,this)},Oq:function(){this.f.u("click",this.of,this);this.f.u("mousemove",this.Md,this)},sr:function(a){return this.f.Li.Ai(this).sz(a)}, Vn:[{type:"region",Zc:0,Eh:new H.uo,wc:0},{type:"building",Zc:1,Eh:new H.so,wc:0},{type:"road",Zc:2,Eh:new H.wo,wc:0},{type:"roadlabel",Zc:3,Eh:new H.vo,wc:1},{type:"poilabel",Zc:4,Eh:new H.to,wc:1}],lg:function(a,b){this.Mb[b]||(this.Mb[b]={},this.Mb[b].Gk=new H.I.jj,this.Mb[b].Ae=new H.I.jj);for(var c=1;2>c;c+=1)for(var d=0===c?this.Mb[b].Gk:this.Mb[b].Ae,f=0===c?a.Gk:a.Ae,g=0;g<f.length;g+=1)if(d.add(f[g]),f[g].P instanceof H.G.wb)for(var h=f[g].Oc,k=0;k<h.length;k+=1)this.Br=Math.max(this.Br, h[k].Nk+Math.abs(h[k].Kt)),this.Cr=Math.max(this.Cr,h[k].Sr+Math.abs(h[k].Lt))},mD:function(a,b){for(var c=0,d=a.length;c<d;c+=1)a[c].FC=b},lD:function(a,b,c,d,f){for(var g=0,h=a.length;g<h;g+=1)"road"===a[g].FC?f.push(a[g]):b||a[g].Oc.wc?c.push(a[g]):d.push(a[g])},Dt:function(a,b){b.BC=[];b.ad={};b.fb=[];b.oa.L=this.Py.Sc(b.oa.z);for(var c=0;c<a.length;c+=1){var d=0;if(3>c)this.Zd[c].push([a[c],c,b]);else for(var d=10,f=a[c].length,g=0;0<f;)f-=d,this.Zd[c].push([a[c].slice(d*g,d*(g+1)),c,b]),g+= 1;5>c&&this.Zd[c].push(["co",c,b]);a[c]=null}this.rt()},rt:function(){if(!this.Ni){for(var a=0;a<this.Zd.length;a+=1)if(this.Zd[a].length){this.Ni=H.q.Gh(function(){for(var a=0;a<(H.g.ja?6:10);a+=1)this.parse();this.Ni=null;this.rt()},this);return}this.Ni=null}},parse:function(){for(var a,b=0;b<this.Zd.length;b+=1)if(this.Zd[b].length){a=this.Zd[b].shift();if(!a)break;var c;if("co"===a[0])c=a[2],this.qB(c),0===a[1]?c.ad.region?(this.fa.yk(c.ad.region,0,c.oa.z),c.ad.region=null):(this.fa.M.fillStyle= "#fcf9f2",this.fa.M.fillRect(0,0,256,256)):1===a[1]&&c.ad.building?(this.fa.yk(c.ad.building,1,c.oa.z),c.ad.building=null):2===a[1]?(c.ad.road&&(this.fa.Zs(c.ad.road,c.oa.z),c.ad.road=null),c.ad=null,c.va=!0):c.ns=!0;else try{c=a[2];var d=this.Vn[a[1]],f=d.Eh.Ds(c,a[0],d);3===d.Zc||4===d.Zc?[].push.apply(c.fb,f):f.length&&(c.ad[d.type]=f)}catch(g){}1<=b&&0===this.Zd[b].length&&(this.set("display",1),this.Re||(this.O("complete"),this.Re=!0));break}},IF:function(a){this.Zd.sort(function(a,b){return a.length< b.length?-1:1});var b=this.Zd[0];b.push.apply(b,a.BC);b.Ni||(this.Ni=H.q.Gh(function(){this.parse(b)},this))},qB:function(a){if(!a.Qe){var b=document.createElement("canvas");b.width=b.height=256;a.Qe=b}this.fa?(this.fa.ia=a.Qe,this.fa.M=a.Qe.getContext("2d")):(this.fa=new H.Q.canvas.pd.yb(a.Qe),this.fa.Xa=1)},eF:function(a,b){b.oa.L=this.get("crs").Sc(b.oa.z);for(var c={},d=new Date,f=[],g=0,h=this.Vn.length;g<h;g+=1){var k=this.Vn[g],l=k.Eh.Ds(b,a[k.Zc],k);f.push(a[k.Zc].length+":"+(new Date-d)); 3===k.Zc||4===k.Zc?b.fb?b.fb.push.apply(b.fb,l):b.fb=l:c[k.type]=l}b.ad=c;this.tx(b);return!0},tx:function(a){this.Lj=this.Lj||[];this.Lj.push(a);this.Wp()},Wp:function(){if(!this.No){var a=this;this.No=setTimeout(function(){a.No=null;a.gv();a.Lj.length&&a.Wp()},18)}},gv:function(){var a=this.Lj.shift();a&&(this.OD(a),this.set("display"))},PD:function(a){var b=document.createElement("canvas");this.fa?(this.fa.ia=b,this.fa.M=b.getContext("2d")):this.fa=new H.Q.canvas.pd.yb(b);this.fa.Xa=1;b.width= b.height=256;var c=a.ad;c.region?(this.fa.yk(c.region,0),delete c.region):(this.fa.M.fillStyle="#fcf9f2",this.fa.M.fillRect(0,0,256,256));c.road&&(this.fa.Zs(c.road),delete c.road);c.building&&(this.fa.yk(c.building,1),delete c.building);a.Qe=b},Eq:function(a,b){var c=this.Oa*b.x,d=this.Oa*b.y,f=this.get("crs").Sc(b.z);return[(c+a[0])*f,(d+a[1])*f]},Sj:function(a,b,c){var d=[],f=0,g=0,h=1;c&&(f=this.Oa*b.x,g=this.Oa*b.y,h=this.get("crs").Sc(b.z));for(var k=0,l=0;l<a.length;l+=2){b=(f+a[l])*h;c=(g+ a[l+1])*h;if(2>b||254<b||2>c||254<c)k+=1;d.push([b,c]);f+=a[l];g+=a[l+1]}d.Pe=k;return d},yd:function(a,b,c){return!0===c?this.Mb[b].Ae.yd(a):!1===c?this.Mb[b].Gk.yd(a):H.extend(this.Mb[b].Ae.yd(a),this.Mb[b].Gk.yd(a))},yf:function(a,b,c){a=(a+Math.pow(2,c))%Math.pow(2,c);return H.o.mc+"://vdata.amap.com/tile/"+c+"/"+a+"/"+b+"?v=1"+(H.g.ja?"&style=2":"")},xg:function(){return{KE:!0,Oa:256,visible:this.get("visible"),e:this.Fm(),ub:this.get("zooms"),Pj:this.Gd,Je:this.Je,Ke:this.Ke,opacity:this.get("opacity"), yf:this.yf,dc:this.get("detectRetina")&&H.g.dc&&H.g.ja}}}); ',true),_jsload_('overlay', 'H.G.xb=H.G.Pf.extend({j:function(a,b){var c=a.length;this.Xc=Array(c);for(var d,f,g=0;g<c;g+=1)if(d=a[g],f=new H.G.fo(d),this.Xc[g]=f,0===g){if(0===d.length)break;f.zg(d)||b||d.reverse()}else 0!==d.length&&f.zg(d)&&!b&&d.reverse()},Ab:function(){if(0===this.Xc.length)return[Infinity,Infinity,-Infinity,-Infinity];if(!this.Qb){for(var a=this.Xc[0].Ab(),b=1;b<this.Xc.length;b+=1){var c=this.Xc[b].Ab();H.e.Rq(a,c)||H.e.extend(a,c)}this.Qb=a}return this.Qb},wE:function(){return this.Xc},sc:function(){return H.G.$a.nj}, tf:function(a){for(var b=this.Xc,c,d=0,f=b.length;d<f&&(c=b[d].tf(a),0<d&&(c=!c),c);d+=1);return c}});H.G.Rg=H.G.Pf.extend({j:function(a){var b=a.length;this.Kb=Array(b);for(var c=0;c<b;c+=1){var d=new H.G.xb(a[c]);this.Kb[c]=d}},Ab:function(){if(!this.Qb){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=this.Kb,c=0,d=b.length;c<d;c+=1)H.e.extend(a,b[c].Ab());this.Qb=a}return this.Qb},Dm:function(){return this.na},sc:function(){return H.G.$a.lj},mz:function(){return this.Kb},tf:function(a){for(var b=!1,c=0,d=this.Kb.length;c<d;c+=1)if(this.Kb[c].tf(a)){b=!0;break}return b}});H.G.Ee=H.G.Pf.extend({j:function(a){this.na=a},Ab:function(){if(!this.Qb){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=0,c=this.na.length;b<c;b+=1)H.e.gr(a,this.na[b]);this.Qb=a}return this.Qb},Dm:function(){return this.na},sc:function(){return H.G.$a.Uk},pz:function(){return this.na.length},Zj:function(a){for(var b=this.na,c=Infinity,d=0,f=1,g=b.length;f<g;d=f,f+=1)c=Math.min(c,H.Tt.rC(a,[b[d],b[f]]));return Math.sqrt(c)}});H.G.fo=H.G.Ee.extend({sc:function(){return H.G.$a.eo},zg:function(a){for(var b=a.length,c=0,d=a[b-1],f=d[0],d=d[1],g,h,k=0;k<b;k+=1)h=a[k],g=h[0],h=h[1],c+=(g-f)*(h+d),f=g,d=h;return 0<c},tf:function(a){var b=a[0];a=a[1];var c=this.na,d=!1,f,g,h,k,l=c.length,m=0;for(k=l-1;m<l;k=m,m+=1)f=c[m][0],g=c[m][1],h=c[k][0],k=c[k][1],(f=g>a!==k>a&&b<(h-f)*(a-g)/(k-g)+f)&&(d=!d);return d}});H.G.Qg=H.G.Pf.extend({j:function(a){var b=a.length;this.Kb=Array(b);for(var c=0;c<b;c+=1){var d=new H.G.Ee(a[c]);this.Kb[c]=d}},mz:function(){return this.Kb},Ab:function(){if(!this.Qb){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=this.Kb,c=0,d=b.length;c<d;c+=1)H.e.extend(a,b[c].Ab());this.Qb=a}return this.Qb},Dm:function(){return this.na},sc:function(){return H.G.$a.Xk},pz:function(){return this.na.length},Zj:function(a){for(var b=Infinity,c=0,d=this.Kb.length;c<d;c+=1)b=Math.min(b,this.Kb[c].Zj(a)); return b}});H.da.mu=H.da.Sg.extend({j:function(a,b){arguments.callee.ta.apply(this,arguments);this.ly=a;this.C("options",a);this.C("geodesic",a);this.C("path",a);this.og();this.C("display",b);b.a("zoomend",this.eg,this)},geodesicChanged:function(){this.pathChanged()},Ef:function(a){var b=this.get("path"),c=a.Wa(this.map.get("resolution")),d=[],f,g,h;f=0;for(g=b.length;f<g;f+=1)h=this.map.qa(b[f]).add(c),d.push(this.map.Ic(h));0<d.length&&this.set("path",d);if(this.fd&&0<this.fd.length)for(f=0,b=this.fd.length;f< b;f+=1)this.fd[f].Ef(a);this.ly.k("movepoly",{rk:c})},di:function(a){this.get("options");return this.lp()?this.wv(a):this.dp(a)},lp:function(){var a=this.get("options");return a&&!!a.geodesic},getStrokeWeight:function(){return this.get("options").strokeWeight},wv:function(a){if(!a||!a.length)return[];var b,c=[],d,f,g=[],h,k=this.map.get("resolution"),l=this.get("options").geodesicInterpolatePixelWidth||17;c.push(a[0]);g.push(this.zl(a[0]));d=1;for(f=a.length;d<f;d+=1)h=this.zl(a[d]),b=Math.round(Math.abs(h[0]- g[g.length-1][0])/k),b=Math.min(31,Math.round(b/l),Math.round(Math.abs(a[d-1].r-a[d].r))),b=H.A.uz(a[d-1],a[d],b),c.push.apply(c,b),g.push.apply(g,this.dp(b)),c.push(a[d]),g.push(h);return g},Pd:function(){var a=this.get("options"),b=[];b.push(new H.style.Ra.Ug({color:a.strokeColor,opacity:a.strokeOpacity,zIndex:a.zIndex,width:a.strokeWeight,strokeStyle:a.strokeStyle,ib:a.strokeDasharray}));a.isOutline&&b.push(new H.style.Ra.Ug({color:a.outlineColor,opacity:a.strokeOpacity,zIndex:a.zIndex-1,width:a.strokeWeight+ 2,strokeStyle:a.strokeStyle,ib:a.strokeDasharray}));return b},Ja:function(){this.Lf||(this.Lf=this.Pd());return this.Lf},Tj:function(a){var b=[],c=[],d,f,g,h,k,b=a.P;b instanceof H.G.Ee?k=[b]:b instanceof H.G.Qg&&(k=b.Kb);var l=[],m=this.map.get("size").width/2,n=this.map.get("size").height/2;a=0;for(d=k.length;a<d;a+=1)if(f=k[a].na,f.length)for(g=0,h=f.length;g<h;g+=1)if(b=f[g],b=this.Na(b),b[0]=Math.round(b[0]+m),b[1]=Math.round(b[1]+n),0===g)c[0]=NaN,c[1]=NaN,l.push("M"+b[0]+" "+b[1]);else if(b[0]!== c[0]||b[1]!==c[1])l.push("L"+b[0]+" "+b[1]),c[0]=b[0],c[1]=b[1];return l},og:function(){if(this.map&&!this.t){var a=this.map,b=this.get("path"),b=this.t=new H.Nb({name:"polyline-"+H.q.Ya(this),zIndex:this.get("options").zIndex||1,map:a,P:new H.G.Ee(this.di(b)),Ig:this.Ja(),style:this.get("options")});b.gh=this;this.C("resolution",a);this.C("center",a);this.C("coords",b);this.C("style",b);b.fc(["visible","zIndex","strokeWeight"],this)}},pathChanged:function(){var a=this.t,b=this.get("path");if(a)if(this.set("coords", this.di(b)),"canvas"!==this.map.get("renderer")&&a.pa&&a.pa.length)if(b=this.Tj(a),H.g.Ve||b.push("e"),b=b.join(" "),0===b.length){for(var b=0,c=a.pa.length;b<c;b+=1)a.pa[b][0].parentNode.removeChild(a.pa[b][0]);a.pa=null}else for(var c=0,d=a.pa.length;c<d;c+=1)H.g.Ve?a.pa[c][0].setAttribute("d",b):a.pa[c][0].path=b;else this.set("display")},eg:function(){this.lp()&&this.pathChanged()},visibleChanged:function(){if(this.t)if(this.t.pa)for(var a=0;a<this.t.pa.length;a+=1)this.get("visible")?this.t.pa[a][0].style.display= "block":this.t.pa[a][0].style.display="none";else this.set("display")},optionsChanged:function(){if(this.t&&(this.t.style=this.get("options"),this.t.zIndex=this.get("options").zIndex,this.t.wf(),this.t.Jh(this.Pd()),this.t.pa))for(var a=0;a<this.t.pa.length;a+=1)this.t.pa[a][0].parentNode&&this.t.pa[a][0].parentNode.removeChild(this.t.pa[a][0]);this.set("display")}});H.da.xb=H.da.Sg.extend({j:function(a,b){arguments.callee.ta.apply(this,arguments);this.ky=a;this.C("options",a);this.C("path",a);this.og();this.C("display",b)},Ef:function(a){var b=this.get("path");a=a.Wa(this.map.get("resolution"));var c=[],d,f;b.length&&b[0]instanceof H.A&&(b=[b],f=!0);for(var g=0,h=b.length;g<h;g+=1){for(var k=b[g],l=[],m=0,n=k.length;m<n;m+=1)d=this.map.qa(k[m]).add(a),l.push(this.map.Ic(d));c.push(l)}0<c.length&&this.set("path",f?c[0]:c);this.ky.k("movepoly",{rk:a})},di:function(a){a.length&& a[0]instanceof H.A&&(a=[a]);for(var b,c,d=[],f,g=this.map,h=0;h<a.length;h+=1){var k=a[h];f=[];b=0;for(c=k.length;b<c;b+=1){var l=g.qa(k[b]);f.push([l.x,l.y])}d.push(f)}return d},Pd:function(){var a=this.get("options"),b=[],c=new H.style.Ra.Ug({color:a.strokeColor,opacity:a.strokeOpacity,zIndex:a.zIndex,width:a.strokeWeight,strokeStyle:a.strokeStyle,ib:a.strokeDasharray}),a=new H.style.Ra.Rk({color:a.fillColor,opacity:a.fillOpacity,zIndex:a.zIndex});b.push(c);b.push(a);return b},Ja:function(){this.Lf|| (this.Lf=this.Pd());return this.Lf},og:function(){if(this.map&&!this.t){var a=this.map,b=this.get("path"),b=this.t=new H.Nb({name:"polygon-"+H.q.Ya(this),zIndex:this.get("options").zIndex||1,map:a,P:new H.G.xb(this.di(b)),Ig:this.Ja(),style:this.get("options")});b.gh=this;this.C("resolution",a);this.C("center",a);this.C("coords",b);this.C("style",b);b.fc(["visible","zIndex","strokeWeight"],this)}},pathChanged:function(){var a=this.t,b=this.get("path");a&&(this.set("coords",this.di(b)),a.wd=!0,"canvas"!== this.map.get("renderer")&&a.D?(b=this.Uj(a),0===b.length?(a.D.parentNode.removeChild(a.D),a.D=null):H.g.Ve?a.D.setAttribute("d",b.join(" ")):(b.push("e"),a.D.path=b.join(" "))):this.set("display"))},getStrokeWeight:function(){return this.get("options").strokeWeight},visibleChanged:function(){this.t&&(this.t.D?this.get("visible")?this.t.D.style.display="block":this.t.D.style.display="none":this.set("display"))},optionsChanged:function(){this.t&&(this.t.style=this.get("options"),this.t.zIndex=this.get("options").zIndex, this.t.wf(),this.t.Jh(this.Pd()));this.set("display")},Uj:function(a){var b=[NaN,NaN,0],c=[NaN,NaN],d,f,g,h,k,l,m,n=this.map.get("size").width/2,p=this.map.get("size").height/2;a=a.P;a instanceof H.G.xb?d=[a]:a instanceof H.G.Rg&&(d=a.Kb);var q=[];a=0;for(f=d.length;a<f;a+=1)if(b=d[a],g=b.Xc,h=g.length,0<h)for(var r=0;r<h;r+=1){var s;k=g[r].na;l=0;for(m=k.length;l<m;l+=1)if(b=k[l],b=this.Na(b),b[0]=Math.ceil(b[0]+n),b[1]=Math.ceil(b[1]+p),0===l)c[0]=NaN,c[1]=NaN,s=b,q.push("M"+b[0]+" "+b[1]);else if(b[0]!== c[0]||b[1]!==c[1])q.push("L"+b[0]+" "+b[1]),c=b;s&&q.push("L"+s[0]+" "+s[1])}return q}});H.da.Ce=H.da.Sg.extend({j:function(a,b){arguments.callee.ta.apply(this,arguments);this.jy=a;this.C("center",a);this.C("draggable",a);this.C("radius",a);this.C("options",a);this.Pd();this.og();this.C("display",b)},Ef:function(a){var b=this.get("center");a=a.Wa(this.map.get("resolution"));var c=this.map.qa(b).add(a);b instanceof H.A?this.set("center",this.map.Ic(c)):this.set("center",c);this.jy.k("movepoly",{rk:a})},Pd:function(){var a=this.get("options"),b=[],a=new H.style.Ra.Ce({strokeColor:a.strokeColor, jb:a.strokeOpacity,zIndex:a.zIndex,Eb:a.strokeWeight,strokeStyle:a.strokeStyle,fillColor:a.fillColor,ob:a.fillOpacity,ib:a.strokeDasharray});b.push(a);return b},Ja:function(){this.Lf||(this.Lf=this.Pd());return this.Lf},og:function(){if(this.map&&!this.t){var a=this.map,b=a.qa(this.get("center")),b=this.t=new H.Nb({Fl:!0,name:"circle-"+H.q.Ya(this),zIndex:this.get("options").zIndex||1,map:a,P:new H.G.wb([b.x,b.y]),Ig:this.Ja(),style:this.get("options")});b.gh=this;this.C("resolution",a);this.C("coords", b);this.C("style",b);b.C("visible",this,!0);b.fc(["radius","center","resolution","zIndex","strokeWeight"],this)}},getStrokeWeight:function(){return this.get("options").strokeWeight},centerChanged:function(){var a=this.t,b=this.map.qa(this.get("center"));a&&(a.P.na=[b.x,b.y],this.set("coords",[b.x,b.y]),this.wd=!0,a.D?this.Ns():this.set("display"))},visibleChanged:function(){this.t&&(this.t.D?this.get("visible")?this.t.D.style.display="block":this.t.D.style.display="none":this.set("display"))},optionsChanged:function(){this.t&& (this.t.style=this.get("options"),this.t.zIndex=this.get("options").zIndex,this.t.wf(),this.t.wd=!0,this.t.Jh(this.Pd()),this.set("display"))},lm:function(a){var b=[],b=[],c,b=a.P;b instanceof H.G.wb&&(c=[b]);var d=this.map.get("crs").Sc(Math.floor(this.map.get("zoom"))),f=this.map.get("size").width/2,g=this.map.get("size").height/2,b=this.Na(c[0].na);b[0]=Math.round(b[0]+f);b[1]=Math.round(b[1]+g);a=a.get("remain")?5.23:this.get("radius")/(d*Math.cos(Math.PI*this.get("center").B/180));return b=["M", b[0],b[1]-a,"A",a,a,0,1,1,b[0]-0.01,b[1]-a,"Z"].join(" ")},Ns:function(){var a=this.t,b=this.get("radius");if("canvas"!==this.map.get("renderer")&&a.D)if(H.g.Ve)b=this.lm(a),a.D.setAttribute("d",b);else{b=this.map.get("crs").Sc(Math.floor(this.map.get("zoom")));b=this.get("radius")/(b*Math.cos(Math.PI*this.get("center").B/180));a.D.style.width=Math.round(2*b);a.D.style.height=Math.round(2*b);var c=this.map.get("size").width/2,d=this.map.get("size").height/2,f=this.Na(a.P.na);f[0]=Math.round(f[0]+ c);f[1]=Math.round(f[1]+d);a.D.style.top=Math.round(f[1]-b);a.D.style.left=Math.round(f[0]-b)}else this.set("display")},radiusChanged:function(){var a=this.t,b=this.get("radius");a&&(a.wd=!0,a.k("rad",{tk:b}),this.Ns())}}); ',true),_jsload_('sync', 'var za=window[H.o.ti];za?za():document.body||setTimeout(function(){var a=window[H.o.ti];a&&a()},100); ',true)})()